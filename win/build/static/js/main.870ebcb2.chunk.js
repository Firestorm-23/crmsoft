(this.webpackJsonpcrmsoft=this.webpackJsonpcrmsoft||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(19),s=n(136),i=Object(s.b)({palette:{background:{paper:"#fff",default:"#fff"},primary:{main:"#2196f3",light:"#4dabf5",dark:"#1769aa",contrastText:"#fff"},secondary:{light:"#039be5",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}},typography:{button:{textTransform:"none"}}});i.typography.h3=Object(a.a)({fontSize:"1.2rem","@media (min-width:600px)":{fontSize:"1.5rem"}},i.breakpoints.up("md"),{fontSize:"2.4rem"}),t.default=i},106:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(16),d=n(20),p=n(29),u=n(2),j=n(15),m=n(41),h=n.n(m),v=n(231),O=n(0),f=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={FetchedData:[],IsDialogOpen:!1,IsAlertDialogOpen:!1,SCstObj:{cstName:""}},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;!0===Object(u.isEmpty)(e.FSelectedRecord)&&!1===Object(u.isEmpty)(e.props.cstId)&&-1!==e.props.cstId&&e.pvtFetchCustomerById(e.props.cstId)}},{key:"pvtFetchCustomerById",value:function(e){var t,n=this;t=Object(u.BaseUrl)()+"customers/"+e;var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}};fetch(t,a).then((function(e){return e.json()})).then((function(e){!1!==e.status&&n.HandleOnSelect(e)}),(function(e){}))}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(O.jsx)(l.a,{onClick:function(){e.HandleOnSelect()},color:"primary",variant:"contained",size:"small",startIcon:Object(O.jsx)(h.a,{}),children:"Select"})}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(O.jsx)(v.default,{IsSelectMode:!0,HandleOnSelect:function(t){return e.HandleOnSelect(t)},SelectedRecord:function(t){return e.FSelectedRecord=t}})}},{key:"HandleOnSelect",value:function(e){var t=this,n=e||t.FSelectedRecord;if(!0===Object(u.isEmpty)(n))return t.FWarningText="Select a Customer and try again.",void t.setState({IsAlertDialogOpen:!0});t.props.SetCstId(n.id||-1),t.setState({IsDialogOpen:!1,SCstObj:n})}},{key:"pvtGetDialog",value:function(){var e=this;return!1===e.state.IsDialogOpen?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(j.default,{IsDialogOpen:e.state.IsDialogOpen,OnDialogClose:function(){return e.setState({IsDialogOpen:!1})},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:e.props.PFieldLbl||"Select Customer",DialogLoading:!1,IsWindow:!0})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.a,{style:{padding:"5px 5px 30px 20px",margin:"0px 20px 0 0"},variant:"outline",children:[Object(O.jsx)("h4",{children:!1!==e.props.PCanShowHeaderLabel&&(e.props.PFieldLbl||"Select Customer")}),Object(O.jsx)(p.a,{label:e.props.PFieldLbl||"Select Customer",required:!0,onChange:function(t){var n=e.state.SCstObj||{};n.cstName=t.currentTarget.value,e.setState({SCstObj:n})},value:e.state.SCstObj.cstName,InputProps:{readOnly:!0},onClick:function(){e.setState({IsDialogOpen:!0})},margin:"dense",style:{margin:"-10px 0 0 0"}})]}),e.pvtGetDialog(),Object(O.jsx)(j.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(O.jsx)(O.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=f},107:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n.n(l),p=n(16),u=n(20),j=n(158),m=n(2),h=n(15),v=n(41),O=n.n(v),f=n(108),b=n(8),g=n(36),x=n(59),y=n.n(x),S=n(0),I=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(s.a)(this,n),a=t.call(this,e);var i=Object(r.a)(a);return i.state={IsDialogOpen:!1,IsAlertDialogOpen:!1,SArrProducts:[],GridColumns:[],GridEditRowsModel:{},IsSnackOn:!1},i.FDataGrid=d.a.createRef(),a}return Object(i.a)(n,[{key:"ResetFields",value:function(){this.setState({SArrProducts:[],GridEditRowsModel:{}})}},{key:"componentDidMount",value:function(){var e=this;e.pvtDefineProperties(),e.FGrandTotal=0,e.FIsEditMode=!1,!1===Object(m.isEmpty)(e.props.PProductsArr)&&(e.FIsEditMode=!0,e.props.PProductsArr.forEach((function(t){e.pvtFetchProductsStockById(Object(m.BaseUrl)()+"products/"+t.productId,(function(n){t.product=n||{},e.pvtFetchProductsStockById(Object(m.BaseUrl)()+"stocks/"+t.stockId,(function(n){(n=n||{}).sellingPrice=t.soldPrice,t.stock=n,e.HandleOnSelect(t)}))}))})))}},{key:"componentDidUpdate",value:function(e,t,n){e.PInvoiceType!==this.props.PInvoiceType&&this.pvtDefineProperties()}},{key:"pvtDefineProperties",value:function(){var e=this;e.FProductColumns=[],e.FStockColumns=[],e.setState({SArrProducts:[],GridColumns:[]}),e.pvtFetchProductsFields(Object(b.GenConstants)().PRODUCT_CSTM_FIELDS),e.pvtFetchProductsFields(Object(b.GenConstants)().STOCK_CSTM_FIELDS)}},{key:"pvtFetchProductsStockById",value:function(e,t){var n=this,a=e,s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(m.tsGetProjectId)()}};fetch(a,s).then((function(e){return e.json()})).then((function(e){if(!0===e.error)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0});!1===Object(m.isEmpty)(t)&&t(e)}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchProductsFields",value:function(e){var t,n=this,a=n.props.PInvoiceType;if(!0!==Object(m.isEmpty)(a)){t=Object(m.BaseUrl)()+"customFields/type/"+e+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(m.tsGetProjectId)()}};fetch(t,s).then((function(e){return e.json()})).then((function(t){if(!0===t.error)return n.FWarningText=t.message,void n.setState({IsAlertDialogOpen:!0});e===Object(b.GenConstants)().PRODUCT_CSTM_FIELDS?n.FProductColumns=t||[]:n.FStockColumns=t||[],n.pvtLoadGridColumns()}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}}},{key:"pvtLoadGridColumns",value:function(){var e,t=this,n=[],a=t.FProductColumns.concat(t.FStockColumns);n=[{field:"productName",headerName:"Particulars",headerClassName:"tsGridHeader",minWidth:150,flex:1,color:"primary"},{field:"hsn",headerName:"HSN",headerClassName:"tsGridHeader",width:110,color:"primary"}],a.forEach((function(t){if(!0===t.isSystemField)return!0;(e={}).headerName=t.fieldName,e.field=t.columnName,e.headerClassName="tsGridHeader",e.minWidth=130,n.push(e)})),n.push({field:"gst",headerName:"GST %",headerClassName:"tsGridHeader",width:110,color:"primary",type:"number"},{field:"qty",headerName:"Quantity",headerClassName:"tsGridHeader",width:150,color:"primary",type:"number",editable:!0},{field:"sellingPrice",headerName:"Price",headerClassName:"tsGridHeader",width:110,color:"primary",type:"number",editable:!0},{field:"total",headerName:"Total",headerClassName:"tsGridHeader",width:110,type:"number",color:"primary",renderCell:function(e){return(e.getValue(e.id,"qty")||1)*e.getValue(e.id,"sellingPrice")}}),t.setState({GridColumns:n})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(S.jsx)(p.a,{onClick:function(){e.HandleOnSelect()},color:"primary",variant:"contained",size:"small",startIcon:Object(S.jsx)(O.a,{}),children:"Select"})}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(S.jsx)(f.default,{IsSelectMode:!0,HandleOnSelect:function(t){return e.HandleOnSelect(t)},SelectedRecord:function(t){return e.FSelectedRecord=t},PInvoiceType:e.props.PInvoiceType})}},{key:"HandleOnSelect",value:function(e){var t=this,n=Object(m.cloneVar)(e)||t.FSelectedRecord;if(!0===Object(m.isEmpty)(n))return t.FWarningText="Select a Product and try again.",void t.setState({IsAlertDialogOpen:!0});var s=t.state.SArrProducts||[],i=[],r=n.stock.id;s.forEach((function(e){if(e.stockId===r)return!0;i.push(e)})),n.stock.id="";var o=Object(a.a)(Object(a.a)({},n.product),n.stock);if(o.qty=n.qty||1,o.rQty=n.stock.qty,!0===t.FIsEditMode&&(o.rQty+=o.qty),o.rQty<1&&!0!==t.props.PIsReadOnlyMode)return t.FWarningText="Selected Product is out of stock.",void t.setState({IsAlertDialogOpen:!0});o.stockId=r,o.id=r,i.push(o),t.FGrandTotal+=o.sellingPrice*o.qty,t.props.SetGrandTotal(t.FGrandTotal),!1===Object(m.isEmpty)(t.props.SetProducts)&&t.props.SetProducts(i),t.setState({IsDialogOpen:!1,SArrProducts:i||[]})}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(m.isEmpty)(e.FSelectedRecordInvoice))return e.FWarningText="Select a product and try again.",void e.setState({IsAlertDialogOpen:!0});var t=e.state.SArrProducts||[],n=[],a=e.FSelectedRecordInvoice.stockId,s=0;t.forEach((function(e){if(e.stockId===a)return!0;s+=e.sellingPrice*e.qty,n.push(e)})),e.FGrandTotal=s,e.props.SetGrandTotal(e.FGrandTotal),e.FSelectedRecordInvoice=null,e.setState({SArrProducts:n||[]})}},{key:"GetProductJson",value:function(){var e=[],t={};return(this.state.SArrProducts||[]).forEach((function(n){(t={}).productId=n.productId,t.stockId=n.stockId,t.gst=n.gst,t.price=n.sellingPrice,t.qty=n.qty,e.push(t)})),e}},{key:"pvtGetDialog",value:function(){var e=this;return!1===e.state.IsDialogOpen?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(h.default,{IsDialogOpen:e.state.IsDialogOpen,OnDialogClose:function(){return e.setState({IsDialogOpen:!1})},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:"Select Product",DialogLoading:!1,IsWindow:!0})}},{key:"pvtGetToolBar",value:function(){var e=this;return Object(S.jsx)("div",{style:{margin:"20px 20px 0 20px"},className:"tsHBox",children:Object(S.jsxs)(u.a,{variant:"outline",children:[Object(S.jsx)(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.setState({IsDialogOpen:!0})},children:"Add Product"}),Object(S.jsx)(p.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(S.jsx)(y.a,{}),children:"Delete Product"})]})})}},{key:"pvtGetReadOnlyComponent",value:function(){var e,t=this,n=t.state.GridColumns||[],a=t.state.SArrProducts||[],s=[],i=[];n.forEach((function(e,t){s.push(Object(S.jsx)("th",{className:"tsInvoiceViewTableTh",children:e.headerName},"col"+t))})),a.forEach((function(t,a){e=[],n.forEach((function(n,a){"total"===n.field&&(t[n.field]="Rs."+t.qty*t.sellingPrice),e.push(Object(S.jsx)("td",{className:"tsInvoiceViewTableTd",children:t[n.field]},"coltd"+a))})),i.push(Object(S.jsx)("tr",{children:e},"tblrow"+a))}));if(a.length<3)for(var r=0;r<3-a.length;r++){e=[];for(var o=0;o<n.length;o++)e.push(Object(S.jsx)("td",{className:"tsInvoiceViewTableTd",children:"\xa0"},"coltdempty"+o));i.push(Object(S.jsx)("tr",{children:e},"tblrowempty"+r))}var c={overflowX:"auto"};return!0===t.props.PIsPrintMode&&(c={}),Object(S.jsx)("div",{style:c,children:Object(S.jsxs)("table",{className:"tsInvoiceViewTable",children:[Object(S.jsx)("thead",{children:Object(S.jsx)("tr",{children:s},"throw")}),Object(S.jsx)("tbody",{children:i})]})})}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecordInvoice=e}},{key:"render",value:function(){var e=this;return!0===e.props.PIsReadOnlyMode?e.pvtGetReadOnlyComponent():Object(S.jsxs)(S.Fragment,{children:[e.pvtGetToolBar(),Object(S.jsx)(g.a,{columns:e.state.GridColumns||[],rows:e.state.SArrProducts||[],pagination:!0,csvOptions:{allColumns:!0},hideFooter:!0,ref:e.FDataGrid,density:"compact",style:{margin:"10px 20px 0 20px",minHeight:200},onCellEditCommit:function(t){var n,s=e.state.SArrProducts,i=[],r=0;s.forEach((function(s){(n=Object(a.a)({},s)).id===t.id&&(n[t.field]=t.value),n.qty<=0&&(n.qty=1),n.qty>n.rQty&&(n.qty=n.rQty,e.FSnackMsg="You have only "+n.qty+" items left in stock.",e.setState({IsSnackOn:!0})),r+=n.qty*n.sellingPrice,i.push(n)})),e.FGrandTotal=r,e.props.SetGrandTotal(r),e.setState({SArrProducts:i})},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}}),e.pvtGetDialog(),Object(S.jsx)(h.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(S.jsx)(S.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(S.jsx)(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.state.IsSnackOn,onClose:function(){return e.setState({IsSnackOn:!1})},message:e.FSnackMsg},"verticalhorizontalSnack")]})}}]),n}(l.Component);t.default=I},108:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(16),p=n(20),u=n(91),j=n(44),m=n(45),h=n(2),v=n(152),O=n.n(v),f=n(60),b=n.n(f),g=n(36),x=n(233),y=n(52),S=n.n(y),I=n(59),D=n.n(I),C=n(15),F=n(8),T=n(54),N=n(234),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,StockRecord:{},IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1,ColumnFields:r.pvtGetGridColumn(),SInvoiceType:"",SProduct:{}},r.F_callBackOnCnfrmTrue=null,r.FDataGrid=l.a.createRef(),s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtRefresh()}},{key:"pvtRefresh",value:function(){var e=this,t={FetchedData:null};e.FSelectedRecord=null,!0===e.props.IsSelectMode&&(t={FetchedData:null,SInvoiceType:e.props.PInvoiceType||Object(F.GenConstants)().PESTICIDE_ACT_CODE}),!1===Object(h.isEmpty)(e.props.PProductId)&&(!0===Object(h.isObjEmpty)(e.state.SProduct)?t.SProduct={id:e.props.PProductId}:t.SProduct=e.state.SProduct,t.SInvoiceType=e.props.PInvoiceType),e.setState(t),e.pvtFetchStocksFields(e.props.PInvoiceType)}},{key:"pvtFetchStocksFields",value:function(e){var t,n=this,a=e||n.state.SInvoiceType;if(!0!==Object(h.isEmpty)(a)){t=Object(h.BaseUrl)()+"customFields/type/"+Object(F.GenConstants)().STOCK_CSTM_FIELDS+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(t,s).then((function(e){return e.json()})).then((function(e){"error"!==e.status?(n.setState({ColumnFields:n.pvtGetGridColumn(e)}),n.pvtFetchStocks(n.state.SProduct.id)):n.setState({ColumnFields:[]})}),(function(e){n.setState({ColumnFields:[]})}))}}},{key:"pvtFetchStocks",value:function(e){var t,n,a=this,s=e;if(Object(h.isEmpty)(s))return n={FetchedData:[]},void a.setState(n);t=Object(h.BaseUrl)()+"stocks/byproductids/"+s;var i={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(t,i).then((function(e){return e.json()})).then((function(e){!1!==e.success?a.setState({FetchedData:e}):a.setState({FetchedData:[]})}),(function(e){a.setState({FetchedData:[]})}))}},{key:"pvtGetGridColumn",value:function(e){var t=[],n={};return t=[{field:"qty",headerName:"Remaining Quantity",headerClassName:"tsGridHeader",minWidth:210,flex:1,color:"primary",fieldType:Object(F.GenConstants)().SYSTEM_FIELD,isRequired:!0,isField:!1},{field:"tqty",headerName:"Total Purshased Quantity",headerClassName:"tsGridHeader",minWidth:240,flex:1,color:"primary",fieldType:Object(F.GenConstants)().FIELD_NUMBER,isRequired:!0},{field:"costPrice",headerName:"Cost Price",headerClassName:"tsGridHeader",minWidth:200,color:"primary",fieldType:Object(F.GenConstants)().FIELD_NUMBER,isRequired:!0,hide:!0},{field:"sellingPrice",headerName:"Selling Price",headerClassName:"tsGridHeader",minWidth:200,color:"primary",fieldType:Object(F.GenConstants)().FIELD_NUMBER,isRequired:!0}],!1===Object(h.isEmpty)(e)&&(e=e||[]).forEach((function(e){if(!0===e.isSystemField)return!0;(n={}).headerName=e.fieldName,n.field=e.columnName,n.headerClassName="tsGridHeader",n.minWidth=200,n.fieldType=e.fieldType,n.isRequired=1===e.isRequired,t.push(n)})),t}},{key:"pvtLoadDialog",value:function(){var e=this;return!0===e.state.CanInvokeDialogOpen?Object(k.jsx)(x.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateStockStore:function(t){return e.UpdateStockStore(t)},StockRecord:e.state.StockRecord||{},ColumnFields:e.state.ColumnFields||[],InvoiceType:e.state.SInvoiceType,ProductId:e.state.SProduct.id,ProductDispName:e.state.SProduct.productName}):Object(k.jsx)(k.Fragment,{})}},{key:"pvtEditStock",value:function(e){if(!0!==Object(h.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,StockRecord:t})}}},{key:"UpdateStockStore",value:function(e){var t=this,n=[],a=!0;if(!0!==Object(h.isEmpty)(e)){if((t.state.FetchedData||[]).forEach((function(t){if(t.id===e.id)return n.push(e),a=!1,!0;n.push(t)})),!0===a&&n.push(e),!0===t.props.IsSelectMode){var s={stock:e,product:t.state.SProduct,stockColumns:t.state.ColumnFields};t.props.HandleOnSelect(s)}t.setState({FetchedData:n})}}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(h.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Stock record and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditStock(e.FSelectedRecord)}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(h.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a record and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this stock?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtDelete",value:function(){var e,t,n=this,a=this,s=[],i=[];if(!0===Object(h.isEmpty)(a.FSelectedRecord))return a.FWarningText="Select a Stock and try again.",void a.setState({IsAlertDialogOpen:!0});t=Object(h.BaseUrl)()+"stocks/"+a.FSelectedRecord.id,s=a.state.FetchedData||[],a.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){if(!1===e.success)return a.FWarningText=e.message,void a.setState({FetchedData:s,IsCnfrmDialogOpen:!1,IsAlertDialogOpen:!0});a.FSelectedRecord=null,s.forEach((function(t){if(t.id===e.id)return!0;i.push(t)})),a.setState({FetchedData:i,IsCnfrmDialogOpen:!1})}),(function(e){n.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnRowClick",value:function(e){var t=this;if(t.FSelectedRecord=e,!0===t.props.IsSelectMode){var n={stock:e,product:t.state.SProduct,stockColumns:t.state.ColumnFields};t.props.SelectedRecord(n)}}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(d.a,{onClick:function(){!1===Object(h.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(k.jsx)(k.Fragment,{})}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){var t=this;t.setState({SInvoiceType:e,SProduct:{},FetchedData:[],ColumnFields:[]}),t.FSelectedRecord=null,t.pvtFetchStocksFields(e)}},{key:"pvtHandleOnProductChange",value:function(e){var t=this;t.setState({SProduct:e}),t.FSelectedRecord=null,t.pvtFetchStocks(e.id)}},{key:"pvtGetHeader",value:function(){return!0===this.props.IsSelectMode?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(p.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(k.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(k.jsx)(O.a,{})}),Object(k.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(k.jsx)("div",{style:{fontSize:"20px"},children:" Manage Stocks "}),Object(k.jsx)(p.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Create new stock, edit stock details, remove stock, etc."})]})]})}},{key:"pvtGetInvoiceType",value:function(){var e=this;return!0===e.props.IsSelectMode?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(T.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Stock Type"})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0",minWidth:800},children:[e.pvtGetHeader(),Object(k.jsxs)(u.a,{style:{margin:"0 0 0 0px"},component:"div",variant:"dense",children:[e.pvtGetInvoiceType(),Object(k.jsx)("div",{style:{margin:"0 0 0 20px"},children:Object(k.jsx)(N.default,{Value:e.state.SProduct,InvoiceType:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnProductChange(t)},EmptyText:"Select Product"})}),Object(k.jsx)(d.a,{size:"small",style:{margin:"0 0 0 20px"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){if(!0===Object(h.isEmpty)(e.state.SProduct.id))return e.FWarningText="Select a Product and try again.",void e.setState({IsAlertDialogOpen:!0});e.setState({CanInvokeDialogOpen:!0,StockRecord:{}})},children:"Add Stock"}),Object(k.jsx)(d.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(k.jsx)(S.a,{}),children:"Edit"}),Object(k.jsx)(d.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(k.jsx)(D.a,{}),children:"Delete"}),Object(k.jsx)(j.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(k.jsx)(m.a,{title:"Refresh",children:Object(k.jsx)(b.a,{})})})]}),Object(k.jsx)("div",{style:{margin:"5px 20px 20px 20px"},className:"flex1",children:Object(k.jsx)(g.a,{ref:e.FDataGrid,style:{minHeight:"400px"},columns:e.state.ColumnFields,rows:e.state.FetchedData||[],pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:g.b},density:"compact",onCellDoubleClick:function(t){if(!0===e.props.IsSelectMode){var n={stock:t.row,product:e.state.SProduct,stockColumns:e.state.ColumnFields};e.props.HandleOnSelect(n)}else e.pvtEditStock(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),e.pvtLoadDialog(),Object(k.jsx)(C.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(k.jsx)(C.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=P},109:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(62),d=n(29),p=n(16),u=n(636),j=n(437),m=n(15),h=n(51),v=n(238),O=n(36),f=n(8),b=n(2),g=n(54),x=n(414),y=n.n(x),S=n(413),I=n.n(S),D=n(0),C=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:[],SColumnData:[],fromDate:"",toDate:"",SInvoiceType:Object(f.GenConstants)().PESTICIDE_ACT_CODE,IsAlertDialogOpen:!1,SLoading:!1,IsProductDialogOpen:!1,SIsChartView:!1},r.FWarningText="",s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;e.pvtSetDefaultValuesInFilter(),setTimeout((function(){e.pvtGenerateReport()}),100)}},{key:"pvtSetDefaultValuesInFilter",value:function(){this.setState({toDate:Object(b.tsGetDefaultToDate)(),fromDate:Object(b.tsGetDefaultFromDate)(),SIsChartView:this.props.PIsChartView||!1})}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtValidate",value:function(){var e=this;return!0===Object(b.isEmpty)(e.state.fromDate)?(e.FWarningText="Enter from date and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(b.isEmpty)(e.state.toDate)?(e.FWarningText="Enter to date and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!(new Date(e.state.fromDate)>new Date(e.state.toDate))||(e.FWarningText="From date must be less than than To date.",e.setState({IsAlertDialogOpen:!0}),!1)}},{key:"pvtGenerateReport",value:function(){var e=this;if(!1!==e.pvtValidate()){e.FSelectedRecord=null,e.setState({FetchedData:null});var t={fromDate:e.state.fromDate,toDate:e.state.toDate,invoiceType:e.state.SInvoiceType};e.props.PFetchProductDetails(t,(function(t,n){!1!==t.success?e.props.PFetchProductsFields(e.state.SInvoiceType,(function(n){!1!==n.status?e.setState({FetchedData:t,SColumnData:e.props.PGetGridColumn(n)}):e.setState({FetchedData:[]})})):e.setState({FetchedData:[]})}))}}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){this.setState({SInvoiceType:e}),this.FSelectedRecord=null}},{key:"pvtHandleOnRowDoubleClick",value:function(e){var t=this;!1!==Object(b.isEmpty)(t.props.POnDblClick)?t.setState({IsProductDialogOpen:!0}):t.props.POnDblClick(e)}},{key:"pvtGetProductDialog",value:function(){var e=this;return!1===e.props.CanShowDetailedView||!1===e.state.IsProductDialogOpen||!0===Object(b.isObjEmpty)(e.FSelectedRecord)?Object(D.jsx)(D.Fragment,{}):Object(D.jsx)(m.default,{IsDialogOpen:e.state.IsProductDialogOpen,OnDialogClose:function(){return e.setState({IsProductDialogOpen:!1})},DialogContent:e.props.PGetDialogContent(e.FSelectedRecord),DialogActions:function(){},DialogHeader:"Quick Product Info",DialogLoading:!1,IsWindow:!0})}},{key:"pvtGetChart",value:function(){return Object(D.jsx)(l.a,{style:{padding:"20px 20px 20px 0"},className:"flex1 tsHBox",variant:"outlined",children:Object(D.jsx)(v.default,{PRecords:this.state.FetchedData||[],PChartConfig:this.props.PChartConfig})})}},{key:"pvtGetGridView",value:function(){var e=this;return Object(D.jsx)(O.a,{columns:e.state.SColumnData||[],rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,density:"compact",onCellDoubleClick:function(t){return e.pvtHandleOnRowDoubleClick(t.row)},components:{Toolbar:O.b},hideFooter:!0,onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(D.jsxs)(l.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(D.jsx)("div",{style:{margin:"45px 0 0 20px"},children:Object(D.jsx)(g.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Product Type",CanAddPsudoNode:e.props.PCanAddPsudoNodeInInvoiceType||!1})}),Object(D.jsx)(d.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.fromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({fromDate:t.currentTarget.value})}}),Object(D.jsx)(d.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.toDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({toDate:t.currentTarget.value})}}),Object(D.jsx)(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 30px"},onClick:function(){e.pvtGenerateReport()},children:"Generate"}),Object(D.jsx)("div",{className:"flex1"}),Object(D.jsx)("div",{style:{margin:"33px 20px 0 10px"},children:Object(D.jsxs)(u.a,{value:e.state.SIsChartView?"chart":"grid",onChange:function(){return e.setState({SIsChartView:!e.state.SIsChartView})},exclusive:!0,size:"small",children:[Object(D.jsx)(j.a,{title:"Switch to Grid View",value:"grid",children:Object(D.jsx)(I.a,{})}),Object(D.jsx)(j.a,{title:"Switch to Chart View",value:"chart",children:Object(D.jsx)(y.a,{})})]})})]}),Object(D.jsx)("div",{style:{margin:"5px 20px 0 20px"},className:"flex1 tsVBox",children:e.state.SIsChartView?e.pvtGetChart():e.pvtGetGridView()}),Object(D.jsx)(m.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(D.jsx)(D.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(D.jsx)(h.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}}),e.pvtGetProductDialog()]})}}]),n}(c.Component);t.default=C},110:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n.n(l),p=n(16),u=n(15),j=n(41),m=n.n(j),h=n(2),v=n(8),O=n(240),f=n(241),b=n(0),g=function(e){Object(o.a)(l,e);var t=Object(c.a)(l);function l(e){var n;Object(s.a)(this,l),n=t.call(this,e);var a=Object(r.a)(n);return a.state={IsAlertDialogOpen:!1,SIsDialogLoading:!1,SProductsArr:[],SPaymentFields:{},SCustomerData:{},SInvoiceTpl:Object(b.jsx)(b.Fragment,{})},a.FWarningText="",a.FInvoiceRef=d.a.createRef(),a.FProjectDataFetchedForActCode="",n}return Object(i.a)(l,[{key:"componentDidMount",value:function(){var e=this,t=e.props.PSelectedRecord||{};if(e.FIsReadOnly=e.props.PIsReadOnlyMode,e.FInvoiceRecord=t,!0===Object(h.isEmpty)(e.FIsReadOnly)&&(e.FIsReadOnly=!0),!1===Object(h.isEmpty)(t.invoiceType)&&!1===Object(h.isEmpty)(t.invoiceNo))return e.pvtFetchPaymentDetails(t.invoiceType,t.invoiceNo),void e.pvtFetchInvoicesProductByTypeAndId(t.invoiceType,t.invoiceNo);e.pvtFetchInvoice()}},{key:"pvtFetchInvoice",value:function(){var e=this,t=e.props.match&&e.props.match.params||e.props.PInvoiceNoAndType||{},n=Object(h.BaseUrl)()+"supplierinvoices/singleInvoice/type/"+t.invoiceType+"/invoiceNo/"+t.invoiceNo,a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(n,a).then((function(e){return e.json()})).then((function(t){if(!1===t.status)return e.FWarningText=t.message,void e.setState({IsAlertDialogOpen:!0});e.FInvoiceRecord=t||{},e.pvtFetchPaymentDetails(t.invoiceType,t.invoiceNo)}),(function(t){e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchPaymentDetails",value:function(e,t){var n,a=this;e=e||a.state.SInvoiceType,!1===Object(h.isEmpty)(e)&&e!==Object(v.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(n=Object(h.BaseUrl)()+"payments/type/"+e+"/invoiceNo/"+t+"/isPurchaserInvoice/1"),a.setState({SIsDialogLoading:!0});var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(n,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return a.FWarningText=e.message,void a.setState({IsAlertDialogOpen:!0});a.pvtFetchCustomersFields(),a.setState({SPaymentFields:e||{},SIsDialogLoading:!1})}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchInvoicesProductByTypeAndId",value:function(e,t){var n=this,a=Object(h.BaseUrl)()+"supplierinvoices";e=e||n.state.SInvoiceType,!1===Object(h.isEmpty)(e)&&e!==Object(v.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(a=Object(h.BaseUrl)()+"supplierinvoices/type/"+e+"/invoiceNo/"+t),n.setState({SIsDialogLoading:!0});var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(a,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0});n.setState({SProductsArr:e||[],SIsDialogLoading:!1})}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchCustomersFields",value:function(){var e,t=this,n=this;e=Object(h.BaseUrl)()+"customFields/type/"+Object(v.GenConstants)().CUSTOMER_CSTM_FIELDS;var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(e,a).then((function(e){return e.json()})).then((function(e){"error"!==e.status?n.pvtFetchCustomers(e):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}},{key:"pvtFetchCustomers",value:function(e){var t,n=this,a=this,s=a.FInvoiceRecord.cstId;t=Object(h.BaseUrl)()+"customers/"+s;var i={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(t,i).then((function(e){return e.json()})).then((function(t){if("error"!==t.status){var n={cstFields:e,cstFieldValues:t};a.setState({SCustomerData:n})}else a.setState({FetchedData:[]})}),(function(e){n.setState({FetchedData:[]})}))}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this,t=Object(a.a)({},e.FInvoiceRecord);return t.products=t.products||e.state.SProductsArr||[],t.customerData=e.state.SCustomerData||{},Object(h.isEmpty)(t.products)||0===t.products.length||Object(h.isObjEmpty)(e.state.SPaymentFields)||Object(h.isObjEmpty)(t.customerData)?Object(b.jsx)(b.Fragment,{}):(t.creditedAmount=e.state.SPaymentFields.total-e.state.SPaymentFields.credit,0===e.state.SPaymentFields.credit&&(t.creditedAmount=e.state.SPaymentFields.total+e.state.SPaymentFields.debit),t.mode=e.state.SPaymentFields.mode,t.remark=e.state.SPaymentFields.remark,t.strInvoiceNo=t.products[0].strInvoiceNo,!0===e.FIsReadOnly?!0===e.props.PIsDetailedView?Object(b.jsx)(f.default,{PSelectedRecord:t}):(e.pvtLoadTemplate(t),e.state.SInvoiceTpl):Object(b.jsx)(O.default,{PIsOpenInDialog:!0,ref:e.FInvoiceRef,PSelectedRecord:t}))}},{key:"pvtFetchProjectDetails",value:function(e){var t;t=Object(h.BaseUrl)()+"project";var n={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(t,n).then((function(e){return e.json()})).then((function(t){!1!==t.status&&!1===Object(h.isEmpty)(e)&&e(t)}),(function(e){}))}},{key:"pvtLoadTemplate",value:function(e){var t=this,a=t.props.PTplActionCode||t.FProjectDataFetchedForActCode;if(!1!==Object(h.isEmpty)(a)||t.FProjectDataFetchedForActCode!==a){t.pvtFetchProjectDetails((function(s){!0===Object(h.isEmpty)(a)&&(a=s.defaultInvoice),t.FProjectDataFetchedForActCode=a;var i=n(612)("./"+a).default;t.setState({SInvoiceTpl:Object(b.jsx)(i,{PInvoice:e,PProjectData:s})})}))}}},{key:"pvtGetDialogAction",value:function(){var e=this;if(!0!==e.FIsReadOnly)return Object(b.jsx)(p.a,{style:{margin:"0 0 0 10px"},size:"small",variant:"contained",color:"primary",startIcon:Object(b.jsx)(m.a,{}),disableElevation:!0,onClick:function(){e.FInvoiceRef.current.EditInvoice(e.props.OnDialogClose)},children:"Save and Print Invoice"})}},{key:"render",value:function(){var e=this,t=e.props.match&&e.props.match.params||e.props.PInvoiceNoAndType||{},n=e.FInvoiceRecord||{};return!1===Object(h.isEmpty)(t.invoiceType)&&!1===Object(h.isEmpty)(t.invoiceNo)&&!1===Object(h.isEmpty)(n)?e.pvtGetDialogContent():Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(h.tsGetInvoiceDispNameByActionCode)(n.invoiceType)+" - Inovice No "+Object(h.tsGetInvoiceDispNoByInvoiceNo)(n.invoiceNo,n.invoiceType,1),DialogLoading:e.state.SIsDialogLoading,IsWindow:!0}),Object(b.jsx)(u.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(b.jsx)(b.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),l}(l.Component);t.default=g},111:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n.n(l),p=n(16),u=n(20),j=n(158),m=n(2),h=n(15),v=n(41),O=n.n(v),f=n(108),b=n(8),g=n(36),x=n(59),y=n.n(x),S=n(0),I=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(s.a)(this,n),a=t.call(this,e);var i=Object(r.a)(a);return i.state={IsDialogOpen:!1,IsAlertDialogOpen:!1,SArrProducts:[],GridColumns:[],GridEditRowsModel:{},IsSnackOn:!1},i.FDataGrid=d.a.createRef(),a}return Object(i.a)(n,[{key:"ResetFields",value:function(){this.setState({SArrProducts:[],GridEditRowsModel:{}})}},{key:"componentDidMount",value:function(){var e=this;e.pvtDefineProperties(),e.FGrandTotal=0,e.FIsEditMode=!1,!1===Object(m.isEmpty)(e.props.PProductsArr)&&(e.FIsEditMode=!0,e.props.PProductsArr.forEach((function(t){e.pvtFetchProductsStockById(Object(m.BaseUrl)()+"products/"+t.productId,(function(n){t.product=n||{},e.pvtFetchProductsStockById(Object(m.BaseUrl)()+"stocks/"+t.stockId,(function(n){(n=n||{}).costPrice=t.purchasedPrice,t.stock=n,e.HandleOnSelect(t)}))}))})))}},{key:"componentDidUpdate",value:function(e,t,n){e.PInvoiceType!==this.props.PInvoiceType&&this.pvtDefineProperties()}},{key:"pvtDefineProperties",value:function(){var e=this;e.FProductColumns=[],e.FStockColumns=[],e.setState({SArrProducts:[],GridColumns:[]}),e.pvtFetchProductsFields(Object(b.GenConstants)().PRODUCT_CSTM_FIELDS),e.pvtFetchProductsFields(Object(b.GenConstants)().STOCK_CSTM_FIELDS)}},{key:"pvtFetchProductsStockById",value:function(e,t){var n=this,a=e,s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(m.tsGetProjectId)()}};fetch(a,s).then((function(e){return e.json()})).then((function(e){if(!0===e.error)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0});!1===Object(m.isEmpty)(t)&&t(e)}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchProductsFields",value:function(e){var t,n=this,a=n.props.PInvoiceType;if(!0!==Object(m.isEmpty)(a)){t=Object(m.BaseUrl)()+"customFields/type/"+e+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(m.tsGetProjectId)()}};fetch(t,s).then((function(e){return e.json()})).then((function(t){if(!0===t.error)return n.FWarningText=t.message,void n.setState({IsAlertDialogOpen:!0});e===Object(b.GenConstants)().PRODUCT_CSTM_FIELDS?n.FProductColumns=t||[]:n.FStockColumns=t||[],n.pvtLoadGridColumns()}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}}},{key:"pvtLoadGridColumns",value:function(){var e,t=this,n=[],a=t.FProductColumns.concat(t.FStockColumns);n=[{field:"productName",headerName:"Particulars",headerClassName:"tsGridHeader",minWidth:150,flex:1,color:"primary"},{field:"hsn",headerName:"HSN",headerClassName:"tsGridHeader",width:110,color:"primary"}],a.forEach((function(t){if(!0===t.isSystemField)return!0;(e={}).headerName=t.fieldName,e.field=t.columnName,e.headerClassName="tsGridHeader",e.minWidth=130,n.push(e)})),n.push({field:"gst",headerName:"GST",headerClassName:"tsGridHeader",width:110,color:"primary",type:"number"},{field:"qty",headerName:"Quantity",headerClassName:"tsGridHeader",width:110,color:"primary",type:"number"},{field:"costPrice",headerName:"Price",headerClassName:"tsGridHeader",width:110,color:"primary",type:"number"},{field:"total",headerName:"Total",headerClassName:"tsGridHeader",width:110,type:"number",color:"primary",renderCell:function(e){return(e.getValue(e.id,"qty")||1)*e.getValue(e.id,"costPrice")}}),t.setState({GridColumns:n})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(S.jsx)(p.a,{onClick:function(){e.HandleOnSelect()},color:"primary",variant:"contained",size:"small",startIcon:Object(S.jsx)(O.a,{}),children:"Select"})}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(S.jsx)(f.default,{IsSelectMode:!0,HandleOnSelect:function(t){return e.HandleOnSelect(t)},SelectedRecord:function(t){return e.FSelectedRecord=t},PInvoiceType:e.props.PInvoiceType})}},{key:"HandleOnSelect",value:function(e){var t=this,n=Object(m.cloneVar)(e)||t.FSelectedRecord;if(!0===Object(m.isEmpty)(n))return t.FWarningText="Select a Purchased Product and try again.",void t.setState({IsAlertDialogOpen:!0});var s=t.state.SArrProducts||[],i=[],r=n.stock.id;s.forEach((function(e){if(e.stockId===r)return!0;i.push(e)})),n.stock.id="";var o=Object(a.a)(Object(a.a)({},n.product),n.stock);o.qty=n.stock.tqty||1,o.stockId=r,o.id=r,i.push(o),t.FGrandTotal+=o.costPrice*o.qty,t.props.SetGrandTotal(t.FGrandTotal),!1===Object(m.isEmpty)(t.props.SetProducts)&&t.props.SetProducts(i),t.setState({IsDialogOpen:!1,SArrProducts:i||[]})}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(m.isEmpty)(e.FSelectedRecordInvoice))return e.FWarningText="Select a product and try again.",void e.setState({IsAlertDialogOpen:!0});var t=e.state.SArrProducts||[],n=[],a=e.FSelectedRecordInvoice.stockId,s=0;t.forEach((function(e){if(e.stockId===a)return!0;s+=e.costPrice*e.qty,n.push(e)})),e.FGrandTotal=s,e.props.SetGrandTotal(e.FGrandTotal),e.FSelectedRecordInvoice=null,e.setState({SArrProducts:n||[]})}},{key:"GetProductJson",value:function(){var e=[],t={};return(this.state.SArrProducts||[]).forEach((function(n){(t={}).productId=n.productId,t.stockId=n.stockId,t.gst=n.gst,t.price=n.costPrice,t.qty=n.qty,e.push(t)})),e}},{key:"pvtGetDialog",value:function(){var e=this;return!1===e.state.IsDialogOpen?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(h.default,{IsDialogOpen:e.state.IsDialogOpen,OnDialogClose:function(){return e.setState({IsDialogOpen:!1})},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:"Select Product",DialogLoading:!1,IsWindow:!0})}},{key:"pvtGetToolBar",value:function(){var e=this;return Object(S.jsx)("div",{style:{margin:"20px 20px 0 20px"},className:"tsHBox",children:Object(S.jsxs)(u.a,{variant:"outline",children:[Object(S.jsx)(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.setState({IsDialogOpen:!0})},children:"Add Product"}),Object(S.jsx)(p.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(S.jsx)(y.a,{}),children:"Delete Product"})]})})}},{key:"pvtGetReadOnlyComponent",value:function(){var e,t=this.state.GridColumns||[],n=this.state.SArrProducts||[],a=[],s=[];return t.forEach((function(e,t){a.push(Object(S.jsx)("th",{className:"tsInvoiceViewTableTh",children:e.headerName},"col"+t))})),n.forEach((function(n,a){e=[],t.forEach((function(t,a){"total"===t.field&&(n[t.field]="Rs."+n.qty*n.costPrice),e.push(Object(S.jsx)("td",{className:"tsInvoiceViewTableTd",children:n[t.field]},"coltd"+a))})),s.push(Object(S.jsx)("tr",{children:e},"tblrow"+a))})),Object(S.jsx)("div",{style:{overflowX:"auto"},children:Object(S.jsxs)("table",{className:"tsInvoiceViewTable",children:[Object(S.jsx)("thead",{children:Object(S.jsx)("tr",{children:a},"throw")}),Object(S.jsx)("tbody",{children:s})]})})}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecordInvoice=e}},{key:"render",value:function(){var e=this;return!0===e.props.PIsReadOnlyMode?e.pvtGetReadOnlyComponent():Object(S.jsxs)(S.Fragment,{children:[e.pvtGetToolBar(),Object(S.jsx)(g.a,{columns:e.state.GridColumns||[],rows:e.state.SArrProducts||[],pagination:!0,csvOptions:{allColumns:!0},hideFooter:!0,ref:e.FDataGrid,density:"compact",style:{margin:"10px 20px 0 20px",minHeight:200},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}}),e.pvtGetDialog(),Object(S.jsx)(h.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(S.jsx)(S.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(S.jsx)(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.state.IsSnackOn,onClose:function(){return e.setState({IsSnackOn:!1})},message:e.FSnackMsg},"verticalhorizontalSnack")]})}}]),n}(l.Component);t.default=I},133:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(29),p=n(268),u=n(316),j=n(44),m=n(181),h=n(183),v=n(16),O=n(15),f=n(41),b=n.n(f),g=n(396),x=n.n(g),y=n(397),S=n.n(y),I=n(141),D=n.n(I),C=n(140),F=n.n(C),T=n(2),N=n(51),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(k.jsx)(k.Fragment,{}),AlertDialogHeader:"Warning"},SDisplayName:"",SUsername:"",SPassword:"",SIsActive:!0,SOrgName:"",IsOTPDialogOpen:!1,SOTPValue:""},r.FIsEmailSent=!1,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.UserRecord;this.setState({SDisplayName:e.displayName,SUsername:e.username,SPassword:e.password,SIsActive:!!Object(T.isEmpty)(e.isActive)||1===e.isActive})}},{key:"pvtHandleOnClose",value:function(){this.FIsEmailSent=!1,this.props.OnDialogClose()}},{key:"pvtGetOTPDialogContent",value:function(){var e=this;return Object(k.jsxs)(l.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:[Object(k.jsxs)("h4",{style:{color:"green"},children:["The OTP has been sent on your Email Address: ",Object(k.jsx)("i",{children:e.state.SUsername})]}),Object(k.jsx)(d.a,{label:"Enter OTP",placeholder:"Enter OTP",required:!0,fullWidth:!0,onChange:function(t){return e.setState({SOTPValue:t.currentTarget.value})},value:e.state.SOTPValue,margin:"dense"})]})}},{key:"pvtGetDialogContent",value:function(){var e=this,t=!1===Object(T.isEmpty)(e.props.UserRecord.id);return Object(k.jsxs)(l.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:[Object(k.jsx)(d.a,{label:"Name",placeholder:"Name",required:!0,fullWidth:!0,onChange:function(t){return e.setState({SDisplayName:t.currentTarget.value})},value:e.state.SDisplayName,margin:"dense"}),Object(k.jsx)(d.a,{label:"Email",placeholder:"Email",type:"email",InputProps:{readOnly:t},onChange:function(t){return e.setState({SUsername:t.currentTarget.value})},required:!0,value:e.state.SUsername,error:!1===Object(T.isEmpty)(e.state.SUsername)&&!1===e.pvtIsEmailValid(e.state.SUsername),helperText:e.pvtIsEmailValid(e.state.SUsername)?"":"Email-Id is invalid.",fullWidth:!0,margin:"dense"}),Object(k.jsx)(p.a,{label:"Password",required:!0,helperText:"Password is case sensitive",placeholder:"Set Password",fullWidth:!0,onChange:function(t){return e.setState({SPassword:t.currentTarget.value})},type:e.state.ShowPassword?"text":"password",margin:"dense",style:{margin:"20px 0 0 0"},value:e.state.SPassword,endAdornment:Object(k.jsx)(u.a,{position:"end",children:Object(k.jsx)(j.a,{"aria-label":"toggle password visibility",onClick:function(){return e.setState({ShowPassword:!e.state.ShowPassword})},children:e.state.ShowPassword?Object(k.jsx)(x.a,{}):Object(k.jsx)(S.a,{})})})}),!0===e.props.PIsSignUpForm?Object(k.jsx)(d.a,{label:"Organisation Name",placeholder:"Organisation Name",style:{margin:"10px 0 0 0"},onChange:function(t){return e.setState({SOrgName:t.currentTarget.value})},required:!0,helperText:"You can add more details about Organisation after signup.",value:e.state.SOrgName,fullWidth:!0,margin:"dense"}):Object(k.jsx)(m.a,{style:{margin:"20px 0 0 0"},control:Object(k.jsx)(h.a,{icon:Object(k.jsx)(F.a,{fontSize:"small"}),checkedIcon:Object(k.jsx)(D.a,{fontSize:"small"}),onChange:function(t){return e.setState({SIsActive:t.target.checked})},checked:e.state.SIsActive}),label:"Active"})]})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(k.jsx)(v.a,{onClick:function(){e.pvtSaveUser()},color:"primary",variant:"contained",size:"small",startIcon:Object(k.jsx)(b.a,{}),children:!0===e.props.PIsSignUpForm?"SignUp":"Save"})}},{key:"pvtValidate",value:function(){var e=this,t={},n=!0,a=new RegExp("^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$");if(!0===Object(T.isEmpty)(e.state.SDisplayName))n=!1,t={AlertDialogContent:Object(k.jsx)("span",{children:" Display Name is required. "}),AlertDialogHeader:"Warning"};else if(!0===Object(T.isEmpty)(e.state.SUsername))n=!1,t={AlertDialogContent:Object(k.jsx)("span",{children:" Email is required. "}),AlertDialogHeader:"Warning"};else if(!1===e.pvtIsEmailValid(e.state.SUsername))n=!1,t={AlertDialogContent:Object(k.jsx)("span",{children:" Email-Id is invalid, enter correct Email-Id. "}),AlertDialogHeader:"Warning"};else if(!0===Object(T.isEmpty)(e.state.SPassword))n=!1,t={AlertDialogContent:Object(k.jsx)("span",{children:" Password is required. "}),AlertDialogHeader:"Warning"};else if(a.test(e.state.SPassword)){if(!0===e.props.PIsSignUpForm&&!0===Object(T.isEmpty)(e.state.SOrgName))n=!1,t={AlertDialogContent:Object(k.jsx)("span",{children:" Organisation Name is required. "}),AlertDialogHeader:"Warning"};else if(!1===Object(T.isEmpty)(e.props.PAllUsers)&&!1===e.state.SIsActive){var s=e.props.PAllUsers||[],i=!1;s.forEach((function(t){if(1===t.isActive&&e.props.UserRecord.id!==t.id)return i=!0,!1})),!1===i&&(n=!1,t={AlertDialogContent:Object(k.jsxs)("span",{children:[" At least one user must be ",Object(k.jsx)("b",{children:'"Active User"'}),"."]}),AlertDialogHeader:"Warning"})}}else n=!1,t={AlertDialogContent:Object(k.jsx)("span",{children:" Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters "}),AlertDialogHeader:"Warning"};return!1===n&&e.setState({IsAlertDialogOpen:!0,AlertDialog:t}),n}},{key:"pvtIsEmailValid",value:function(e){return Object(T.IsEmailValid)(e)}},{key:"pvtSendOTP",value:function(){var e=this,t=e.state.SUsername,n={displayName:e.state.SDisplayName,email:e.state.SUsername,password:e.state.SPassword,isActive:e.state.SIsActive};if(!1!==e.pvtIsEmailValid(t)){var a=Object(T.BaseUrl)()+"users/send/otp",s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};e.FLoadingText="Sending OTP to your Email...",e.setState({IsLoading:!0}),fetch(a,s).then((function(e){return e.json()})).then((function(t){if(e.setState({IsLoading:!1}),!1===t.success||Object(T.isEmpty)(t)){var n={AlertDialogContent:Object(k.jsxs)("span",{children:[" ",t.message," "]}),AlertDialogHeader:"Error"};e.setState({IsAlertDialogOpen:!0,AlertDialog:n})}else e.FIsEmailSent=!0,e.setState({IsOTPDialogOpen:!0})}),(function(t){e.setState({IsLoading:!1})}))}}},{key:"pvtSaveUser",value:function(){var e=this;if(!1===e.pvtValidate())return!1;if(!0!==e.props.PIsSignUpForm||!1!==e.FIsEmailSent){var t,n={},a=Object(T.BaseUrl)()+"users",s=!1===Object(T.isEmpty)(e.props.UserRecord.id);n={displayName:e.state.SDisplayName,username:e.state.SUsername,password:e.state.SPassword,isActive:e.state.SIsActive},!0===s?a=Object(T.BaseUrl)()+"users/"+e.props.UserRecord.id:(n.canCreateNewProject=e.props.PIsSignUpForm,n.orgName=e.state.SOrgName,n.otp=e.state.SOTPValue),t={method:!0===s?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(T.tsGetProjectId)()},body:JSON.stringify(n)},e.FLoadingText="",e.setState({IsLoading:!0}),fetch(a,t).then((function(e){return e.json()})).then((function(t){if(e.setState({IsLoading:!1}),!1===t.success||Object(T.isEmpty)(t)){var a={AlertDialogContent:Object(k.jsxs)("span",{children:[" ",t.message," "]}),AlertDialogHeader:"Error"};e.setState({IsAlertDialogOpen:!0,AlertDialog:a})}else e.pvtHandleOnClose(),e.props.UpdateUserStore(t),!0===e.props.PIsSignUpForm&&e.props.PHandleOnSignUp(n.username,n.password,t),!1===s&&e.setState({SDisplayName:"",SUsername:"",SPassword:"",SIsActive:1})}),(function(t){e.setState({IsLoading:!1})}))}else e.pvtSendOTP()}},{key:"render",value:function(){var e=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:!0===e.props.PIsSignUpForm?"Sign Up Form":Object(T.isEmpty)(e.props.UserRecord.id)?"New User":"Edit User",DialogLoading:!1,IsWindow:!0}),Object(k.jsx)(O.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1}),Object(k.jsx)(N.default,{PLoadingText:e.FLoadingText,PIsLoading:e.state.IsLoading}),Object(k.jsx)(O.default,{IsDialogOpen:e.state.IsOTPDialogOpen,OnDialogClose:function(){e.setState({IsOTPDialogOpen:!1}),e.FIsEmailSent=!1},DialogContent:e.pvtGetOTPDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:"Verify Email",DialogLoading:!1,IsWindow:!0})]})}}]),n}(c.Component);t.default=P},15:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(61),l=n(1),d=n(62),p=n(429),u=n(432),j=n(91),m=n(90),h=n(20),v=n(44),O=n(45),f=n(310),b=n(426),g=n(620),x=n(16),y=n(391),S=n.n(y),I=n(394),D=n.n(I),C=n(393),F=n.n(C),T=n(392),N=n.n(T),k=n(120),P=n(0);function G(e){return Object(P.jsx)(S.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(P.jsx)(d.a,Object(c.a)({},e))})}var A=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={IsFullScreen:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetLoadingCmp",value:function(){return Object(P.jsx)("div",{className:"tsMiddle",children:Object(P.jsx)(k.a,{},"loading-dialog-cir")},"loading-dialog")}},{key:"pvtGetAppHeader",value:function(){var e=this;return!1===e.props.IsWindow?Object(P.jsx)(p.a,{style:{cursor:"move"},id:"draggable-dialog-title",children:e.props.DialogHeader}):Object(P.jsx)(u.a,{id:"draggable-dialog-title",style:{cursor:"move"},children:Object(P.jsxs)(j.a,{children:[Object(P.jsx)(m.a,{variant:"h6",children:e.props.DialogHeader}),Object(P.jsx)(h.a,{component:"span",flex:"1"}),Object(P.jsx)(v.a,{color:"inherit",size:"small",edge:"start",disableRipple:!0,onClick:function(){return e.setState({IsFullScreen:!e.state.IsFullScreen})},children:Object(P.jsx)(O.a,{title:!0===e.state.IsFullScreen?"Exit Full Screen":"Full Screen",children:!0===e.state.IsFullScreen?Object(P.jsx)(N.a,{}):Object(P.jsx)(F.a,{})})}),Object(P.jsx)(v.a,{color:"inherit",size:"small",disableRipple:!0,onClick:function(){return e.pvtHandleOnClose()},children:Object(P.jsx)(O.a,{title:"Close Window",children:Object(P.jsx)(D.a,{})})})]})})}},{key:"pvtGetDialogContent",value:function(){var e=this;return!1===e.props.IsWindow?Object(P.jsx)(f.a,{className:"tsVBox",children:e.props.DialogContent}):Object(P.jsx)(f.a,{className:"tsDialogInnerContent tsVBox tsDialogMinWidth",children:!0===e.props.DialogLoading?e.pvtGetLoadingCmp():e.props.DialogContent})}},{key:"render",value:function(){var e=this;return Object(P.jsxs)(b.a,{open:e.props.IsDialogOpen,maxWidth:e.props.IsWindow?"md":"xs",PaperComponent:G,"aria-labelledby":"draggable-dialog-title",fullScreen:e.state.IsFullScreen,children:[e.pvtGetAppHeader(),e.pvtGetDialogContent(),Object(P.jsxs)(g.a,{children:[Object(P.jsx)(x.a,{onClick:function(){return e.pvtHandleOnClose()},color:"primary",children:"Cancel"}),e.props.DialogActions]})]})}}]),n}(l.Component);t.default=A},162:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(29),p=n(65),u=n(85),j=n(80),m=n(39),h=n(181),v=n(183),O=n(269),f=n(16),b=n(141),g=n.n(b),x=n(140),y=n.n(x),S=n(15),I=n(41),D=n.n(I),C=n(2),F=n(8),T=n(0),N=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(T.jsx)(T.Fragment,{}),AlertDialogHeader:"Warning"},SFieldName:"",SFieldType:"",SIsRequired:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.UserRecord;this.setState({SFieldName:e.fieldName||"",SFieldType:e.fieldType||"",SIsRequired:1===e.isRequired})}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(T.jsxs)(l.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:[Object(T.jsx)(d.a,{label:"Field Name",placeholder:"Field Name",required:!0,fullWidth:!0,onChange:function(t){return e.setState({SFieldName:t.currentTarget.value})},value:e.state.SFieldName,margin:"dense"}),Object(T.jsxs)(p.a,{style:{margin:"15px 0 0 0"},children:[Object(T.jsx)(u.a,{children:"Field Type"}),Object(T.jsxs)(j.a,{value:e.state.SFieldType,onChange:function(t){return e.setState({SFieldType:t.target.value})},children:[Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_TEXT,children:"Text"}),Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_NUMBER,children:"Number"}),Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_DATE,children:"Date"})]})]}),Object(T.jsxs)(p.a,{children:[Object(T.jsx)(h.a,{style:{margin:"20px 0 0 0"},control:Object(T.jsx)(v.a,{icon:Object(T.jsx)(y.a,{fontSize:"small"}),checkedIcon:Object(T.jsx)(g.a,{fontSize:"small"}),onChange:function(t){return e.setState({SIsRequired:t.target.checked})},checked:e.state.SIsRequired}),label:"Required?"}),Object(T.jsx)(O.a,{style:{margin:"-5px 0 0 20px"},children:"If this field is checked, then each time when you add new or modify the customer, this field is required."})]})]})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(T.jsx)(f.a,{onClick:function(){e.pvtSaveUser()},color:"primary",variant:"contained",size:"small",startIcon:Object(T.jsx)(D.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e=this,t={},n=!0;return!0===Object(C.isEmpty)(e.state.SFieldName)?(n=!1,t={AlertDialogContent:Object(T.jsx)("span",{children:" Field Name is required. "}),AlertDialogHeader:"Warning"}):!0===Object(C.isEmpty)(e.state.SFieldType)&&(n=!1,t={AlertDialogContent:Object(T.jsx)("span",{children:" Field Type is required. "}),AlertDialogHeader:"Warning"}),!1===n&&e.setState({IsAlertDialogOpen:!0,AlertDialog:t}),n}},{key:"pvtSaveUser",value:function(){var e,t,n=this,a=this,s=Object(C.BaseUrl)()+"customFields",i=!1===Object(C.isEmpty)(a.props.UserRecord.id);if(!1===a.pvtValidate())return!1;e={fieldName:a.state.SFieldName,fieldType:a.state.SFieldType,type:Object(F.GenConstants)().CUSTOMER_CSTM_FIELDS,isRequired:a.state.SIsRequired},t={method:!0===i?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(C.tsGetProjectId)()},body:JSON.stringify(e)},!0===i&&(s=Object(C.BaseUrl)()+"customFields/"+a.props.UserRecord.id),a.setState({IsLoading:!0}),fetch(s,t).then((function(e){return e.json()})).then((function(e){if(a.setState({IsLoading:!1}),!1===e.success||Object(C.isEmpty)(e)){var t={AlertDialogContent:Object(T.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error"};a.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else a.pvtHandleOnClose(),a.props.UpdateUserStore(e),!1===i&&a.setState({SFieldName:"",SFieldType:"",SIsRequired:!1})}),(function(e){n.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(C.isEmpty)(e.props.UserRecord.id)?"New Field":"Edit Field",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(T.jsx)(S.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(T.jsx)(T.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(c.Component);t.default=N},163:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(29),p=n(65),u=n(85),j=n(80),m=n(39),h=n(181),v=n(183),O=n(269),f=n(16),b=n(141),g=n.n(b),x=n(140),y=n.n(x),S=n(15),I=n(41),D=n.n(I),C=n(2),F=n(8),T=n(0),N=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(T.jsx)(T.Fragment,{}),AlertDialogHeader:"Warning"},SFieldName:"",SFieldType:"",SIsRequired:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.UserRecord;this.setState({SFieldName:e.fieldName||"",SFieldType:e.fieldType||"",SIsRequired:1===e.isRequired})}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(T.jsxs)(l.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:[Object(T.jsx)(d.a,{label:"Field Name",placeholder:"Field Name",required:!0,fullWidth:!0,onChange:function(t){return e.setState({SFieldName:t.currentTarget.value})},value:e.state.SFieldName,margin:"dense"}),Object(T.jsxs)(p.a,{style:{margin:"15px 0 0 0"},children:[Object(T.jsx)(u.a,{children:"Field Type"}),Object(T.jsxs)(j.a,{value:e.state.SFieldType,onChange:function(t){return e.setState({SFieldType:t.target.value})},children:[Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_TEXT,children:"Text"}),Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_NUMBER,children:"Number"}),Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_DATE,children:"Date"})]})]}),Object(T.jsxs)(p.a,{children:[Object(T.jsx)(h.a,{style:{margin:"20px 0 0 0"},control:Object(T.jsx)(v.a,{icon:Object(T.jsx)(y.a,{fontSize:"small"}),checkedIcon:Object(T.jsx)(g.a,{fontSize:"small"}),onChange:function(t){return e.setState({SIsRequired:t.target.checked})},checked:e.state.SIsRequired}),label:"Required?"}),Object(T.jsx)(O.a,{style:{margin:"-5px 0 0 20px"},children:"If this field is checked, then each time when you add new or modify the customer, this field is required."})]})]})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(T.jsx)(f.a,{onClick:function(){e.pvtSave()},color:"primary",variant:"contained",size:"small",startIcon:Object(T.jsx)(D.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e=this,t={},n=!0;return!0===Object(C.isEmpty)(e.state.SFieldName)?(n=!1,t={AlertDialogContent:Object(T.jsx)("span",{children:" Field Name is required. "}),AlertDialogHeader:"Warning"}):!0===Object(C.isEmpty)(e.state.SFieldType)&&(n=!1,t={AlertDialogContent:Object(T.jsx)("span",{children:" Field Type is required. "}),AlertDialogHeader:"Warning"}),!1===n&&e.setState({IsAlertDialogOpen:!0,AlertDialog:t}),n}},{key:"pvtSave",value:function(){var e,t,n=this,a=this,s=Object(C.BaseUrl)()+"customFields",i=!1===Object(C.isEmpty)(a.props.UserRecord.id);if(!1===a.pvtValidate())return!1;e={fieldName:a.state.SFieldName,fieldType:a.state.SFieldType,type:Object(F.GenConstants)().PRODUCT_CSTM_FIELDS,isRequired:a.state.SIsRequired,invoiceType:a.props.InvoiceType},t={method:!0===i?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(C.tsGetProjectId)()},body:JSON.stringify(e)},!0===i&&(s=Object(C.BaseUrl)()+"customFields/"+a.props.UserRecord.id),a.setState({IsLoading:!0}),fetch(s,t).then((function(e){return e.json()})).then((function(e){if(a.setState({IsLoading:!1}),!1===e.success||Object(C.isEmpty)(e)){var t={AlertDialogContent:Object(T.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error"};a.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else a.pvtHandleOnClose(),a.props.UpdateUserStore(e),!1===i&&a.setState({SFieldName:"",SFieldType:"",SIsRequired:!1})}),(function(e){n.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(C.isEmpty)(e.props.UserRecord.id)?"New Field":"Edit Field",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(T.jsx)(S.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(T.jsx)(T.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(c.Component);t.default=N},164:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(29),p=n(65),u=n(85),j=n(80),m=n(39),h=n(181),v=n(183),O=n(269),f=n(16),b=n(141),g=n.n(b),x=n(140),y=n.n(x),S=n(15),I=n(41),D=n.n(I),C=n(2),F=n(8),T=n(0),N=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(T.jsx)(T.Fragment,{}),AlertDialogHeader:"Warning"},SFieldName:"",SFieldType:"",SIsRequired:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.UserRecord;this.setState({SFieldName:e.fieldName||"",SFieldType:e.fieldType||"",SIsRequired:1===e.isRequired})}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(T.jsxs)(l.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:[Object(T.jsx)(d.a,{label:"Field Name",placeholder:"Field Name",required:!0,fullWidth:!0,onChange:function(t){return e.setState({SFieldName:t.currentTarget.value})},value:e.state.SFieldName,margin:"dense"}),Object(T.jsxs)(p.a,{style:{margin:"15px 0 0 0"},children:[Object(T.jsx)(u.a,{children:"Field Type"}),Object(T.jsxs)(j.a,{value:e.state.SFieldType,onChange:function(t){return e.setState({SFieldType:t.target.value})},children:[Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_TEXT,children:"Text"}),Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_NUMBER,children:"Number"}),Object(T.jsx)(m.a,{value:Object(F.GenConstants)().FIELD_DATE,children:"Date"})]})]}),Object(T.jsxs)(p.a,{children:[Object(T.jsx)(h.a,{style:{margin:"20px 0 0 0"},control:Object(T.jsx)(v.a,{icon:Object(T.jsx)(y.a,{fontSize:"small"}),checkedIcon:Object(T.jsx)(g.a,{fontSize:"small"}),onChange:function(t){return e.setState({SIsRequired:t.target.checked})},checked:e.state.SIsRequired}),label:"Required?"}),Object(T.jsx)(O.a,{style:{margin:"-5px 0 0 20px"},children:"If this field is checked, then each time when you add new or modify the customer, this field is required."})]})]})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(T.jsx)(f.a,{onClick:function(){e.pvtSave()},color:"primary",variant:"contained",size:"small",startIcon:Object(T.jsx)(D.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e=this,t={},n=!0;return!0===Object(C.isEmpty)(e.state.SFieldName)?(n=!1,t={AlertDialogContent:Object(T.jsx)("span",{children:" Field Name is required. "}),AlertDialogHeader:"Warning"}):!0===Object(C.isEmpty)(e.state.SFieldType)&&(n=!1,t={AlertDialogContent:Object(T.jsx)("span",{children:" Field Type is required. "}),AlertDialogHeader:"Warning"}),!1===n&&e.setState({IsAlertDialogOpen:!0,AlertDialog:t}),n}},{key:"pvtSave",value:function(){var e,t,n=this,a=this,s=Object(C.BaseUrl)()+"customFields",i=!1===Object(C.isEmpty)(a.props.UserRecord.id);if(!1===a.pvtValidate())return!1;e={fieldName:a.state.SFieldName,fieldType:a.state.SFieldType,type:Object(F.GenConstants)().STOCK_CSTM_FIELDS,isRequired:a.state.SIsRequired,invoiceType:a.props.InvoiceType},t={method:!0===i?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(C.tsGetProjectId)()},body:JSON.stringify(e)},!0===i&&(s=Object(C.BaseUrl)()+"customFields/"+a.props.UserRecord.id),a.setState({IsLoading:!0}),fetch(s,t).then((function(e){return e.json()})).then((function(e){if(a.setState({IsLoading:!1}),!1===e.success||Object(C.isEmpty)(e)){var t={AlertDialogContent:Object(T.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error"};a.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else a.pvtHandleOnClose(),a.props.UpdateUserStore(e),!1===i&&a.setState({SFieldName:"",SFieldType:"",SIsRequired:!1})}),(function(e){n.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(C.isEmpty)(e.props.UserRecord.id)?"New Field":"Edit Field",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(T.jsx)(S.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(T.jsx)(T.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(c.Component);t.default=N},165:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(29),p=n(16),u=n(15),j=n(41),m=n.n(j),h=n(2),v=n(0),O=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(v.jsx)(v.Fragment,{}),AlertDialogHeader:"Warning"},SInvoiceType:"",SSingularInvoiceType:"",SInvoiceTypeStartsWith:""},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.UserRecord;this.setState({SInvoiceType:e.NAME||"",SSingularInvoiceType:e.SINGULAR_NAME||"",SInvoiceTypeStartsWith:e.INVOICE_NO_STARTS_WITH||""})}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this;return Object(v.jsxs)(l.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:[Object(v.jsx)(d.a,{label:"Invoice Type Title",placeholder:"Invoice Type Title",required:!0,fullWidth:!0,onChange:function(t){return e.setState({SInvoiceType:t.currentTarget.value})},value:e.state.SInvoiceType,margin:"dense"}),Object(v.jsx)(d.a,{label:"Singular Invoice Type Title",placeholder:"Singular Invoice Type Title",style:{margin:"20px 0 0 0"},required:!0,fullWidth:!0,onChange:function(t){return e.setState({SSingularInvoiceType:t.currentTarget.value})},value:e.state.SSingularInvoiceType,margin:"dense"}),Object(v.jsx)(d.a,{label:"Invoice Number Starts with",placeholder:"Invoice Number Starts with",style:{margin:"20px 0 0 0"},required:!0,fullWidth:!0,onChange:function(t){return e.setState({SInvoiceTypeStartsWith:t.currentTarget.value})},value:e.state.SInvoiceTypeStartsWith,margin:"dense",helperText:Object(v.jsxs)(v.Fragment,{children:["If you want invoice number like ",Object(v.jsx)("b",{children:'"Bill-001"'})," then the value of this field is ",Object(v.jsx)("b",{children:'"Bill-"'}),"."]})})]})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(v.jsx)(p.a,{onClick:function(){e.pvtSave()},color:"primary",variant:"contained",size:"small",startIcon:Object(v.jsx)(m.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e=this,t={},n=!0;return!0===Object(h.isEmpty)(e.state.SInvoiceType)?(n=!1,t={AlertDialogContent:Object(v.jsx)("span",{children:' "Invoice Type Title" is required. '}),AlertDialogHeader:"Warning"}):!0===Object(h.isEmpty)(e.state.SSingularInvoiceType)?(n=!1,t={AlertDialogContent:Object(v.jsx)("span",{children:' "Singular Invoice Type Title" is required. '}),AlertDialogHeader:"Warning"}):!0===Object(h.isEmpty)(e.state.SInvoiceTypeStartsWith)&&(n=!1,t={AlertDialogContent:Object(v.jsxs)("span",{children:[' Enter "Invoice Number Starts with" value. ',Object(v.jsx)("br",{}),Object(v.jsx)("br",{})," If you want invoice number like ",Object(v.jsx)("b",{children:'"Bill-001"'})," then the value of this field is ",Object(v.jsx)("b",{children:'"Bill-"'}),". "]}),AlertDialogHeader:"Warning"}),!1===n&&e.setState({IsAlertDialogOpen:!0,AlertDialog:t}),n}},{key:"pvtSave",value:function(){var e,t,n=this,a=Object(h.BaseUrl)()+"invoicetypes",s=!1===Object(h.isEmpty)(n.props.UserRecord.id);if(!1===n.pvtValidate())return!1;e={NAME:n.state.SInvoiceType,SINGULAR_NAME:n.state.SSingularInvoiceType,INVOICE_NO_STARTS_WITH:n.state.SInvoiceTypeStartsWith},t={method:!0===s?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()},body:JSON.stringify(e)},!0===s&&(a=Object(h.BaseUrl)()+"invoicetypes/"+n.props.UserRecord.id),n.setState({IsLoading:!0}),fetch(a,t).then((function(e){return e.json()})).then((function(e){if(n.setState({IsLoading:!1}),!1===e.success||Object(h.isEmpty)(e)){var t={AlertDialogContent:Object(v.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error Occured"};n.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else n.pvtHandleOnClose(),n.props.UpdateUserStore(e),!1===s&&n.setState({SInvoiceType:"",SSingularInvoiceType:"",SInvoiceTypeStartsWith:""})}),(function(e){n.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(h.isEmpty)(e.props.UserRecord.id)?"New Invoice Type":"Edit Invoice Type",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(v.jsx)(u.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(v.jsx)(v.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(c.Component);t.default=O},166:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(8),r=n(2),o=n(0),c=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,[{key:"GetGSTR1Columns",value:function(){return[{field:"cstGSTNo",headerName:"GSTIN/UIN of Recipient",headerClassName:"tsGridHeader",width:180},{field:"cstName",headerName:"Customer Name",headerClassName:"tsGridHeader",width:180},{field:"isPurchaserInvoice",headerName:"Transcation Type",headerClassName:"tsGridHeader",width:180,renderCell:function(e){return Object(o.jsx)("span",{children:1===e.value?"Purchase":"Sale"})}},{field:"invoiceDate",headerName:"Date",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(r.tsGetDateFromServerDateForInpField)(e.value)}},{field:"invoiceNo",headerName:"Invoice No",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:Object(r.tsGetInvoiceDispNoByInvoiceNo)(e.value,e.getValue(e.id,"invoiceType"))})}},{field:"GrandTotal",headerName:"Value",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:"Rs. "+(e.value||0)})}},{field:"CESS Rate",headerName:"CESS Rate",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsx)("span",{children:"0"})}},{field:"TaxableAmount",headerName:"Taxable",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:e.value.toFixed(2)})}},{field:"Reverse Charge",headerName:"Reverse Charge",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:"N"})}},{field:Object(i.GenConstants)().IGST,headerName:"IGST",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsxs)("span",{children:["Rs.",Object(r.tsGetIGSTAmount)(e.getValue(e.id,"products"),e.getValue(e.id,"GrandTotal"),"soldPrice")]})}},{field:Object(i.GenConstants)().CGST,headerName:"CGST",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsxs)("span",{children:["Rs.",Object(r.tsGetGstAmount)(e.getValue(e.id,"products"),e.getValue(e.id,"GrandTotal"),"soldPrice")]})}},{field:Object(i.GenConstants)().SGST,headerName:"SGST",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsxs)("span",{children:["Rs.",Object(r.tsGetGstAmount)(e.getValue(e.id,"products"),e.getValue(e.id,"GrandTotal"),"soldPrice")]})}}]}},{key:"GetInvoiceWiseProfitColumns",value:function(){return[{field:"cstName",headerName:"Customer Name",headerClassName:"tsGridHeader",minWidth:180,flex:1},{field:"invoiceDate",headerName:"Date",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(r.tsGetDateFromServerDateForInpField)(e.value)}},{field:"invoiceType",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:Object(r.tsGetInvoiceDispNameByActionCode)(e.value)})}},{field:"invoiceNo",headerName:"Invoice No",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsx)("span",{children:Object(r.tsGetInvoiceDispNoByInvoiceNo)(e.value,e.getValue(e.id,"invoiceType"))})}},{field:"TaxableAmount",headerName:"Taxable",headerClassName:"tsGridHeader",minWidth:130,renderCell:function(e){return Object(o.jsx)("span",{children:e.value.toFixed(2)})}},{field:"grandTotal",headerName:"Total Amount",headerClassName:"tsGridHeader",minWidth:160,renderCell:function(e){return Object(o.jsx)("span",{children:"Rs. "+(e.value||0)})}},{field:"ProfitPerInvoice",headerName:"Profit / Loss Amount",headerClassName:"tsGridHeader",cellClassName:function(e){return e.value>0?"tsGridSuccessCell":"tsGridFailureCell"},width:250,renderCell:function(e){var t=e.value;return t>0?Object(o.jsx)("span",{title:'Profit Amount calculated from "Sold Quantity" by "Sold Amount".',children:"Rs. "+Math.abs(t)}):Object(o.jsx)("span",{title:'Loss Amount calculated from "Sold Quantity" by "Sold Amount".',children:"Rs. "+Math.abs(t)})}}]}},{key:"GetB2CSColumns",value:function(){return[{field:"type",headerName:"Type",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:"OE"})}},{field:"State",headerName:"Place Of Supply",headerClassName:"tsGridHeader",minWidth:180,flex:1},{field:"ApplicableTaxRate",headerName:"Applicable % of Tax Rate",headerClassName:"tsGridHeader",minWidth:180},{field:"Rate",headerName:"Rate",headerClassName:"tsGridHeader",minWidth:180},{field:"TaxableAmount",headerName:"Taxable Value",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:e.value.toFixed(2)})}},{field:"cessAmount",headerName:"Cess Amount",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:"0.0"})}},{field:"ECommerceGSTIN",headerName:"E-Commerce GSTIN",headerClassName:"tsGridHeader",minWidth:230}]}},{key:"GetB2CLColumns",value:function(){return[{field:"invoiceNo",headerName:"Invoice Number",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsx)("span",{children:Object(r.tsGetInvoiceDispNoByInvoiceNo)(e.value,e.getValue(e.id,"invoiceType"))})}},{field:"invoiceDate",headerName:"Invoice Date",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(r.tsGetDateFromServerDateForInpField)(e.value)}},{field:"GrandTotal",headerName:"Invoice Value",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:"Rs. "+(e.value||0)})}},{field:"State",headerName:"Place Of Supply",headerClassName:"tsGridHeader",minWidth:180,flex:1},{field:"ApplicableTaxRate",headerName:"Applicable % of Tax Rate",headerClassName:"tsGridHeader",minWidth:180},{field:"Rate",headerName:"Rate",headerClassName:"tsGridHeader",minWidth:180},{field:"TaxableAmount",headerName:"Taxable Value",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:e.value.toFixed(2)})}},{field:"cessAmount",headerName:"Cess Amount",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:"0.0"})}},{field:"ECommerceGSTIN",headerName:"E-Commerce GSTIN",headerClassName:"tsGridHeader",minWidth:230}]}},{key:"GetB2BColumns",value:function(){return[{field:"cstGSTNo",headerName:"GSTIN/UIN of Recipient",headerClassName:"tsGridHeader",width:180},{field:"cstName",headerName:"Receiver Name",headerClassName:"tsGridHeader",width:180},{field:"invoiceNo",headerName:"Invoice Number",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return Object(o.jsx)("span",{children:Object(r.tsGetInvoiceDispNoByInvoiceNo)(e.value,e.getValue(e.id,"invoiceType"))})}},{field:"invoiceDate",headerName:"Invoice Date",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(r.tsGetDateFromServerDateForInpField)(e.value)}},{field:"GrandTotal",headerName:"Invoice Value",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:"Rs. "+(e.value||0)})}},{field:"State",headerName:"Place Of Supply",headerClassName:"tsGridHeader",minWidth:180,flex:1},{field:"ReverseCharge",headerName:"Reverse Charge",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:"N"})}},{field:"ApplicableTaxRate",headerName:"Applicable % of Tax Rate",headerClassName:"tsGridHeader",minWidth:180},{field:"GSTInvoiceType",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(o.jsx)("span",{children:"Regular"})}},{field:"ECommerceGSTIN",headerName:"E-Commerce GSTIN",headerClassName:"tsGridHeader",minWidth:230},{field:"Rate",headerName:"Rate",headerClassName:"tsGridHeader",minWidth:180},{field:"TaxableAmount",headerName:"Taxable Value",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:e.value.toFixed(2)})}},{field:"cessAmount",headerName:"Cess Amount",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:"0.0"})}}]}},{key:"GetHSNColumns",value:function(){return[{field:"hsn",headerName:"HSN",headerClassName:"tsGridHeader",minWidth:180},{field:"productName",headerName:"Description",headerClassName:"tsGridHeader",minWidth:200},{field:"qty",headerName:"Total Quantity",headerClassName:"tsGridHeader",minWidth:180},{field:"TotalVal",headerName:"Total Value",headerClassName:"tsGridHeader",minWidth:180},{field:"TaxableAmount",headerName:"Taxable Value",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:e.value.toFixed(2)})}},{field:"IGST",headerName:"IGST",headerClassName:"tsGridHeader",minWidth:150,renderCell:this.pvtGetIGST},{field:"cgst",headerName:"CGST",headerClassName:"tsGridHeader",minWidth:150,renderCell:this.pvtGetGST},{field:"sgst",headerName:"SGST",headerClassName:"tsGridHeader",minWidth:150,renderCell:this.pvtGetGST},{field:"cessAmount",headerName:"Cess Amount",headerClassName:"tsGridHeader",minWidth:180,renderCell:function(e){return Object(o.jsx)("span",{children:"0.0"})}}]}},{key:"pvtGetGST",value:function(e){return Object(o.jsxs)("span",{children:["Rs.",Object(r.tsGetGstAmount)([e.row],e.getValue(e.id,"TotalVal"),"TotalVal")]})}},{key:"pvtGetIGST",value:function(e){return Object(o.jsxs)("span",{children:["Rs.",Object(r.tsGetIGSTAmount)([e.row],e.getValue(e.id,"TotalVal"),"TotalVal")]})}}]),e}();t.default=c},167:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(227),d=n(228),p=n(423),u=n(2),j=n(229),m=n(0),h=function(e){Object(r.a)(c,e);var t=Object(o.a)(c);function c(e){var n;Object(a.a)(this,c),n=t.call(this,e);var s=Object(i.a)(n),r=!0;return!0===Object(u.tsIsMobileView)()&&(r=!1),s.state={IsSideMenuVisible:r,FMenuList:0,IsShowLoading:!0},s.pvtDefineProperties(),n}return Object(s.a)(c,[{key:"pvtDefineProperties",value:function(){this.FUserDetails={}}},{key:"componentDidMount",value:function(){var e=this;e.pvtFetchInvoiceTypes((function(){e.pvtFetchMenuJson()})),!1===Object(u.tsIsUserLoggedIn)()&&Object(u.LogOut)(e.props.history)}},{key:"pvtFetchInvoiceTypes",value:function(e){var t,n,a=this;n=Object(u.BaseUrl)()+"invoicetypes",t={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}},fetch(n,t).then((function(e){return e.json()})).then((function(t){a.setState({SIsLoading:!1}),!1!==t.status&&(Object(u.tsSetInvoiceType)(t),!1===Object(u.isEmpty)(e)&&e())}),(function(e){a.setState({SIsLoading:!1})}))}},{key:"pvtFetchMenuJson",value:function(){var e,t,n=this,a=this;0!==a.state.FMenuList&&-1!==a.state.FMenuList||(t=Object(u.BaseUrl)()+"menujson",e={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}},fetch(t,e).then((function(e){return e.json()})).then((function(e){!1!==e.status?(new Date(e.expDate)<new Date&&(e=-2),a.setState({FMenuList:e})):a.setState({FMenuList:-1})}),(function(e){n.setState({FMenuList:-1})})))}},{key:"HandleOnNodeSelect",value:function(e,t){var n=this;n.pvtGetParamalink()!==t&&("tsparent"!==t.split("-")[0]&&(n.setState({IsShowLoading:!0}),n.props.history.push("/"+t)))}},{key:"pvtShowLoading",value:function(){return this.state.IsShowLoading?Object(m.jsx)(p.a,{color:"secondary"}):null}},{key:"HideLoading",value:function(){var e=this;!1!==e.state.IsShowLoading&&(!0===Object(u.tsIsMobileView)()?e.setState({IsShowLoading:!1,IsSideMenuVisible:!1}):e.setState({IsShowLoading:!1}))}},{key:"pvtGetSingleCmp",value:function(){var e=this;return!0===e.state.IsSideMenuVisible&&!0===Object(u.tsIsMobileView)()&&!1===e.state.IsShowLoading?null:Object(m.jsx)(j.default,{onLoadComplete:function(){return e.HideLoading()},Paramalink:e.pvtGetParamalink(),arrMenuItems:e.state.FMenuList})}},{key:"pvtGetAppBody",value:function(){var e=this;return Object(m.jsxs)("div",{className:"tsAfterHeader",children:[Object(m.jsx)(d.default,{arrMenuItems:e.state.FMenuList,isVisible:e.state.IsSideMenuVisible,OnNodeSelect:function(t,n){return e.HandleOnNodeSelect(t,n)},Paramalink:e.pvtGetParamalink()}),Object(m.jsx)("div",{className:"tsMain",children:e.pvtGetSingleCmp()})]})}},{key:"pvtGetAdminBody",value:function(){var e=this,t=n(185).default;return Object(m.jsx)(t,{moduleType:e.pvtGetModuleType(),historyProp:e.props.history,onLoadComplete:function(){return e.HideLoading()}})}},{key:"pvtGetParamalink",value:function(){return this.props.match.params.paramalink}},{key:"pvtGetModuleType",value:function(){return this.props.match.params.moduleType}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"tsHomePg",children:[Object(m.jsx)("div",{children:Object(m.jsx)(l.default,{onClose:function(){return e.setState({IsSideMenuVisible:!e.state.IsSideMenuVisible})},historyProp:e.props.history,Title:"admin"===e.pvtGetParamalink()?"Settings":"CRM SOFT",GetUserDetails:function(t){return e.FUserDetails=t||{}},CanShowBackButton:"admin"===e.pvtGetParamalink()})}),e.pvtShowLoading(),"admin"===e.pvtGetParamalink()?e.pvtGetAdminBody():e.pvtGetAppBody()]})}}]),c}(c.Component);t.default=h},185:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(20),l=n(92),d=n(90),p=n(632),u=n(399),j=n.n(u),m=n(398),h=n.n(m),v=n(2),O=n(170),f=n.n(O),b=n(96),g=n.n(b),x=n(152),y=n.n(x),S=n(171),I=n.n(S),D=n(83),C=n.n(D),F=n(144),T=n.n(F),N=n(258),k=n.n(N),P=n(0),G=function(e){Object(i.a)(o,e);var t=Object(r.a)(o);function o(){return Object(a.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"componentDidMount",value:function(){this.props.onLoadComplete(),this.pvtDefineProperties()}},{key:"pvtDefineProperties",value:function(){}},{key:"pvtGetParamalink",value:function(){var e=this.props.historyProp,t="";return!1===Object(v.isEmpty)(e)&&(t=e.location.pathname),t}},{key:"pvtGetDataJson",value:function(){return{children:[{moduleTitle:"Manage User Accounts",moduleDescription:"Add, Modify, Activate/Deactivate users.",moduleType:"ManageUserAccount",moduleClass:"pkgManageUserAccount/tsfrmUserAccount",hidden:!1,iconCmp:Object(P.jsx)(f.a,{})},{moduleTitle:"Manage Project Details",moduleDescription:"Setup project details for showing info on invoices, statement, etc.",moduleType:"ConfigureProjectDetails",moduleClass:"pkgProjectDetails/tsfrmProjectForm",hidden:!1,iconCmp:Object(P.jsx)(I.a,{})},{moduleTitle:"Backup and Restore",moduleDescription:"The most effective way to prevent business data loss is to back up your files.",moduleType:"BackupRestore87885236",isFeatureAvailableInWeb:Object(v.IsDesktopApp)(),hidden:!1,iconCmp:Object(P.jsx)(T.a,{}),children:[{moduleTitle:"Backup",moduleDescription:"This option will allow you to generate and download the backup file of your data.",moduleType:"Backup87885236",moduleClass:"pkgBackupAndRestore/frmBackup",isFeatureAvailableInWeb:!0,hidden:!1,parentModuleType:"BackupRestore87885236",iconCmp:Object(P.jsx)(T.a,{})},{moduleTitle:"Restore",moduleDescription:"This option will allow you to restore your data from the backup file.",moduleType:"Restore",moduleClass:"pkgBackupAndRestore/frmRestore",isFeatureAvailableInWeb:Object(v.IsDesktopApp)(),hidden:!1,parentModuleType:"BackupRestore",iconCmp:Object(P.jsx)(k.a,{})}]},{moduleTitle:"Choose Invoice Template",moduleDescription:"Select default template of invoice for printing.",moduleType:"InvoiceTemplate",moduleClass:"pkgTemplateSelection/tsfrmInvoiceSelection",hidden:!1,iconCmp:Object(P.jsx)(C.a,{})},{moduleTitle:"Configure Customer Fields",moduleDescription:"Add, Modify, Delete fields for Customers.",moduleType:"ConfigureCustomerFields",moduleClass:"pkgCustomCustomersFields/tsfrmCstFieldsShell",hidden:!1,iconCmp:Object(P.jsx)(g.a,{})},{moduleTitle:"Configure Product Fields",moduleDescription:"Add, Modify, Delete custom fields for Products, Stocks.",moduleType:"ConfigureCustomFields",hidden:!1,iconCmp:Object(P.jsx)(y.a,{}),children:[{moduleTitle:"Configure Product Fields",moduleDescription:"Add, Modify, Delete fields for Products.",moduleType:"ConfigureProductFields",moduleClass:"pkgCustomProductFields/tsfrmProductFieldsShell",hidden:!1,parentModuleType:"ConfigureCustomFields",iconCmp:Object(P.jsx)(g.a,{})},{moduleTitle:"Configure Stock Fields",moduleDescription:"Add, Modify, Delete fields for Stock.",moduleType:"ConfigureStockFields",moduleClass:"pkgCustomStockFields/tsfrmStockFieldsShell",hidden:!1,parentModuleType:"ConfigureCustomFields",iconCmp:Object(P.jsx)(y.a,{})}]},{moduleTitle:"Configure Invoice Types",moduleDescription:"Add, Modify, Delete invoice types.",moduleType:"ConfigureInvoiceTypes",moduleClass:"pkgInvoiceTypes/tsfrmInvoiceTypeShell",hidden:!1,iconCmp:Object(P.jsx)(g.a,{})}]}}},{key:"pvtHandleOnLinkClick",value:function(e){var t=this.props.historyProp;!0!==Object(v.isEmpty)(t)&&t.push("/admin"+e||!1)}},{key:"pvtGetUIComponent",value:function(e){var t=this,n=null;return!0===Object(v.isEmpty)(e)||!0===e.hidden?n:n=Object(P.jsx)(c.a,{component:"div",className:"tsVBox",mt:4,ml:7,children:Object(P.jsxs)("div",{className:"tsHBox",children:[Object(P.jsx)("div",{style:{margin:"5px 10px 0 0"},children:e.iconCmp}),Object(P.jsxs)("div",{children:[Object(P.jsx)(l.a,{style:{cursor:"pointer",fontSize:"20px"},color:"primary",onClick:function(){return t.pvtHandleOnLinkClick("/"+e.moduleType)},title:e.moduleTitle,children:e.moduleTitle}),Object(P.jsx)(c.a,{component:"div",style:{fontSize:"13px",margin:"5px 0 0 0"},children:e.moduleDescription})]})]})},e.moduleType)}},{key:"pvtGetJsonFilesComponent",value:function(e){var t=this,n=e||t.pvtGetDataJson().children||[],a=[];return!0===Object(v.isEmpty)(n)?a:(n.forEach((function(e){if(!1===t.pvtIsFeatureAvailableInWeb(e.isFeatureAvailableInWeb))return!0;a.push(t.pvtGetUIComponent(e))})),Object(P.jsx)("div",{style:{margin:"0 0 30px 0"},children:a}))}},{key:"pvtGetBreadcrumbs",value:function(e){var t,n=this,a=e||n.props.moduleType,s=[];return!0===Object(v.isEmpty)(a)?null:(t=Object(v.tsSearchTree)(n.pvtGetDataJson()||{},"moduleType",a),!0===Object(v.isEmpty)(t)||(!1===Object(v.isEmpty)(t.parentModuleType)&&s.push(n.pvtGetBreadcrumbs(t.parentModuleType)),!0===Object(v.isEmpty)(e)?s.push(Object(P.jsx)(d.a,{color:"textPrimary",children:t.moduleTitle},a+"breadcrum")):s.push(Object(P.jsx)(l.a,{color:"inherit",style:{cursor:"pointer"},onClick:function(){return n.pvtHandleOnLinkClick("/"+t.moduleType)},children:t.moduleTitle},a+"breadcrum"))),s)}},{key:"pvtGetSingleModule",value:function(){var e,t=this,a=t.props.moduleType,s=null;if(!0===Object(v.isEmpty)(a))return s;if(e=Object(v.tsSearchTree)(t.pvtGetDataJson()||{},"moduleType",a),!0===Object(v.isEmpty)(e))return s;if(!1===Object(v.isEmpty)(e.children))return s=t.pvtGetJsonFilesComponent(e.children);var i=n(478)("./"+e.moduleClass).default;return s=Object(P.jsx)(i,{moduleInfo:e,historyProp:t.props.history})}},{key:"pvtIsFeatureAvailableInWeb",value:function(e){return!1!==e||!0===Object(v.IsDesktopApp)()}},{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{className:"flex1 tsVBox tsOverFlowAuto",children:[Object(P.jsxs)(c.a,{component:"div",display:"flex",px:6,pb:2,style:{background:"#f5f5f5"},children:[Object(P.jsx)("div",{style:{margin:"25px 6px 0 0"},children:Object(P.jsx)(h.a,{})}),Object(P.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(P.jsx)("div",{style:{fontSize:"25px"},children:" Settings "}),Object(P.jsx)(c.a,{component:"div",style:{fontSize:"13px"},mt:.1}),Object(P.jsx)(c.a,{component:"div",mt:2,children:Object(P.jsxs)(p.a,{separator:Object(P.jsx)(j.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(P.jsx)(l.a,{color:"inherit",style:{cursor:"pointer"},onClick:function(){return e.pvtHandleOnLinkClick("")},children:"Admin"},"adminBread"),e.pvtGetBreadcrumbs()]})})]})]}),Object(P.jsx)(c.a,{component:"div",px:5,className:"flex1 tsVBox tsOverFlowAuto",bgcolor:"background.paper",children:"/admin"===e.pvtGetParamalink()?e.pvtGetJsonFilesComponent():e.pvtGetSingleModule()})]})}}]),o}(o.Component);t.default=G},199:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(40),r=n.n(i),o=(n(328),n(226)),c=n(236),l=n(0);r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(o.default,{})}),document.getElementById("root")),Object(c.default)()},2:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"BaseUrl",(function(){return s})),n.d(t,"IsEmailValid",(function(){return i})),n.d(t,"IsDesktopApp",(function(){return r})),n.d(t,"OriginUrl",(function(){return o})),n.d(t,"LogOut",(function(){return d})),n.d(t,"tsClearCache",(function(){return p})),n.d(t,"tsLogin",(function(){return u})),n.d(t,"tsGetLoggedInUser",(function(){return j})),n.d(t,"tsGetProjectId",(function(){return m})),n.d(t,"tsIsUserLoggedIn",(function(){return h})),n.d(t,"tsIsMobileView",(function(){return v})),n.d(t,"tsGetTimeBySeconds",(function(){return O})),n.d(t,"tsSearchTree",(function(){return f})),n.d(t,"isEmpty",(function(){return b})),n.d(t,"isObjEmpty",(function(){return g})),n.d(t,"isArray",(function(){return x})),n.d(t,"isDate",(function(){return y})),n.d(t,"FindRecordInArrOfObj",(function(){return S})),n.d(t,"tsGetDateFromServerDateForInpField",(function(){return I})),n.d(t,"tsGetDateFromServerDateForPrintField",(function(){return D})),n.d(t,"tsSetInvoiceType",(function(){return C})),n.d(t,"tsGetInvoiceTypes",(function(){return F})),n.d(t,"tsGetInvoiceDispNameByActionCode",(function(){return T})),n.d(t,"tsGetPaymentModes",(function(){return N})),n.d(t,"cloneVar",(function(){return k})),n.d(t,"tsGetInvoiceDispNoByInvoiceNo",(function(){return P})),n.d(t,"tsIsInvoiceByType",(function(){return G})),n.d(t,"tsGetGstAmount",(function(){return A})),n.d(t,"tsGetIGSTAmount",(function(){return E})),n.d(t,"tsGetDefaultToDate",(function(){return R})),n.d(t,"tsGetDefaultFromDate",(function(){return w})),n.d(t,"tsConvertNumInToWords",(function(){return B})),n.d(t,"tsPrintSupplierInvoice",(function(){return H})),n.d(t,"tsGenerateSupplierInvoicePDF",(function(){return L})),n.d(t,"tsPrint",(function(){return V})),n.d(t,"tsPaymentPrint",(function(){return W})),n.d(t,"tsStatementPrint",(function(){return U})),n.d(t,"tsFirePrintCmd",(function(){return M})),n.d(t,"tsGenerateInvoicePDF",(function(){return _})),n.d(t,"tsGeneratePaymentInvoice",(function(){return z})),n.d(t,"tsGenerateStatement",(function(){return q})),n.d(t,"tsDownlodByLink",(function(){return Y})),n.d(t,"tsSaveInLocalStorage",(function(){return K})),n.d(t,"tsGetFromLocalStorage",(function(){return Q})),n.d(t,"tsGetDisplayTextByTaxType",(function(){return Z})),n.d(t,"tsGetTaxTypes",(function(){return X})),n.d(t,"tsGetStates",(function(){return $}));var a=n(8);function s(){return r()?"http://localhost:5000/":window.location.origin+"/"}function i(e){if(b(e))return!1;var t=String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);return Array.isArray(t)&&t.length>0}function r(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof e||"object"!==typeof e.versions||!e.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function o(){return""}var c={},l=[];function d(e){if(c={},K("LoggedInUserDetails",JSON.stringify(c)),K("userDetailsForAppBar",""),p(),b(e)){if("/login"===window.location.pathname)return;window.location.pathname="/login"}e.push("/login")}function p(){K("tsLastSelectedInvoiceType",""),K("tsLastSelectedState","")}function u(e,t,n){if(b(e)||b(t))return window.location.pathname="/login",!1;c={tsKey1:e,tsKey2:t,tsLoggenUserId:n.userId||n.id,tsProjectId:n.projectId},K("LoggedInUserDetails",JSON.stringify(c))}function j(){return!0===g(c)&&(c=JSON.parse(Q("LoggedInUserDetails"))),c||{}}function m(){return j().tsProjectId}function h(){return!0!==g(j())}function v(){return window.innerWidth<800}function O(e){var t=Number(e),n=Math.floor(t/3600),a=Math.floor(t%3600/60),s=Math.floor(t%3600%60);return(n>0?n+":":"")+(a+":")+(1===s.toString().length?"0"+s:s)}function f(e,t,n){if(e[t]===n)return e;if(null!=e.children){var a,s=null;for(a=0;null==s&&a<e.children.length;a++)s=f(e.children[a],t,n);return s}return null}function b(e,t){return null==e||!t&&""===e||x(e)&&0===e.length}function g(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function x(e){return"[object Array]"===toString.call(e)}function y(e){return"[object Date]"===toString.call(e)}function S(e,t,n){var a=null;return!0===b(e)||!0===b(t)||!0===b(n)||e.forEach((function(e){if(e[t]===n)return a=e,!1})),a}function I(e){if(!0===b(e))return"";var t=new Date(e);return!0===b(t)?"":t.toLocaleString()}function D(e){if(!0===b(e))return"";var t=new Date(e);return!0===b(t)?"":t.toLocaleDateString()}function C(e){l=e||[]}function F(e){var t=k(l)||[];return!0===e&&t.push({SINGULAR_NAME:Object(a.GenConstants)().PAYMENT_IN,NAME:Object(a.GenConstants)().PAYMENT_IN,ACT_CODE:Object(a.GenConstants)().PAYMENT_IN_ACT_CODE,INVOICE_NO_STARTS_WITH:"I-"},{SINGULAR_NAME:Object(a.GenConstants)().PAYMENT_OUT,NAME:Object(a.GenConstants)().PAYMENT_OUT,ACT_CODE:Object(a.GenConstants)().PAYMENT_OUT_ACT_CODE,INVOICE_NO_STARTS_WITH:"I-"}),t}function T(e){var t=e;return F(!0).some((function(n){return e===n.ACT_CODE&&(t=n.SINGULAR_NAME,!0)})),t}function N(){return[{name:"Cash"},{name:"Cheque"},{name:"UPI"},{name:"Mobile Wallet"},{name:"Bank Transfer"},{name:"Credit"}]}function k(e,t){if(null===e||void 0===e)return e;if(!1!==t&&e.nodeType&&e.cloneNode)return e.cloneNode(!0);var n,a,s,i,r,o=toString.call(e);if("[object Date]"===o)return new Date(e.getTime());if("[object Array]"===o)for(n=e.length,i=[];n--;)i[n]=k(e[n],t);else if("[object Object]"===o&&e.constructor===Object){for(r in i={},e)i[r]=k(e[r],t);var c=["valueOf","toLocaleString","toString","constructor"];if(c)for(a=c.length;a--;)s=c[a],e.hasOwnProperty(s)&&(i[s]=e[s])}return i||e}function P(e,t,n){var a;return e=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}(e,3),F(!0).forEach((function(s){if(t===s.ACT_CODE)return a=s.INVOICE_NO_STARTS_WITH+e,1===n&&(a="SUP "+s.INVOICE_NO_STARTS_WITH+e),!1})),!0===b(a)&&(a="I-"+e),a}function G(e){var t=F(),n=!1;return t.forEach((function(t){if(e===t.ACT_CODE)return n=!0,!1})),n}function A(e,t,n){var s=0,i=0;return n=n||"sellingPrice",(e||[]).forEach((function(e){e.gstType!==Object(a.GenConstants)().IGST&&(i+=e[n]*e.qty*100/(100+e.gst),s+=e[n]*e.qty)})),((s-i)/2).toFixed(2)}function E(e,t,n){var s=0,i=0;return n=n||"sellingPrice",(e||[]).forEach((function(e){e.gstType===Object(a.GenConstants)().IGST&&(i+=e[n]*e.qty*100/(100+e.gst),s+=e[n]*e.qty)})),(s-i).toFixed(2)}function R(){var e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}function w(){var e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-01"}function B(e){var t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if((e=e.toString()).length>9)return"overflow";var a=("000000000"+e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(a){var s="";return s+=0!==a[1]?(t[Number(a[1])]||n[a[1][0]]+" "+t[a[1][1]])+"Crore ":"",s+=0!==a[2]?(t[Number(a[2])]||n[a[2][0]]+" "+t[a[2][1]])+"Lakh ":"",s+=0!==a[3]?(t[Number(a[3])]||n[a[3][0]]+" "+t[a[3][1]])+"Thousand ":"",s+=0!==a[4]?(t[Number(a[4])]||n[a[4][0]]+" "+t[a[4][1]])+"Hundred ":"",(s+=0!==a[5]?(""!==s?"and ":"")+(t[Number(a[5])]||n[a[5][0]]+" "+t[a[5][1]])+" ":"")+"Only"}}function H(e,t){b(e)||b(t)||M({url:"#/supplierInvoice/"+e+"/"+t,landscape:!0,pageSize:"A5"})}function L(e,t,n){b(e)||b(t)||J({url:"#/supplierInvoice/"+e+"/"+t,landscape:!0,pageSize:"A5",downloadedFileName:P(t,e,!0)+".pdf"},n)}function V(e,t){b(e)||b(t)||M({url:"#/singleInvoice/"+e+"/"+t,landscape:!0,pageSize:"A5"})}function W(e){b(e)||M({url:"#/paymentInvoice/"+e,landscape:!0,pageSize:"A5"})}function U(e,t,n){b(e)||b(t)||b(n)||M({url:"#/statement/"+e+"/"+t+"/"+n,landscape:!1,pageSize:"A4"})}function M(e,t){var n;if(!1!==r()){n=s()+"print";var a={method:"PUT",headers:{"Content-Type":"application/json",projectid:m()},body:JSON.stringify(e)};fetch(n,a).then((function(e){return e.json()})).then((function(e){!1!==e.success?!1===b(t)&&t():console.error(e)}),(function(e){console.error(e)}))}else{var i=window.open(e.url);i.onload=function(){setTimeout((function(){i.print()}),100)}}}function _(e,t,n){b(e)||b(t)||J({url:"#/singleInvoice/"+e+"/"+t,landscape:!0,pageSize:"A5",downloadedFileName:P(t,e)+".pdf"},n)}function z(e,t){b(e)||J({url:"#/paymentInvoice/"+e,landscape:!0,pageSize:"A5",downloadedFileName:P(e)+".pdf"},t)}function q(e,t,n,a){b(e)||b(t)||b(n)||J({url:"#/statement/"+e+"/"+t+"/"+n,landscape:!1,pageSize:"A4",downloadedFileName:"Customer Statement "+I(t)+" to "+I(n)+".pdf"},a)}function J(e,t){var n;n=s()+"pdf";var a={method:"PUT",headers:{"Content-Type":"application/json",projectid:m()},body:JSON.stringify(e)};fetch(n,a).then((function(e){return e.json()})).then((function(n){!1===b(t)&&t(n),!1!==n.success?Y(s()+n.url,e.downloadedFileName):console.error(n)}),(function(e){!1===b(t)&&t(e),console.error(e)}))}function Y(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t||"File"),n.click()}function K(e,t){localStorage.setItem(e,t)}function Q(e){return localStorage.getItem(e)}function Z(e){var t="";return(X()||[]).some((function(n){return n.value===e&&(t=n.text,!0)})),t}function X(){return[{text:"CGST & SGST",value:Object(a.GenConstants)().CSGST},{text:"IGST",value:Object(a.GenConstants)().IGST}]}function $(){return["01-Jammu & Kashmir","02-Himachal Pradesh","03-Punjab","04-Chandigarh","05-Uttarakhand","06-Haryana","07-Delhi","08-Rajasthan","09-Uttar Pradesh","10-Bihar","11-Sikkim","12-Arunachal Pradesh","13-Nagaland","14-Manipur","15-Mizoram","16-Tripura","17-Meghalaya","18-Assam","19-West Bengal","20-Jharkhand","21-Odisha","22-Chhattisgarh","23-Madhya Pradesh","24-Gujarat","25-Daman & Diu","26-Dadra & Nagar Haveli","27-Maharashtra","29-Karnataka","30-Goa","31-Lakshdweep","32-Kerala","33-Tamil Nadu","34-Puducherry","35-Andaman & Nicobar Islands","36-Telangana","37-Andhra Pradesh","97-Other Territory"]}}.call(this,n(202))},203:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(16),p=n(144),u=n.n(p),j=n(390),m=n.n(j),h=n(51),v=n(2),O=n(257),f=n(0),b=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SLoading:!1},s}return Object(s.a)(n,[{key:"pvtOnDownloadBtnClick",value:function(e,t){var n,a=this;a.FLoadingText="Generating backup file, please wait...",a.setState({SLoading:!0}),setTimeout((function(){a.setState({SLoading:!1}),n=Object(v.BaseUrl)()+"backup-restores/backup",!0===e?Object(v.tsDownlodByLink)(n):fetch(n),!1===Object(v.isEmpty)(t)&&t()}),2e3)}},{key:"pvtOpenFolder",value:function(){var e,t=this;e=Object(v.BaseUrl)()+"backup-restores/openfolder",t.FLoadingText="Opening the folder, please wait...",t.setState({SLoading:!0}),fetch(e).then((function(e){return e.json()})).then((function(e){t.setState({SLoading:!1})}),(function(e){t.setState({SLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"flex1 tsVBox",children:[Object(f.jsxs)(l.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(f.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(f.jsx)(u.a,{})}),Object(f.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(f.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(f.jsx)(l.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(f.jsx)("div",{className:"flex1",children:Object(f.jsxs)("div",{className:"tsVBox",style:{margin:"30px 0 0 70px"},children:[Object(f.jsx)("div",{children:Object(f.jsx)(d.a,{variant:"contained",color:"primary",startIcon:Object(f.jsx)(m.a,{}),size:"small",onClick:function(){e.pvtOnDownloadBtnClick(!1,(function(){return e.pvtOpenFolder()}))},children:"Save backup file in Users folder"})}),Object(f.jsx)("div",{style:{margin:"20px 0 0 130px"},children:Object(f.jsx)("span",{className:"",children:"OR"})}),Object(f.jsx)("div",{children:Object(f.jsx)(d.a,{variant:"outlined",color:"secondary",startIcon:Object(f.jsx)(u.a,{}),style:{margin:"20px 0 0 0"},size:"small",onClick:function(){return e.pvtOnDownloadBtnClick(!0)},children:"Generate and download the backup file"})}),Object(f.jsxs)("span",{style:{marginTop:15},className:"tsHelpText",children:["If the file has not downloaded automatically, ",Object(f.jsx)(O.b,{onClick:function(){return e.pvtOpenFolder()},children:"click here"})," to open file path manually."]})]})}),Object(f.jsx)(h.default,{PLoadingText:e.FLoadingText,PIsLoading:e.state.SLoading})]})}}]),n}(c.Component);t.default=b},204:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(20),p=n(16),u=n(258),j=n.n(u),m=n(395),h=n.n(m),v=n(51),O=n(2),f=n(15),b=n(0),g=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={SLoading:!1,IsAlertDialogOpen:!1},r.FForm=l.a.createRef(),r.FFileField=l.a.createRef(),s}return Object(s.a)(n,[{key:"pvtOnDownloadBtnClick",value:function(e,t){var n,a=this;a.FLoadingText="Generating backup file, please wait...",a.setState({SLoading:!0}),setTimeout((function(){a.setState({SLoading:!1}),n=Object(O.BaseUrl)()+"backup-restores/backup",!0===e?Object(O.tsDownlodByLink)(n):fetch(n),!1===Object(O.isEmpty)(t)&&t()}),2e3)}},{key:"pvtOpenFolder",value:function(){var e,t=this;e=Object(O.BaseUrl)()+"backup-restores/openfolder",t.FLoadingText="Opening the folder, please wait...",t.setState({SLoading:!0}),fetch(e).then((function(e){return e.json()})).then((function(e){t.setState({SLoading:!1})}),(function(e){t.setState({SLoading:!1})}))}},{key:"pvtOnFormSubmit",value:function(e){return!1}},{key:"pvtOnBtnClick",value:function(){var e=this,t=e.FFileField.current.value;if(!0===Object(O.isEmpty)(t))return e.FWarningText="Select the backup file which you want to restore and try again.",void e.setState({IsAlertDialogOpen:!0});e.FForm.current.submit()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"flex1 tsVBox",children:[Object(b.jsxs)(d.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(b.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(b.jsx)(j.a,{})}),Object(b.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(b.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(b.jsx)(d.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(b.jsx)("div",{className:"flex1",children:Object(b.jsx)("div",{className:"tsVBox",style:{margin:"30px 0 0 70px"},children:Object(b.jsx)("form",{enctype:"multipart/form-data",action:Object(O.BaseUrl)()+"backup-restores/uploadfile",method:"post",ref:e.FForm,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{accept:".tnl",id:"contained-button-file",multiple:!1,type:"file",name:"tsFileField",ref:e.FFileField}),Object(b.jsx)("div",{style:{marginTop:25},children:Object(b.jsx)(p.a,{variant:"contained",color:"primary",startIcon:Object(b.jsx)(h.a,{}),size:"small",onClick:e.pvtOnBtnClick.bind(e),children:"Upload File and Restore data"})}),Object(b.jsx)("div",{style:{margin:"20px 0 0 0"},children:Object(b.jsxs)("span",{className:"tsHelpText",children:[Object(b.jsx)("b",{children:"Note"}),": Make sure you take a backup before restoring the data because once a new file is uploaded then there is no way to go with existing data."]})})]})})})}),Object(b.jsx)(v.default,{PLoadingText:e.FLoadingText,PIsLoading:e.state.SLoading}),Object(b.jsx)(f.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(b.jsx)(b.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=g},206:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(96),d=n.n(l),p=n(60),u=n.n(p),j=n(52),m=n.n(j),h=n(59),v=n.n(h),O=n(16),f=n(20),b=n(91),g=n(44),x=n(45),y=n(36),S=n(2),I=n(162),D=n(15),C=n(8),F=n(142),T=n.n(F),N=n(0),k=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,UserRecord:{},CanShowWarningIcon:!1,IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1},r.F_callBackOnCnfrmTrue=null,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchCustomersFields()}},{key:"pvtRefresh",value:function(){this.pvtFetchCustomersFields(),this.FSelectedRecord=null,this.setState({FetchedData:null})}},{key:"pvtFetchCustomersFields",value:function(){var e,t=this,n=this;e=Object(S.BaseUrl)()+"customFields/type/"+Object(C.GenConstants)().CUSTOMER_CSTM_FIELDS;var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()}};fetch(e,a).then((function(e){return e.json()})).then((function(e){!1!==e.success?n.setState({FetchedData:e}):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}},{key:"pvtLoadDlg",value:function(){var e=this;return!1===e.state.CanInvokeDialogOpen?Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(I.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateUserStore:function(t){return e.UpdateUserStore(t)},UserRecord:e.state.UserRecord||{}})}},{key:"pvtEditUser",value:function(e){if(!0!==Object(S.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,UserRecord:t})}}},{key:"UpdateUserStore",value:function(e){var t=[],n=!0;!0!==Object(S.isEmpty)(e)&&((this.state.FetchedData||[]).forEach((function(a){if(a.id===e.id)return t.push(e),n=!1,!0;t.push(a)})),!0===n&&t.push(e),this.setState({FetchedData:t}))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Field and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditUser(e.FSelectedRecord)}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtDelete",value:function(){var e,t,n=this,a=this,s=[],i=[];if(!0===Object(S.isEmpty)(a.FSelectedRecord))return a.FWarningText="Select a Field and try again.",void a.setState({IsAlertDialogOpen:!0});t=Object(S.BaseUrl)()+"customFields/"+a.FSelectedRecord.id,s=a.state.FetchedData||[],a.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){"error"!==e.status?(a.FSelectedRecord=null,s.forEach((function(t){if(t.id===e.id)return!0;i.push(t)})),a.setState({FetchedData:i,IsCnfrmDialogOpen:!1})):a.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}),(function(e){n.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Field and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this field?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(O.a,{onClick:function(){!1===Object(S.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(N.jsx)(N.Fragment,{})}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"flex1 tsVBox",children:[Object(N.jsxs)(f.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(N.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(N.jsx)(d.a,{})}),Object(N.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(N.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(N.jsx)(f.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(N.jsxs)(b.a,{style:{margin:"0 0 0 30px"},component:"div",variant:"dense",children:[Object(N.jsx)(O.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,UserRecord:{}})},children:"New Field"}),Object(N.jsx)(O.a,{size:"small",style:{margin:"0 0 0 10px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(N.jsx)(m.a,{}),children:"Edit Field"}),Object(N.jsx)(O.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(N.jsx)(v.a,{}),children:"Delete Field"}),Object(N.jsx)(g.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){e.pvtRefresh()},children:Object(N.jsx)(x.a,{title:"Refresh",children:Object(N.jsx)(u.a,{})})})]}),Object(N.jsx)("div",{style:{margin:"5px 10px 20px 50px",maxWidth:"700px"},className:"flex1",children:Object(N.jsx)(y.a,{columns:[{field:"fieldName",headerName:"Field Name",headerClassName:"tsGridHeader",minWidth:300,flex:1},{field:"fieldType",headerName:"Field Type",headerClassName:"tsGridHeader",minWidth:150},{field:"isRequired",headerName:"Required?",headerClassName:"tsGridHeader",width:150,renderCell:function(e){return Object(N.jsx)(N.Fragment,{children:1===e.value?Object(N.jsx)(T.a,{}):""})}}],rows:e.state.FetchedData||[],pagination:!0,csvOptions:{allColumns:!1},loading:null===e.state.FetchedData,onCellDoubleClick:function(t){return e.pvtEditUser(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)},hideFooter:!0})}),e.pvtLoadDlg(),Object(N.jsx)(D.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(N.jsx)(N.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(N.jsx)(D.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=k},207:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(96),d=n.n(l),p=n(60),u=n.n(p),j=n(52),m=n.n(j),h=n(59),v=n.n(h),O=n(16),f=n(20),b=n(91),g=n(44),x=n(45),y=n(36),S=n(2),I=n(163),D=n(15),C=n(8),F=n(142),T=n.n(F),N=n(54),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,UserRecord:{},CanShowWarningIcon:!1,IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1,SInvoiceType:""},r.F_callBackOnCnfrmTrue=null,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchProductsFields()}},{key:"pvtRefresh",value:function(){var e=this;e.FSelectedRecord=null,e.setState({FetchedData:null}),e.pvtFetchProductsFields()}},{key:"pvtFetchProductsFields",value:function(e){var t,n=this,a=e||n.state.SInvoiceType;if(!0!==Object(S.isEmpty)(a)){t=Object(S.BaseUrl)()+"customFields/type/"+Object(C.GenConstants)().PRODUCT_CSTM_FIELDS+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()}};fetch(t,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0});n.setState({FetchedData:e})}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}}},{key:"pvtLoadDlg",value:function(){var e=this;return!1===e.state.CanInvokeDialogOpen?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(I.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateUserStore:function(t){return e.UpdateUserStore(t)},UserRecord:e.state.UserRecord||{},InvoiceType:e.state.SInvoiceType})}},{key:"pvtEditUser",value:function(e){if(!0!==Object(S.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,UserRecord:t})}}},{key:"UpdateUserStore",value:function(e){var t=[],n=!0;!0!==Object(S.isEmpty)(e)&&((this.state.FetchedData||[]).forEach((function(a){if(a.id===e.id)return t.push(e),n=!1,!0;t.push(a)})),!0===n&&t.push(e),this.setState({FetchedData:t}))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Field and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditUser(e.FSelectedRecord)}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtDelete",value:function(){var e,t,n=this,a=this,s=[],i=[];if(!0===Object(S.isEmpty)(a.FSelectedRecord))return a.FWarningText="Select a Field and try again.",void a.setState({IsAlertDialogOpen:!0});t=Object(S.BaseUrl)()+"customFields/"+a.FSelectedRecord.id,s=a.state.FetchedData||[],a.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){"error"!==e.status?(a.FSelectedRecord=null,s.forEach((function(t){if(t.id===e.id)return!0;i.push(t)})),a.setState({FetchedData:i,IsCnfrmDialogOpen:!1})):a.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}),(function(e){n.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Field and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this field?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(O.a,{onClick:function(){!1===Object(S.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(k.jsx)(k.Fragment,{})}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){var t=this;t.setState({SInvoiceType:e}),t.FSelectedRecord=null,t.pvtFetchProductsFields(e)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"flex1 tsVBox",children:[Object(k.jsxs)(f.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(k.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(k.jsx)(d.a,{})}),Object(k.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(k.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(k.jsx)(f.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(k.jsxs)(b.a,{style:{margin:"0 0 0 30px"},component:"div",variant:"dense",children:[Object(k.jsx)(O.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,UserRecord:{}})},children:"New Field"}),Object(k.jsx)(O.a,{size:"small",style:{margin:"0 0 0 10px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(k.jsx)(m.a,{}),children:"Edit Field"}),Object(k.jsx)(O.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(k.jsx)(v.a,{}),children:"Delete Field"}),Object(k.jsx)(g.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){e.pvtRefresh()},children:Object(k.jsx)(x.a,{title:"Refresh",children:Object(k.jsx)(u.a,{})})}),Object(k.jsx)(N.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Product Fields Type"})]}),Object(k.jsx)("div",{style:{margin:"5px 10px 20px 50px",maxWidth:"700px"},className:"flex1",children:Object(k.jsx)(y.a,{columns:[{field:"fieldName",headerName:"Field Name",headerClassName:"tsGridHeader",minWidth:300,flex:1},{field:"fieldType",headerName:"Field Type",headerClassName:"tsGridHeader",minWidth:150},{field:"isRequired",headerName:"Required?",headerClassName:"tsGridHeader",width:150,renderCell:function(e){return Object(k.jsx)(k.Fragment,{children:1===e.value?Object(k.jsx)(T.a,{}):""})}}],rows:e.state.FetchedData||[],pagination:!0,csvOptions:{allColumns:!1},loading:null===e.state.FetchedData,onCellDoubleClick:function(t){return e.pvtEditUser(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)},hideFooter:!0})}),e.pvtLoadDlg(),Object(k.jsx)(D.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(k.jsx)(D.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=P},208:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(96),d=n.n(l),p=n(60),u=n.n(p),j=n(52),m=n.n(j),h=n(59),v=n.n(h),O=n(16),f=n(20),b=n(91),g=n(44),x=n(45),y=n(36),S=n(2),I=n(164),D=n(15),C=n(8),F=n(142),T=n.n(F),N=n(54),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,UserRecord:{},CanShowWarningIcon:!1,IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1,SInvoiceType:""},r.F_callBackOnCnfrmTrue=null,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchProductsFields()}},{key:"pvtRefresh",value:function(){this.FSelectedRecord=null,this.setState({FetchedData:null}),this.pvtFetchProductsFields()}},{key:"pvtFetchProductsFields",value:function(e){var t,n=this,a=e||n.state.SInvoiceType;if(!0!==Object(S.isEmpty)(a)){t=Object(S.BaseUrl)()+"customFields/type/"+Object(C.GenConstants)().STOCK_CSTM_FIELDS+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()}};fetch(t,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0});n.setState({FetchedData:e})}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}}},{key:"pvtLoadDlg",value:function(){var e=this;return!1===e.state.CanInvokeDialogOpen?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(I.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateUserStore:function(t){return e.UpdateUserStore(t)},UserRecord:e.state.UserRecord||{},InvoiceType:e.state.SInvoiceType})}},{key:"pvtEditUser",value:function(e){if(!0!==Object(S.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,UserRecord:t})}}},{key:"UpdateUserStore",value:function(e){var t=[],n=!0;!0!==Object(S.isEmpty)(e)&&((this.state.FetchedData||[]).forEach((function(a){if(a.id===e.id)return t.push(e),n=!1,!0;t.push(a)})),!0===n&&t.push(e),this.setState({FetchedData:t}))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Field and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditUser(e.FSelectedRecord)}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtDelete",value:function(){var e,t,n=this,a=this,s=[],i=[];if(!0===Object(S.isEmpty)(a.FSelectedRecord))return a.FWarningText="Select a Field and try again.",void a.setState({IsAlertDialogOpen:!0});t=Object(S.BaseUrl)()+"customFields/"+a.FSelectedRecord.id,s=a.state.FetchedData||[],a.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){"error"!==e.status?(a.FSelectedRecord=null,s.forEach((function(t){if(t.id===e.id)return!0;i.push(t)})),a.setState({FetchedData:i,IsCnfrmDialogOpen:!1})):a.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}),(function(e){n.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Field and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this field?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(O.a,{onClick:function(){!1===Object(S.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(k.jsx)(k.Fragment,{})}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){var t=this;t.setState({SInvoiceType:e}),t.FSelectedRecord=null,t.pvtFetchProductsFields(e)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"flex1 tsVBox",children:[Object(k.jsxs)(f.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(k.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(k.jsx)(d.a,{})}),Object(k.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(k.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(k.jsx)(f.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(k.jsxs)(b.a,{style:{margin:"0 0 0 30px"},component:"div",variant:"dense",children:[Object(k.jsx)(O.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,UserRecord:{}})},children:"New Field"}),Object(k.jsx)(O.a,{size:"small",style:{margin:"0 0 0 10px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(k.jsx)(m.a,{}),children:"Edit Field"}),Object(k.jsx)(O.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(k.jsx)(v.a,{}),children:"Delete Field"}),Object(k.jsx)(g.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){e.pvtRefresh()},children:Object(k.jsx)(x.a,{title:"Refresh",children:Object(k.jsx)(u.a,{})})}),Object(k.jsx)(N.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Stock Fields Type"})]}),Object(k.jsx)("div",{style:{margin:"5px 10px 20px 50px",maxWidth:"700px"},className:"flex1",children:Object(k.jsx)(y.a,{columns:[{field:"fieldName",headerName:"Field Name",headerClassName:"tsGridHeader",minWidth:300,flex:1},{field:"fieldType",headerName:"Field Type",headerClassName:"tsGridHeader",minWidth:150},{field:"isRequired",headerName:"Required?",headerClassName:"tsGridHeader",width:150,renderCell:function(e){return Object(k.jsx)(k.Fragment,{children:1===e.value?Object(k.jsx)(T.a,{}):""})}}],rows:e.state.FetchedData||[],pagination:!0,csvOptions:{allColumns:!1},loading:null===e.state.FetchedData,hideFooter:!0,onCellDoubleClick:function(t){return e.pvtEditUser(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),e.pvtLoadDlg(),Object(k.jsx)(D.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(k.jsx)(D.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=P},209:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(96),d=n.n(l),p=n(60),u=n.n(p),j=n(52),m=n.n(j),h=n(59),v=n.n(h),O=n(16),f=n(20),b=n(91),g=n(44),x=n(45),y=n(36),S=n(2),I=n(165),D=n(15),C=n(0),F=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,UserRecord:{},CanShowWarningIcon:!1,IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1},r.F_callBackOnCnfrmTrue=null,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchInvoiceTypes(!0)}},{key:"pvtRefresh",value:function(){var e=this;e.FSelectedRecord=null,e.setState({FetchedData:null}),e.pvtFetchInvoiceTypes()}},{key:"pvtFetchInvoiceTypes",value:function(e){var t=this;if(!0!==e){var n=Object(S.BaseUrl)()+"invoicetypes",a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()}};fetch(n,a).then((function(e){return e.json()})).then((function(e){!1!==e.success?(Object(S.tsSetInvoiceType)(e),t.setState({FetchedData:e})):t.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}else t.setState({FetchedData:Object(S.tsGetInvoiceTypes)()})}},{key:"pvtLoadDlg",value:function(){var e=this;return!1===e.state.CanInvokeDialogOpen?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(I.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateUserStore:function(t){return e.UpdateUserStore(t)},UserRecord:e.state.UserRecord||{}})}},{key:"pvtEdit",value:function(e){if(!0!==Object(S.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,UserRecord:t})}}},{key:"UpdateUserStore",value:function(e){var t=[],n=!0;!0!==Object(S.isEmpty)(e)&&((this.state.FetchedData||[]).forEach((function(a){if(a.id===e.id)return t.push(e),n=!1,!0;t.push(a)})),!0===n&&t.push(e),Object(S.tsSetInvoiceType)(t),this.setState({FetchedData:t}))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(S.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select the invoice type and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEdit(e.FSelectedRecord)}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtDelete",value:function(){var e,t,n=this,a=[],s=[];if(!0===Object(S.isEmpty)(n.FSelectedRecord))return n.FWarningText="Select the invoice type and try again..",void n.setState({IsAlertDialogOpen:!0});t=Object(S.BaseUrl)()+"invoicetypes/"+n.FSelectedRecord.id,a=n.state.FetchedData||[],n.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0,FetchedData:a,IsCnfrmDialogOpen:!1});n.FSelectedRecord=null,a.forEach((function(t){if(t.id===e.id)return!0;s.push(t)})),Object(S.tsSetInvoiceType)(s),n.setState({FetchedData:s,IsCnfrmDialogOpen:!1})}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0,FetchedData:a,IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;return!0===Object(S.isEmpty)(e.FSelectedRecord)?(e.FWarningText="Select the invoice type and try again.",void e.setState({IsAlertDialogOpen:!0})):(e.state.FetchedData||[]).length<=1?(e.FWarningText=Object(C.jsx)(C.Fragment,{children:'At least one "Invoice Type" is mandatory.'}),void e.setState({IsAlertDialogOpen:!0})):(e.FCnfrmText="Are you sure you want to delete this invoice type?",e.F_callBackOnCnfrmTrue=e.pvtDelete,void e.setState({IsCnfrmDialogOpen:!0}))}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(O.a,{onClick:function(){!1===Object(S.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(C.jsx)(C.Fragment,{})}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"flex1 tsVBox",children:[Object(C.jsxs)(f.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(C.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(C.jsx)(d.a,{})}),Object(C.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(C.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(C.jsx)(f.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(C.jsxs)(b.a,{style:{margin:"0 0 0 30px"},component:"div",variant:"dense",children:[Object(C.jsx)(O.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,UserRecord:{}})},children:"New Invoice Type"}),Object(C.jsx)(O.a,{size:"small",style:{margin:"0 0 0 10px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(C.jsx)(m.a,{}),children:"Edit Invoice Type"}),Object(C.jsx)(O.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(C.jsx)(v.a,{}),children:"Delete Invoice Type"}),Object(C.jsx)(g.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){e.pvtRefresh()},children:Object(C.jsx)(x.a,{title:"Refresh",children:Object(C.jsx)(u.a,{})})})]}),Object(C.jsx)("div",{style:{margin:"5px 10px 20px 50px",maxWidth:"800px"},className:"flex1",children:Object(C.jsx)(y.a,{columns:[{field:"NAME",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:300,flex:1},{field:"SINGULAR_NAME",headerName:"Singular Type",headerClassName:"tsGridHeader",minWidth:200},{field:"INVOICE_NO_STARTS_WITH",headerName:"Invoice no starts with",headerClassName:"tsGridHeader",minWidth:220}],rows:e.state.FetchedData||[],pagination:!0,csvOptions:{allColumns:!1},loading:null===e.state.FetchedData,onCellDoubleClick:function(t){return e.pvtEdit(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)},hideFooter:!0})}),e.pvtLoadDlg(),Object(C.jsx)(D.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(C.jsx)(C.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(C.jsx)(D.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=F},210:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(20),p=n(91),u=n(16),j=n(44),m=n(45),h=n(2),v=n(170),O=n.n(v),f=n(60),b=n.n(f),g=n(142),x=n.n(g),y=n(36),S=n(133),I=n(52),D=n.n(I),C=n(15),F=n(0),T=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,UserRecord:{},IsAlertDialogOpen:!1},r.FGridRef=l.a.createRef(),s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchUsers()}},{key:"pvtRefresh",value:function(){this.pvtFetchUsers(),this.setState({FetchedData:null})}},{key:"pvtFetchUsers",value:function(){var e,t=this,n=this;e=Object(h.BaseUrl)()+"users";var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(e,a).then((function(e){return e.json()})).then((function(e){"error"!==e.status?n.setState({FetchedData:e}):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}},{key:"pvtLoadUserDialog",value:function(){var e=this;return!1===e.state.CanInvokeDialogOpen?Object(F.jsx)(F.Fragment,{}):Object(F.jsx)(S.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateUserStore:function(t){return e.UpdateUserStore(t)},UserRecord:e.state.UserRecord||{},PAllUsers:e.state.FetchedData||[]})}},{key:"pvtEditUser",value:function(e){if(!0!==Object(h.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,UserRecord:t})}}},{key:"UpdateUserStore",value:function(e){var t=[],n=!0;!0!==Object(h.isEmpty)(e)&&((this.state.FetchedData||[]).forEach((function(a){if(a.id===e.id)return t.push(e),n=!1,!0;t.push(a)})),!0===n&&t.push(e),this.setState({FetchedData:t}))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(h.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a User and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditUser(e.FSelectedRecord)}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{className:"flex1 tsVBox",children:[Object(F.jsxs)(d.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(F.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(F.jsx)(O.a,{})}),Object(F.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(F.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(F.jsx)(d.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(F.jsxs)(p.a,{style:{margin:"0 0 0 30px"},component:"div",variant:"dense",children:[Object(F.jsx)(u.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,UserRecord:{}})},children:"New User"}),Object(F.jsx)(u.a,{size:"small",style:{margin:"0 0 0 10px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(F.jsx)(D.a,{}),children:"Edit User"}),Object(F.jsx)(j.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(F.jsx)(m.a,{title:"Refresh",children:Object(F.jsx)(b.a,{})})})]}),Object(F.jsx)("div",{style:{margin:"5px 10px 20px 50px",maxWidth:"1000px"},className:"flex1",children:Object(F.jsx)(y.a,{columns:[{field:"isActive",headerName:"Active",headerClassName:"tsGridHeader",width:120,renderCell:function(e){return Object(F.jsx)(F.Fragment,{children:1===e.value?Object(F.jsx)(x.a,{}):""})}},{field:"displayName",headerName:"Name",headerClassName:"tsGridHeader",flex:1,color:"primary",sort:"asc"},{field:"username",headerName:"Email",headerClassName:"tsGridHeader",minWidth:200},{field:"password",headerName:"Password",headerClassName:"tsGridHeader",minWidth:150,hide:!0}],rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:y.b},density:"compact",onCellDoubleClick:function(t){return e.pvtEditUser(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)},hideFooter:!0})}),e.pvtLoadUserDialog(),Object(F.jsx)(C.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(F.jsx)(F.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=T},211:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n(20),p=n(16),u=n(2),j=n(317),m=n(52),h=n.n(m),v=n(41),O=n.n(v),f=n(171),b=n.n(f),g=n(120),x=n(29),y=n(0),S=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Object(r.a)(a).state={SIsEditMode:!1,SFetchedData:{},SIsLoading:!1},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchProjectDetails()}},{key:"pvtFetchProjectDetails",value:function(){var e,t=this;e=Object(u.BaseUrl)()+"project",t.setState({SIsLoading:!0});var n={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}};fetch(e,n).then((function(e){return e.json()})).then((function(e){!1!==e.status?t.setState({SFetchedData:e,SIsLoading:!1}):t.setState({SIsLoading:!1})}),(function(e){t.setState({SIsLoading:!1})}))}},{key:"pvtSave",value:function(){var e,t,n=this,a=this,s=a.state.SFetchedData||{};e={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()},body:JSON.stringify(s)},t=Object(u.BaseUrl)()+"project/"+Object(u.tsGetProjectId)(),!0!==a.state.SIsLoading&&(a.setState({SIsLoading:!0}),fetch(t,e).then((function(e){return e.json()})).then((function(e){a.setState({SIsLoading:!1,SIsEditMode:!1}),!1!==e.success&&Object(u.isEmpty)(e)}),(function(e){n.setState({SIsLoading:!1})})))}},{key:"pvtGetLiscenseDispName",value:function(e){return(e=e||"").replaceAll(",",",")}},{key:"pvtGetHeaderBox",value:function(){return Object(y.jsxs)(d.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(y.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(y.jsx)(b.a,{})}),Object(y.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(y.jsxs)("div",{style:{fontSize:"20px"},children:[" ",this.props.moduleInfo.moduleTitle," "]}),Object(y.jsx)(d.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:this.props.moduleInfo.moduleDescription})]})]})}},{key:"render",value:function(){var e=this,t=e.state.SFetchedData||{},n=e.state.SIsEditMode;return Object(y.jsxs)("div",{className:"flex1 tsVBox",children:[e.pvtGetHeaderBox(),Object(y.jsxs)("div",{style:{margin:"5px 10px 20px 50px",maxWidth:700},className:"flex1 tsVBox",children:[Object(y.jsx)("div",{className:"tsHBox",children:!1===n?Object(y.jsx)(p.a,{size:"small",style:{margin:"0 0 5px 0"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.setState({SIsEditMode:!0})},startIcon:Object(y.jsx)(h.a,{}),children:"Edit Details"}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(p.a,{size:"small",style:{margin:"0 0 5px 0"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.pvtSave()},startIcon:e.state.SIsLoading?"":Object(y.jsx)(O.a,{}),children:e.state.SIsLoading?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(g.a,{size:20,color:"inherit"})," ",Object(y.jsx)("span",{style:{margin:"0 0 0 10px"},children:"Loading..."})]}):"Save Details"})})}),Object(y.jsxs)("div",{className:"flex1 tsVBox tsOverFlowAuto",children:[Object(y.jsx)("div",{className:"tsHBox tsInvoiceViewBorder",children:Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:Object(y.jsx)("b",{children:"Organisation Details"})})}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"Name"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.orgName:Object(y.jsx)("input",{type:"text",value:t.orgName,onChange:function(n){t.orgName=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"})})]}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"Address"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.orgAddress:Object(y.jsx)("textarea",{value:t.orgAddress,onChange:function(n){t.orgAddress=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"})})]}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"City"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.orgCity:Object(y.jsx)("input",{type:"text",value:t.orgCity,onChange:function(n){t.orgCity=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"})})]}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"Pin Code"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.orgPincode:Object(y.jsx)("input",{type:"number",value:t.orgPincode,onChange:function(n){t.orgPincode=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"})})]}),Object(y.jsx)("div",{className:"tsHBox tsInvoiceViewBorder",children:Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:Object(y.jsx)("b",{children:"Proprietor Details"})})}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"Name"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.propName:Object(y.jsx)("input",{type:"text",value:t.propName,onChange:function(n){t.propName=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"})})]}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"Mobile Number"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.propMobileNo:Object(y.jsx)("input",{type:"text",value:t.propMobileNo,onChange:function(n){t.propMobileNo=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"})})]}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:"State"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?t.propState:Object(y.jsx)(j.a,{options:Object(u.tsGetStates)(),getOptionLabel:function(e){return e||""},clearOnEscape:!0,value:t.propState,onChange:function(n,a,s){t.propState=a,e.setState({SFetchedData:t})},renderInput:function(e){return Object(y.jsx)(x.a,Object(a.a)(Object(a.a)({},e),{},{label:"State",margin:"dense"}))}})})]}),Object(y.jsx)("div",{className:"tsHBox tsInvoiceViewBorder",children:Object(y.jsx)("span",{className:"tsInvoiceViewDispField",children:Object(y.jsx)("b",{children:"Liscense/GST Numbers"})})}),Object(y.jsxs)("div",{className:"tsHBox",children:[Object(y.jsx)("span",{className:"tsInvoiceViewDispField"}),Object(y.jsx)("span",{className:"tsInvoiceViewValField flex1",children:!1===n?e.pvtGetLiscenseDispName(t.liscenseNos):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("textarea",{value:t.liscenseNos,onChange:function(n){t.liscenseNos=n.currentTarget.value,e.setState({SFetchedData:t})},className:"tsDetailEditorEditField"}),Object(y.jsx)("span",{className:"tsHelpText tsGrayColor",children:"Comma seperated liscense numbers and GST number will print on seperate line on Invoices."})]})})]}),Object(y.jsx)("div",{className:"tsHBox tsInvoiceViewBorder"})]})]})]})}}]),n}(l.Component);t.default=S},212:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(181),d=n(631),p=n(20),u=n(16),j=n(65),m=n(634),h=n(2),v=n(8),O=n(41),f=n.n(O),b=n(171),g=n.n(b),x=n(120),y=n(81),S=n(0),I=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SIsLoading:!1,STemplate:"",SInvoiceNo:1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtLoadTemplates(),this.pvtFetchProjectDetails()}},{key:"pvtFetchProjectDetails",value:function(){var e,t=this;e=Object(h.BaseUrl)()+"project",t.setState({SIsLoading:!0});var n={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()}};fetch(e,n).then((function(e){return e.json()})).then((function(e){!1!==e.status?(t.FTplActionCode=e.defaultInvoice||t.FTemplatesArr[0].tplActionCode,t.setState({SIsLoading:!1,STemplate:t.FTplActionCode})):t.setState({SIsLoading:!1})}),(function(e){t.setState({SIsLoading:!1})}))}},{key:"pvtLoadTemplates",value:function(){this.FTemplatesArr=[{tplTitle:"GST Theme 1",tplActionCode:"tpl1"},{tplTitle:"Document Theme",tplActionCode:"tpl2"}]}},{key:"pvtGetTemplates",value:function(){var e=this,t=[];return e.FTemplatesArr=e.FTemplatesArr||[],e.FTemplatesArr.forEach((function(e){t.push(Object(S.jsx)(l.a,{value:e.tplActionCode,control:Object(S.jsx)(d.a,{color:"primary"}),label:e.tplTitle}))})),Object(S.jsx)(S.Fragment,{children:t})}},{key:"pvtSave",value:function(){var e,t,n=this,a=this,s={defaultInvoice:a.state.STemplate};e={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()},body:JSON.stringify(s)},t=Object(h.BaseUrl)()+"project/invoice/"+Object(h.tsGetProjectId)(),!0!==a.state.SIsLoading&&(a.setState({SIsLoading:!0}),fetch(t,e).then((function(e){return e.json()})).then((function(e){!1===e.success||Object(h.isEmpty)(e)||(a.FTplActionCode=e.defaultInvoice||a.state.STemplate),a.setState({SIsLoading:!1})}),(function(e){n.setState({SIsLoading:!1})})))}},{key:"pvtGetInvoice",value:function(){return Object(S.jsx)(y.default,{PInvoiceNoAndType:{invoiceNo:this.state.SInvoiceNo,invoiceType:Object(v.GenConstants)().PESTICIDE_ACT_CODE},PTplActionCode:this.state.STemplate,PIsShowingInApp:!0})}},{key:"render",value:function(){var e=this;return Object(S.jsxs)("div",{className:"flex1 tsVBox tsOverFlowAuto",children:[Object(S.jsxs)(p.a,{component:"div",display:"flex",px:4,pb:2,children:[Object(S.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(S.jsx)(g.a,{})}),Object(S.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(S.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.moduleTitle," "]}),Object(S.jsx)(p.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:e.props.moduleInfo.moduleDescription})]})]}),Object(S.jsxs)("div",{style:{margin:"5px 0px 20px 50px"},className:"flex1 tsHBox tsOverFlowAuto",children:[Object(S.jsxs)("div",{className:"tsVBox",style:{margin:"0 10px 0 0"},children:[e.FTplActionCode===e.state.STemplate?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)("div",{children:Object(S.jsx)(u.a,{size:"small",style:{margin:"0 0 20px 0"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.pvtSave()},startIcon:e.state.SIsLoading?"":Object(S.jsx)(f.a,{}),children:e.state.SIsLoading?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.a,{size:20,color:"inherit"})," ",Object(S.jsx)("span",{style:{margin:"0 0 0 10px"},children:"Loading..."})]}):"Save Details"})}),Object(S.jsx)(j.a,{component:"fieldset",style:{margin:"0 0 0 0"},children:Object(S.jsx)(m.a,{style:{margin:"5px 0 0 0"},value:e.state.STemplate,onChange:function(t){return e.setState({STemplate:t.target.value})},children:e.pvtGetTemplates()})})]}),Object(S.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"-0 0 0 0"},children:[Object(S.jsx)("span",{style:{fontWeight:"bold",textAlign:"right"},children:"Theme Preview"}),Object(S.jsx)("div",{className:"flex1 tsVBox tsOverFlowAuto",style:{border:"1px solid #aaa"},children:e.pvtGetInvoice()})]})]})]})}}]),n}(c.Component);t.default=I},213:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(8),d=n(2),p=n(107),u=(n(279),n(0)),j=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SProducts:[]},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.PInvoice.customerData||{};!1===Object(d.isEmpty)(e)&&!1===Object(d.isEmpty)(e.cstFieldValues)&&!1===this.props.PIsShowingInApp&&(document.title=e.cstFieldValues.cstName)}},{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(u.jsxs)("tr",{className:"",children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Customer Name: "}),Object(u.jsx)("td",{className:"tsTdVal",children:n.cstName})]}),Object(u.jsx)(u.Fragment,{children:0===n.cstBalance?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)("tr",{className:"",children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Balance: "}),Object(u.jsx)("td",{className:"tsTdVal",children:function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)})]})}),Object(u.jsxs)("tr",{className:"",children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"GST No: "}),Object(u.jsx)("td",{className:"tsTdVal",children:n.cstGSTNo})]})],!1===Object(d.isEmpty)(t)&&(t=t||[]).forEach((function(e){if(!0===e.isSystemField)return!0;s=Object(u.jsxs)("tr",{className:"",children:[Object(u.jsxs)("td",{className:"tsTdProperty",children:[e.fieldName,": "]}),Object(u.jsx)("td",{className:"tsTdVal",children:n[e.columnName]})]}),a.push(s)})),Object(u.jsx)("table",{className:"tsTbl",children:a})}},{key:"pvtGetLicencesUI",value:function(e){var t=[];return(e=(e=e||"").split(",")).forEach((function(e){t.push(Object(u.jsx)("span",{style:{fontSize:13},children:e}))})),t}},{key:"pvtGetGSTContainer",value:function(e,t,n){var a;return(a=n===Object(l.GenConstants)().IGST?Object(d.tsGetIGSTAmount)(e,t):Object(d.tsGetGstAmount)(e,t))<1?null:Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{className:"tsTdProperty",children:[n,": "]}),Object(u.jsxs)("td",{className:"tsTdVal",children:["Rs. ",a]})]})}},{key:"render",value:function(){var e=this,t=e.props.PInvoice||{},n=e.props.PProjectData||{};return Object(u.jsxs)("div",{className:"tsRootPg",children:[Object(u.jsxs)("div",{className:"tsHBox",style:{padding:"10px 0 5px 0"},children:[Object(u.jsx)("div",{className:"tsVBox flex1",style:{textAlign:"start",padding:"0 0 0 10px"},children:e.pvtGetLicencesUI(n.liscenseNos)}),Object(u.jsxs)("span",{className:"tsVBox",style:{textAlign:"center"},children:[Object(u.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},children:n.orgName}),Object(u.jsx)("span",{style:{fontSize:13},children:n.propName}),Object(u.jsxs)("span",{style:{fontSize:13},children:[" ",n.propMobileNo]})]}),Object(u.jsxs)("div",{className:"tsVBox flex1",style:{textAlign:"end",margin:"0 10px 0 0"},children:[Object(u.jsx)("span",{style:{fontSize:13},children:n.orgAddress}),Object(u.jsx)("span",{style:{fontSize:13},children:n.orgCity}),Object(u.jsx)("span",{style:{fontSize:13},children:n.orgPincode})]})]}),Object(u.jsxs)("div",{className:"tsVBox flex1",style:{borderTop:"1px solid #aaa"},children:[Object(u.jsxs)("div",{className:"tsHBox",children:[Object(u.jsx)("div",{className:"tsVBox flex1",children:Object(u.jsx)("div",{children:e.pvtGetCustomerFields(t.customerData)})}),Object(u.jsx)("div",{style:{textAlign:"center",margin:"15px 0 0 0",fontWeight:"bold"},children:"Tax Invoice"}),Object(u.jsxs)("div",{className:"tsHBox flex1",children:[Object(u.jsx)("div",{className:"flex1"}),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{className:"tsTbl",children:[Object(u.jsx)("tr",{children:!1===Object(d.isEmpty)(t.invoiceType)?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Invoice Type: "}),Object(u.jsx)("td",{className:"tsTdVal",children:Object(d.tsGetInvoiceDispNameByActionCode)(t.invoiceType)})]}):Object(u.jsx)(u.Fragment,{})}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Invoice Number: "}),Object(u.jsx)("td",{className:"tsTdVal",children:Object(d.tsGetInvoiceDispNoByInvoiceNo)(t.invoiceNo,t.invoiceType)})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Invoice Date: "}),Object(u.jsx)("td",{className:"tsTdVal",children:Object(d.tsGetDateFromServerDateForPrintField)(t.invoiceDate)})]})]})})]})]}),Object(u.jsx)("div",{className:"tsVBox flex1",style:{borderTop:"1px solid #aaa",borderBottom:"1px solid #aaa"},children:Object(u.jsx)(p.default,{PInvoiceType:t.invoiceType,SetGrandTotal:function(e){},SetProducts:function(t){e.setState({SProducts:t||[]})},PProductsArr:t.products,PIsReadOnlyMode:!0,PIsPrintMode:!0})}),Object(u.jsxs)("div",{className:"tsHBox",style:{borderBottom:"0.5px solid #aaa"},children:[Object(u.jsx)("div",{className:"flex1",children:Object(u.jsxs)("table",{className:"tsTbl",style:{},children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Payment Mode: "}),Object(u.jsx)("td",{className:"tsTdVal",children:t.mode})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Credited Amount: "}),Object(u.jsxs)("td",{className:"tsTdVal",children:["Rs. ",t.creditedAmount]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Invoice Amount In Word: "}),Object(u.jsx)("td",{className:"tsTdVal",style:{fontSize:12},children:Object(d.tsConvertNumInToWords)(t.grandTotal)})]})]})}),Object(u.jsx)("div",{style:{borderLeft:"0.5px solid #aaa"},children:Object(u.jsxs)("table",{className:"tsTbl",style:{},children:[e.pvtGetGSTContainer(e.state.SProducts,t.grandTotal,Object(l.GenConstants)().CGST),e.pvtGetGSTContainer(e.state.SProducts,t.grandTotal,Object(l.GenConstants)().SGST),e.pvtGetGSTContainer(e.state.SProducts,t.grandTotal,Object(l.GenConstants)().IGST),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"tsTdProperty",children:"Total Inovice Amount: "}),Object(u.jsxs)("td",{className:"tsTdVal",children:["Rs. ",Object(u.jsx)("b",{children:t.grandTotal})]})]})]})})]})]}),Object(u.jsxs)("div",{className:"tsHBox",style:{borderBottom:"1px solid #aaa",fontSize:12,paddingTop:15},children:[Object(u.jsx)("div",{className:"flex1",style:{textAlign:"left",marginLeft:10},children:"Authorised Signature"}),Object(u.jsx)("div",{className:"flex1",style:{textAlign:"right",marginRight:10},children:"Customer's Signature"})]})]})}}]),n}(c.Component);t.default=j},214:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(107),p=n(0),u=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SProducts:[]},s}return Object(s.a)(n,[{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Customer Name"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstName})]}),Object(p.jsx)(p.Fragment,{children:0===n.cstBalance?Object(p.jsx)(p.Fragment,{}):Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Balance"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)})]})}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"GST No"},"tskey11"),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstGSTNo},"tskey12")]},"tskey33a")],!1===Object(l.isEmpty)(t)&&(t=t||[]).forEach((function(e){if(!0===e.isSystemField)return!0;s=Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:e.fieldName}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:n[e.columnName]})]}),a.push(s)})),a}},{key:"pvtGetLicencesUI",value:function(e){var t=[];return(e=(e=e||"").split(",")).forEach((function(e){t.push(Object(p.jsx)("span",{style:{fontSize:13},children:e}))})),t}},{key:"render",value:function(){var e=this,t=e.props.PInvoice||{},n=e.props.PProjectData||{};return Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{className:"tsHBox",style:{padding:"10px 0 0 0"},children:[Object(p.jsx)("div",{className:"tsVBox flex1",style:{textAlign:"start",padding:"0 0 0 10px"},children:e.pvtGetLicencesUI(n.liscenseNos)}),Object(p.jsxs)("span",{className:"tsVBox",style:{textAlign:"center"},children:[Object(p.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},children:n.orgName}),Object(p.jsx)("span",{style:{fontSize:13},children:n.propName}),Object(p.jsxs)("span",{style:{fontSize:13},children:[" ",n.propMobileNo]})]}),Object(p.jsxs)("div",{className:"tsVBox flex1",style:{textAlign:"end",margin:"0 10px 0 0"},children:[Object(p.jsx)("span",{style:{fontSize:13},children:n.orgAddress}),Object(p.jsx)("span",{style:{fontSize:13},children:n.orgCity}),Object(p.jsx)("span",{style:{fontSize:13},children:n.orgPincode})]})]}),Object(p.jsxs)("div",{className:"tsVBox",children:[Object(p.jsx)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:!1===Object(l.isEmpty)(t.invoiceType)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Type"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetInvoiceDispNameByActionCode)(t.invoiceType)})]}):Object(p.jsx)(p.Fragment,{})}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Number"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetInvoiceDispNoByInvoiceNo)(t.invoiceNo,t.invoiceType)})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Date"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetDateFromServerDateForPrintField)(t.invoiceDate)})]}),e.pvtGetCustomerFields(t.customerData),Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Payment Mode"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:t.mode})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Credited Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.creditedAmount]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Remark"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:[" ",t.remark]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Products"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField flex1",style:{width:540},children:Object(p.jsx)(d.default,{PInvoiceType:t.invoiceType,SetGrandTotal:function(e){},SetProducts:function(t){e.setState({SProducts:t||[]})},PProductsArr:t.products,PIsReadOnlyMode:!0,PIsPrintMode:!0})})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"SGST Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal)]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"CGST Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal)]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"IGST Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetIGSTAmount)(e.state.SProducts,t.grandTotal)]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Total Inovice Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.grandTotal]})]}),Object(p.jsx)("div",{className:"tsInvoiceViewBorder"})]})]})}}]),n}(c.Component);t.default=u},222:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(2),l=(n(292),n(0)),d=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.PInvoice.customerData||{};!1===Object(c.isEmpty)(e)&&!1===Object(c.isEmpty)(e.cstFieldValues)&&(document.title=e.cstFieldValues.cstName)}},{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(l.jsxs)("tr",{className:"",children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Customer Name: "}),Object(l.jsx)("td",{className:"tsTdVal",children:n.cstName})]},"statementCstName")],!1===Object(c.isEmpty)(t)&&(t=t||[]).forEach((function(e,t){if(!0===e.isSystemField)return!0;s=Object(l.jsxs)("tr",{className:"",children:[Object(l.jsxs)("td",{className:"tsTdProperty",children:[e.fieldName,": "]}),Object(l.jsx)("td",{className:"tsTdVal",children:n[e.columnName]})]},"statementField"+t),a.push(s)})),Object(l.jsx)("table",{className:"tsTbl",children:Object(l.jsx)("tbody",{children:a})})}},{key:"pvtGetTableRows",value:function(e){var t=[];return(e=e||[]).forEach((function(e){t.push(Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(c.tsGetDateFromServerDateForPrintField)(e.paymentDate)}),Object(l.jsx)("td",{children:Object(c.tsGetInvoiceDispNameByActionCode)(e.invoiceType)}),Object(l.jsx)("td",{children:Object(c.tsGetInvoiceDispNoByInvoiceNo)(e.invoiceNo||e.id,e.invoiceType,e.isPurchaserInvoice)}),Object(l.jsx)("td",{children:e.mode}),Object(l.jsxs)("td",{children:["Rs. ",e.total]}),Object(l.jsxs)("td",{children:["Rs. ",e.credit]}),Object(l.jsxs)("td",{children:["Rs. ",e.debit]}),Object(l.jsx)("td",{children:e.balance})]}))})),t}},{key:"render",value:function(){var e=this,t=e.props.PInvoice||{},n=e.props.PProjectData||{};return Object(l.jsxs)("div",{className:"tsRootPg",style:{margin:"10px 0 10px 0"},children:[Object(l.jsxs)("div",{className:"tsHBox",style:{padding:"10px 0 5px 0"},children:[Object(l.jsx)("div",{className:"tsVBox flex1",style:{textAlign:"start",padding:"0 0 0 10px"}}),Object(l.jsxs)("span",{className:"tsVBox",style:{textAlign:"center"},children:[Object(l.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},children:n.orgName}),Object(l.jsx)("span",{style:{fontSize:13},children:n.propName}),Object(l.jsxs)("span",{style:{fontSize:13},children:[" ",n.propMobileNo]})]}),Object(l.jsxs)("div",{className:"tsVBox flex1",style:{textAlign:"end",margin:"0 10px 0 0"},children:[Object(l.jsx)("span",{style:{fontSize:13},children:n.orgAddress}),Object(l.jsx)("span",{style:{fontSize:13},children:n.orgCity}),Object(l.jsx)("span",{style:{fontSize:13},children:n.orgPincode})]})]}),Object(l.jsxs)("div",{className:"tsVBox flex1",style:{borderTop:"0.5px solid #aaa"},children:[Object(l.jsxs)("div",{className:"tsHBox",children:[Object(l.jsx)("div",{className:"tsVBox flex1",children:Object(l.jsx)("div",{children:e.pvtGetCustomerFields(t.customerData)})}),Object(l.jsx)("div",{className:"flex1",style:{textAlign:"center",margin:"15px 0 0 0",fontWeight:"bold"},children:"Statement"}),Object(l.jsxs)("div",{className:"tsHBox flex1",children:[Object(l.jsx)("div",{className:"flex1"}),Object(l.jsx)("div",{children:Object(l.jsx)("table",{className:"tsTbl",children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"From Date: "}),Object(l.jsx)("td",{className:"tsTdVal",children:e.props.PReqParam&&e.props.PReqParam.fromDate})]},"statementFromdate"),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"To Date: "}),Object(l.jsx)("td",{className:"tsTdVal",children:e.props.PReqParam&&e.props.PReqParam.toDate})]},"statementTodate")]})})})]})]}),Object(l.jsxs)("table",{className:"tsStatementTbl",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("th",{children:"Invocie Type"}),Object(l.jsx)("th",{children:"Invocie No"}),Object(l.jsx)("th",{children:"Pay Mode"}),Object(l.jsx)("th",{children:"Total"}),Object(l.jsx)("th",{children:"Credit"}),Object(l.jsx)("th",{children:"Debit"}),Object(l.jsx)("th",{children:"Balance"})]})}),Object(l.jsx)("tbody",{children:e.pvtGetTableRows(t.paymentRecords)})]})]})]})}}]),n}(o.Component);t.default=d},223:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(111),p=(n(293),n(0)),u=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SProducts:[]},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.PInvoice.customerData||{};!1===Object(l.isEmpty)(e)&&!1===Object(l.isEmpty)(e.cstFieldValues)&&(document.title=e.cstFieldValues.cstName)}},{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(p.jsxs)("tr",{className:"",children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Supplier's Name: "}),Object(p.jsx)("td",{className:"tsTdVal",children:n.cstName})]}),Object(p.jsx)(p.Fragment,{children:0===n.cstBalance?Object(p.jsx)(p.Fragment,{}):Object(p.jsxs)("tr",{className:"",children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Balance: "}),Object(p.jsx)("td",{className:"tsTdVal",children:function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)})]})}),Object(p.jsxs)("tr",{className:"",children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"GST No: "}),Object(p.jsx)("td",{className:"tsTdVal",children:n.cstGSTNo})]})],!1===Object(l.isEmpty)(t)&&(t=t||[]).forEach((function(e){if(!0===e.isSystemField)return!0;s=Object(p.jsxs)("tr",{className:"",children:[Object(p.jsxs)("td",{className:"tsTdProperty",children:[e.fieldName,": "]}),Object(p.jsx)("td",{className:"tsTdVal",children:n[e.columnName]})]}),a.push(s)})),Object(p.jsx)("table",{className:"tsTbl",children:a})}},{key:"pvtGetLicencesUI",value:function(e){var t=[];return(e=(e=e||"").split(",")).forEach((function(e){t.push(Object(p.jsx)("span",{style:{fontSize:13},children:e}))})),t}},{key:"render",value:function(){var e=this,t=e.props.PInvoice||{},n=e.props.PProjectData||{};return Object(p.jsxs)("div",{className:"tsRootPg",children:[Object(p.jsxs)("div",{className:"tsHBox",style:{padding:"10px 0 5px 0"},children:[Object(p.jsx)("div",{className:"tsVBox flex1",style:{textAlign:"start",padding:"0 0 0 10px"},children:e.pvtGetLicencesUI(n.liscenseNos)}),Object(p.jsxs)("span",{className:"tsVBox",style:{textAlign:"center"},children:[Object(p.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},children:n.orgName}),Object(p.jsx)("span",{style:{fontSize:13},children:n.propName}),Object(p.jsxs)("span",{style:{fontSize:13},children:[" ",n.propMobileNo]})]}),Object(p.jsxs)("div",{className:"tsVBox flex1",style:{textAlign:"end",margin:"0 10px 0 0"},children:[Object(p.jsx)("span",{style:{fontSize:13},children:n.orgAddress}),Object(p.jsx)("span",{style:{fontSize:13},children:n.orgCity}),Object(p.jsx)("span",{style:{fontSize:13},children:n.orgPincode})]})]}),Object(p.jsxs)("div",{className:"tsVBox flex1",style:{borderTop:"1px solid #aaa"},children:[Object(p.jsxs)("div",{className:"tsHBox",children:[Object(p.jsx)("div",{className:"tsVBox flex1",children:Object(p.jsx)("div",{children:e.pvtGetCustomerFields(t.customerData)})}),Object(p.jsx)("div",{style:{textAlign:"center",margin:"15px 0 0 0",fontWeight:"bold"},children:"Supplier's Invoice"}),Object(p.jsxs)("div",{className:"tsHBox flex1",children:[Object(p.jsx)("div",{className:"flex1"}),Object(p.jsx)("div",{children:Object(p.jsxs)("table",{className:"tsTbl",children:[Object(p.jsx)("tr",{children:!1===Object(l.isEmpty)(t.invoiceType)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Invoice Type: "}),Object(p.jsx)("td",{className:"tsTdVal",children:Object(l.tsGetInvoiceDispNameByActionCode)(t.invoiceType)})]}):Object(p.jsx)(p.Fragment,{})}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Supplier's Invoice Number: "}),Object(p.jsx)("td",{className:"tsTdVal",children:t.strInvoiceNo})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Invoice Date: "}),Object(p.jsx)("td",{className:"tsTdVal",children:Object(l.tsGetDateFromServerDateForPrintField)(t.invoiceDate)})]})]})})]})]}),Object(p.jsx)("div",{className:"tsVBox flex1",style:{borderTop:"1px solid #aaa",borderBottom:"1px solid #aaa"},children:Object(p.jsx)(d.default,{PInvoiceType:t.invoiceType,SetGrandTotal:function(e){},SetProducts:function(t){e.setState({SProducts:t||[]})},PProductsArr:t.products,PIsReadOnlyMode:!0})}),Object(p.jsxs)("div",{className:"tsHBox",style:{borderBottom:"0.5px solid #aaa"},children:[Object(p.jsx)("div",{className:"flex1",children:Object(p.jsxs)("table",{className:"tsTbl",style:{},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Payment Mode: "}),Object(p.jsx)("td",{className:"tsTdVal",children:t.mode})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Credited Amount: "}),Object(p.jsxs)("td",{className:"tsTdVal",children:["Rs. ",t.creditedAmount]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Invoice Amount In Word: "}),Object(p.jsx)("td",{className:"tsTdVal",style:{fontSize:12},children:Object(l.tsConvertNumInToWords)(t.grandTotal)})]})]})}),Object(p.jsx)("div",{style:{borderLeft:"0.5px solid #aaa"},children:Object(p.jsxs)("table",{className:"tsTbl",style:{},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"CGST: "}),Object(p.jsxs)("td",{className:"tsTdVal",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"SGST: "}),Object(p.jsxs)("td",{className:"tsTdVal",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"tsTdProperty",children:"Total Inovice Amount: "}),Object(p.jsxs)("td",{className:"tsTdVal",children:["Rs. ",Object(p.jsx)("b",{children:t.grandTotal})]})]})]})})]})]}),Object(p.jsxs)("div",{className:"tsHBox",style:{borderBottom:"1px solid #aaa",fontSize:12,paddingTop:15},children:[Object(p.jsx)("div",{className:"flex1",style:{textAlign:"left",marginLeft:10},children:"Authorised Signature"}),Object(p.jsx)("div",{className:"flex1",style:{textAlign:"right",marginRight:10},children:"Supplier's Signature"})]})]})}}]),n}(c.Component);t.default=u},224:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(111),p=n(0),u=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SProducts:[]},s}return Object(s.a)(n,[{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Supplier's Name"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstName})]}),Object(p.jsx)(p.Fragment,{children:0===n.cstBalance?Object(p.jsx)(p.Fragment,{}):Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Balance"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)})]})}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"GST No"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstGSTNo})]})],!1===Object(l.isEmpty)(t)&&(t=t||[]).forEach((function(e){if(!0===e.isSystemField)return!0;s=Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:e.fieldName}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:n[e.columnName]})]}),a.push(s)})),a}},{key:"pvtGetLicencesUI",value:function(e){var t=[];return(e=(e=e||"").split(",")).forEach((function(e){t.push(Object(p.jsx)("span",{style:{fontSize:13},children:e}))})),t}},{key:"render",value:function(){var e=this,t=e.props.PInvoice||{},n=e.props.PProjectData||{};return Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{className:"tsHBox",style:{padding:"10px 0 0 0"},children:[Object(p.jsx)("div",{className:"tsVBox flex1",style:{textAlign:"start",padding:"0 0 0 10px"},children:e.pvtGetLicencesUI(n.liscenseNos)}),Object(p.jsxs)("span",{className:"tsVBox",style:{textAlign:"center"},children:[Object(p.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},children:n.orgName}),Object(p.jsx)("span",{style:{fontSize:13},children:n.propName}),Object(p.jsxs)("span",{style:{fontSize:13},children:[" ",n.propMobileNo]})]}),Object(p.jsxs)("div",{className:"tsVBox flex1",style:{textAlign:"end",margin:"0 10px 0 0"},children:[Object(p.jsx)("span",{style:{fontSize:13},children:n.orgAddress}),Object(p.jsx)("span",{style:{fontSize:13},children:n.orgCity}),Object(p.jsx)("span",{style:{fontSize:13},children:n.orgPincode})]})]}),Object(p.jsxs)("div",{className:"tsVBox",children:[Object(p.jsx)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:!1===Object(l.isEmpty)(t.invoiceType)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Type"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetInvoiceDispNameByActionCode)(t.invoiceType)})]}):Object(p.jsx)(p.Fragment,{})}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Supplier's Invoice Number"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:t.strInvoiceNo})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Date"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetDateFromServerDateForPrintField)(t.invoiceDate)})]}),e.pvtGetCustomerFields(t.customerData),Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Payment Mode"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField",children:t.mode})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Credited Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.creditedAmount]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Remark"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:[" ",t.remark]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Products"}),Object(p.jsx)("span",{className:"tsInvoiceViewValField flex1",style:{width:540},children:Object(p.jsx)(d.default,{PInvoiceType:t.invoiceType,SetGrandTotal:function(e){},SetProducts:function(t){e.setState({SProducts:t||[]})},PProductsArr:t.products,PIsReadOnlyMode:!0})})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"SGST Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"CGST Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(p.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(p.jsx)("span",{className:"tsInvoiceViewDispField",children:"Total Inovice Amount"}),Object(p.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.grandTotal]})]}),Object(p.jsx)("div",{className:"tsInvoiceViewBorder"})]})]})}}]),n}(c.Component);t.default=u},225:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(2),l=(n(294),n(0)),d=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.PInvoice.customerData||{};!1===Object(c.isEmpty)(e)&&!1===Object(c.isEmpty)(e.cstFieldValues)&&(document.title=e.cstFieldValues.cstName)}},{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(l.jsxs)("tr",{className:"",children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Customer Name: "}),Object(l.jsx)("td",{className:"tsTdVal",children:n.cstName})]}),Object(l.jsxs)("tr",{className:"",children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Balance: "}),Object(l.jsx)("td",{className:"tsTdVal",children:0===n.cstBalance?Object(l.jsx)("i",{children:"Nil"}):function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)})]}),Object(l.jsxs)("tr",{className:"",children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"GST No: "}),Object(l.jsx)("td",{className:"tsTdVal",children:n.cstGSTNo})]})],!1===Object(c.isEmpty)(t)&&(t=t||[]).forEach((function(e){if(!0===e.isSystemField)return!0;s=Object(l.jsxs)("tr",{className:"",children:[Object(l.jsxs)("td",{className:"tsTdProperty",children:[e.fieldName,": "]}),Object(l.jsx)("td",{className:"tsTdVal",children:n[e.columnName]})]}),a.push(s)})),Object(l.jsx)("table",{className:"tsTbl",children:a})}},{key:"render",value:function(){var e=this,t=e.props.PInvoice||{},n=e.props.PProjectData||{},a=0===t.paymentRecord.debit;return Object(l.jsxs)("div",{className:"tsRootPg",style:{margin:"10px 0 0 0"},children:[Object(l.jsxs)("div",{className:"tsHBox",style:{padding:"10px 0 5px 0"},children:[Object(l.jsx)("div",{className:"tsVBox flex1",style:{textAlign:"start",padding:"0 0 0 10px"}}),Object(l.jsxs)("span",{className:"tsVBox",style:{textAlign:"center"},children:[Object(l.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},children:n.orgName}),Object(l.jsx)("span",{style:{fontSize:13},children:n.propName}),Object(l.jsxs)("span",{style:{fontSize:13},children:[" ",n.propMobileNo]})]}),Object(l.jsxs)("div",{className:"tsVBox flex1",style:{textAlign:"end",margin:"0 10px 0 0"},children:[Object(l.jsx)("span",{style:{fontSize:13},children:n.orgAddress}),Object(l.jsx)("span",{style:{fontSize:13},children:n.orgCity}),Object(l.jsx)("span",{style:{fontSize:13},children:n.orgPincode})]})]}),Object(l.jsxs)("div",{className:"tsVBox flex1",style:{borderTop:"1px solid #aaa"},children:[Object(l.jsxs)("div",{className:"tsHBox",children:[Object(l.jsx)("div",{className:"tsVBox flex1",children:Object(l.jsx)("div",{children:e.pvtGetCustomerFields(t.customerData)})}),Object(l.jsx)("div",{style:{textAlign:"center",margin:"15px 0 0 0",fontWeight:"bold"},children:a?"Credit Note":"Debit Note"}),Object(l.jsxs)("div",{className:"tsHBox flex1",children:[Object(l.jsx)("div",{className:"flex1"}),Object(l.jsx)("div",{children:Object(l.jsxs)("table",{className:"tsTbl",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Payment Receipt No: "}),Object(l.jsx)("td",{className:"tsTdVal",children:Object(c.tsGetInvoiceDispNoByInvoiceNo)(t.paymentRecord.id,t.paymentRecord.invoiceType,null)})]}),Object(l.jsx)("tr",{children:!1===Object(c.isEmpty)(t.paymentRecord.invoiceType)?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Invoice Type: "}),Object(l.jsx)("td",{className:"tsTdVal",children:Object(c.tsGetInvoiceDispNameByActionCode)(t.paymentRecord.invoiceType)})]}):Object(l.jsx)(l.Fragment,{})}),Object(c.tsIsInvoiceByType)(t.paymentRecord.invoiceType)?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Invoice Number: "}),Object(l.jsx)("td",{className:"tsTdVal",children:Object(c.tsGetInvoiceDispNoByInvoiceNo)(t.paymentRecord.invoiceNo,t.paymentRecord.invoiceType,t.paymentRecord.isPurchaserInvoice)})]}):Object(l.jsx)(l.Fragment,{}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Invoice Date: "}),Object(l.jsx)("td",{className:"tsTdVal",children:Object(c.tsGetDateFromServerDateForPrintField)(t.paymentRecord.paymentDate)})]})]})})]})]}),Object(l.jsxs)("div",{className:"tsHBox",style:{padding:"20px",borderBottom:"0.5px solid #aaa",borderTop:"0.5px solid #aaa"},children:[Object(l.jsx)("div",{className:"flex1"}),Object(l.jsxs)("table",{className:"tsTbl",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Payment Mode: "}),Object(l.jsx)("td",{className:"tsTdVal",children:t.paymentRecord.mode})]}),Object(c.tsIsInvoiceByType)(t.paymentRecord.invoiceType)?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Invoice Total: "}),Object(l.jsxs)("td",{className:"tsTdVal",children:["Rs.",t.paymentRecord.total]})]}):Object(l.jsx)(l.Fragment,{}),Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{className:"tsTdProperty",style:{fontWeight:"bold"},children:[a?"Credited Amount":"Debited Amount",": "]}),Object(l.jsxs)("td",{className:"tsTdVal",style:{fontWeight:"bold",fontSize:15},children:["Rs.",a?t.paymentRecord.credit:t.paymentRecord.debit]})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"In words:"}),Object(l.jsx)("td",{className:"tsTdVal",children:Object(c.tsConvertNumInToWords)(a?t.paymentRecord.credit:t.paymentRecord.debit)})]}),!1===Object(c.isEmpty)(t.paymentRecord.remark)?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"tsTdProperty",children:"Remark:"}),Object(l.jsx)("td",{className:"tsTdVal",children:t.paymentRecord.remark})," "]}):Object(l.jsx)(l.Fragment,{})]}),Object(l.jsx)("div",{className:"flex1"})]})]}),Object(l.jsxs)("div",{className:"tsHBox",style:{borderBottom:"1px solid #aaa",fontSize:12,paddingTop:30},children:[Object(l.jsx)("div",{className:"flex1",style:{textAlign:"left",marginLeft:10},children:"Authorised Signature"}),Object(l.jsx)("div",{className:"flex1",style:{textAlign:"right",marginRight:10},children:"Customer's Signature"})]})]})}}]),n}(o.Component);t.default=d},226:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=(n(329),n(167)),d=n(244),p=n(257),u=n(47),j=n(622),m=n(102),h=n(81),v=n(243),O=n(239),f=n(110),b=n(2),g=n(0),x=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SIsLoading:!0},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchInvoiceTypes()}},{key:"pvtFetchInvoiceTypes",value:function(){var e,t,n=this;t=Object(b.BaseUrl)()+"invoicetypes",e={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(b.tsGetProjectId)()}},fetch(t,e).then((function(e){return e.json()})).then((function(e){n.setState({SIsLoading:!1}),!1!==e.status&&Object(b.tsSetInvoiceType)(e)}),(function(e){n.setState({SIsLoading:!1})}))}},{key:"render",value:function(){return!0===this.state.SIsLoading?Object(g.jsx)(g.Fragment,{}):Object(g.jsx)(j.a,{theme:m.default,children:Object(g.jsx)(p.a,{children:Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{exact:!0,path:"/",component:l.default}),Object(g.jsx)(u.a,{exact:!0,path:"/supplierInvoice/:invoiceType/:invoiceNo",component:f.default}),Object(g.jsx)(u.a,{exact:!0,path:"/singleInvoice/:invoiceType/:invoiceNo",component:h.default}),Object(g.jsx)(u.a,{exact:!0,path:"/paymentInvoice/:invoiceNo",component:v.default}),Object(g.jsx)(u.a,{exact:!0,path:"/statement/:cstId/:fromDate/:toDate",component:O.default}),Object(g.jsx)(u.a,{exact:!0,path:"/login",component:d.default}),Object(g.jsx)(u.a,{exact:!0,path:"/:paramalink",component:l.default}),Object(g.jsx)(u.a,{exact:!0,path:"/:paramalink/:moduleType",component:l.default})]})})})}}]),n}(c.Component);t.default=x},227:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(45),d=n(44),p=n(618),u=n(430),j=n(313),m=n(431),h=n(432),v=n(91),O=n(90),f=n(428),b=n(120),g=n(158),x=n(389),y=n.n(x),S=n(387),I=n.n(S),D=n(388),C=n.n(D),F=n(385),T=n.n(F),N=n(384),k=n.n(N),P=n(144),G=n.n(P),A=n(2),E=n(386),R=n.n(E),w=n(51),B=n(0),H=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={IsOpenAccountPopOver:!1,FetchedObj:null,IsLoading:!1,SLoading:!1,IsSnackOn:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchUserDetails()}},{key:"pvtFetchUserDetails",value:function(){var e,t,n=this,a=this;if(e=localStorage.getItem("userDetailsForAppBar"),!1===Object(A.isEmpty)(e)&&"null"!==e)return e=atob(e),e=JSON.parse(e),void a.pvtHandleOnSuccessUserDetails(e);if(!Object(A.isEmpty)(Object(A.tsGetProjectId)())){var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(A.tsGetProjectId)()}};t=Object(A.BaseUrl)()+"users/"+Object(A.tsGetLoggedInUser)().tsLoggenUserId,a.setState({IsLoading:!0,FetchedObj:null}),fetch(t,s).then((function(e){return e.json()})).then((function(e){!0!==e.error?a.pvtHandleOnSuccessUserDetails(e):a.setState({IsLoading:!1})}),(function(e){n.setState({IsLoading:!1})}))}}},{key:"pvtHandleOnSuccessUserDetails",value:function(e){var t=this;if(!0!==Object(A.isEmpty)(e)){t.setState({FetchedObj:e,IsLoading:!1}),void 0!==t.props.GetUserDetails&&t.props.GetUserDetails(e);var n=btoa(JSON.stringify(e));localStorage.setItem("userDetailsForAppBar",n)}}},{key:"pvtLogout",value:function(){Object(A.LogOut)(this.props.historyProp)}},{key:"pvtHandleOnAdminClick",value:function(){this.props.historyProp.push("/admin")}},{key:"pvtHandleOnBackupClick",value:function(){this.props.historyProp.push("/admin/Backup")}},{key:"pvtGetBackupButton",value:function(){if(!1===Object(A.IsDesktopApp)())return null;var e=this;return Object(B.jsx)(l.a,{title:"Backup",children:Object(B.jsx)(d.a,{onClick:function(t){return e.pvtHandleOnBackupClick()},color:"inherit",children:Object(B.jsx)(G.a,{})})})}},{key:"pvtGetSideIcon",value:function(){var e=this,t=!1;return!1!==e.state.IsOpenAccountPopOver&&(t=!0),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(l.a,{title:"Settings",children:Object(B.jsx)(d.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){return e.pvtHandleOnAdminClick()},color:"inherit",children:Object(B.jsx)(k.a,{})})}),e.pvtGetBackupButton(),Object(B.jsx)(l.a,{title:!0===Object(A.isEmpty)(e.state.FetchedObj)?"":e.state.FetchedObj.displayName||"",children:Object(B.jsx)(d.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){return e.setState({IsOpenAccountPopOver:t.currentTarget})},color:"inherit",children:Object(B.jsx)(T.a,{})})}),Object(B.jsx)(p.a,{open:t,anchorEl:e.state.IsOpenAccountPopOver,onClose:function(){return e.setState({IsOpenAccountPopOver:!1})},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(B.jsxs)(u.a,{children:[Object(B.jsxs)(j.a,{dense:!0,button:!0,onClick:function(){return e.pvtOnClearCache()},children:[Object(B.jsx)(R.a,{className:"tsMenuIcon"}),Object(B.jsx)(m.a,{primary:"Clear Cache"})]}),Object(B.jsxs)(j.a,{dense:!0,button:!0,onClick:function(){return e.pvtLogout()},children:[Object(B.jsx)(I.a,{className:"tsMenuIcon"}),Object(B.jsx)(m.a,{primary:"Logout"})]})]})})]})}},{key:"pvtOnClearCache",value:function(){var e=this;e.setState({IsOpenAccountPopOver:!1,SLoading:!0}),e.FLoadingText="Clearing cache, please wait...",setTimeout((function(){Object(A.tsClearCache)(),e.FSnackMsg="Cache is cleared successfully.",e.setState({SLoading:!1,IsSnackOn:!0})}),2e3)}},{key:"pvtBackBtnOnClick",value:function(){var e=this.props.historyProp;!1===Object(A.isEmpty)(e)&&("/admin"===e.location.pathname?e.push("/"):e.goBack())}},{key:"render",value:function(){var e=this;return Object(B.jsxs)("div",{children:[Object(B.jsx)(h.a,{className:"tsAppBar",position:"static",children:Object(B.jsxs)(v.a,{children:[Object(B.jsx)("span",{className:"tsNonDragable",children:!0===e.props.CanShowBackButton?Object(B.jsx)(d.a,{edge:"start",onClick:function(t){return e.pvtBackBtnOnClick()},color:"inherit","aria-label":"menu",children:Object(B.jsx)(C.a,{})}):Object(B.jsx)(d.a,{edge:"start",onClick:e.props.onClose,color:"inherit","aria-label":"menu",children:Object(B.jsx)(y.a,{})})}),Object(B.jsx)(O.a,{style:{flexGrow:1},variant:"h6",children:e.props.Title||"CRM SOFT"}),Object(B.jsx)("span",{className:"tsNonDragable",style:{},children:e.pvtGetSideIcon()})]})}),Object(B.jsx)(f.a,{open:e.state.IsLoading,style:{zIndex:1,color:"#fff"},children:Object(B.jsx)(b.a,{color:"inherit"})}),Object(B.jsx)(w.default,{PLoadingText:e.FLoadingText,PIsLoading:e.state.SLoading}),Object(B.jsx)(g.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.state.IsSnackOn,onClose:function(){return e.setState({IsSnackOn:!1})},message:e.FSnackMsg,variant:"success"},"verticalhorizontalSnack")]})}}]),n}(c.Component);t.default=H},228:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(434),d=n(75),p=n(255),u=n.n(p),j=n(256),m=n.n(j),h=n(16),v=n(45),O=n(619),f=n(120),b=n(300),g=n.n(b),x=n(0),y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).FArrOfIds=[],s}return Object(s.a)(n,[{key:"pvtGetListItems",value:function(){var e=this,t=e.props.arrMenuItems,n=[];return 0===t?(n.push(Object(x.jsx)("div",{className:"tsMiddle",children:Object(x.jsx)(f.a,{},"loading-cmp")},"loading-syllabus-list")),n):-1===t?(n.push(Object(x.jsxs)("div",{className:"tsMiddle",children:[Object(x.jsx)(g.a,{htmlColor:"red"}),Object(x.jsx)("p",{className:"tsHelpText",style:{margin:"0 0 0 5px"},children:"Error occurred!"})]},"error-syllabus")),n):-2===t?(n.push(Object(x.jsxs)("div",{className:"tsMiddle",children:[Object(x.jsx)(g.a,{htmlColor:"red"}),Object(x.jsx)("p",{className:"tsHelpText",style:{margin:"0 0 0 5px"},children:"Software Expired!"})]},"error-syllabus")),n):(t=t.items,n=e.pvtCreateTreeCmp(t),Object(x.jsx)("div",{style:{flex:1},children:Object(x.jsx)(l.a,{defaultExpanded:e.FArrOfIds,defaultCollapseIcon:Object(x.jsx)(u.a,{}),defaultExpandIcon:Object(x.jsx)(m.a,{}),onNodeSelect:e.props.OnNodeSelect,selected:[e.props.Paramalink],children:n},"TreePanel")}))}},{key:"pvtCreateTreeCmp",value:function(e){var t,n,a,s,i=[];s=e.length;for(var r=0;r<s;r++)a=(n=e[r]).toolTip||n.displayTxt||"",!0!==n.hidden&&(void 0!==n.children?(t=this.pvtCreateTreeCmp(n.children),i.push(Object(x.jsx)(d.a,{label:Object(x.jsx)(h.a,{fullWidth:!0,style:{justifyContent:"flex-start",cursor:"grab"},size:"small",children:Object(x.jsx)("b",{children:n.displayTxt})}),nodeId:n.id,children:t},n.id+"key"))):i.push(Object(x.jsx)(d.a,{label:Object(x.jsx)(v.a,{title:a,placement:"right",children:Object(x.jsx)(h.a,{fullWidth:!0,style:{justifyContent:"flex-start"},size:"small",children:n.displayTxt})},n.id+"tooltipmenukey"),nodeId:n.id,children:t},n.id+"key")),this.FArrOfIds.push(n.id));return i}},{key:"render",value:function(){return Object(x.jsx)(O.a,{direction:"right",in:this.props.isVisible,mountOnEnter:!0,unmountOnExit:!0,children:Object(x.jsx)("div",{style:{width:"100%",maxWidth:270,backgroundColor:"#fff",zIndex:1,position:"relative",overflow:"auto",padding:"10px",display:"flex",flexDirection:"column",boxShadow:"4px 4px 10px #bbb"},children:this.pvtGetListItems()})})}}]),n}(c.Component);t.default=y},229:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(301),p=n.n(d),u=n(0),j=function(e){Object(r.a)(c,e);var t=Object(o.a)(c);function c(e){var n;return Object(a.a)(this,c),n=t.call(this,e),Object(i.a)(n).state={},n}return Object(s.a)(c,[{key:"componentDidUpdate",value:function(){this.props.onLoadComplete()}},{key:"pvtGetContainer",value:function(e){var t,a,s=this.props.arrMenuItems||{},i=null;if(-1===s)return Object(u.jsxs)("div",{className:"tsMiddle",children:[Object(u.jsx)(p.a,{htmlColor:"red"}),Object(u.jsxs)("p",{className:"tsHelpText",style:{margin:"0 0 0 5px"},children:["Some error occurred on the server, you can contact with System Administrator! ",Object(u.jsx)("br",{})," \xa0\xa0\xa0You can mail us at ",Object(u.jsx)("i",{children:"placementprep20@gmail.com"})]})]},"error-detail-editor");if(-2===s)return Object(u.jsxs)("div",{className:"tsMiddle",children:[Object(u.jsx)(p.a,{htmlColor:"red"}),Object(u.jsxs)("p",{className:"tsHelpText",style:{margin:"0 0 0 5px"},children:["Your software is expired, kindly contact with System Administrator at ",Object(u.jsx)("i",{children:"placementprep20@gmail.com"})]})]},"error-detail-editor");if(a={id:"main",children:s.items||[]},!0===Object(l.isEmpty)(e)&&(e="home"),t=Object(l.tsSearchTree)(a,"id",e),!0===Object(l.isEmpty)(t))return i;if(!0===Object(l.isEmpty)(t.moduleClass))return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{children:"Page not found."})});var r=n(471)("./"+t.moduleClass).default;return i=Object(u.jsx)(r,{moduleInfo:t,historyProp:this.props.history})}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"flex1 tsVBox tsDetailEditor",children:this.pvtGetContainer(this.props.Paramalink)})}}]),c}(c.Component);t.default=j},230:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(106),p=n(107),u=n(39),j=n(20),m=n(16),h=n(29),v=n(65),O=n(85),f=n(80),b=n(62),g=n(158),x=n(95),y=n.n(x),S=n(54),I=n(8),D=n(2),C=n(120),F=n(41),T=n.n(F),N=n(15),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={cstId:-1,SInvoiceType:Object(I.GenConstants)().PESTICIDE_ACT_CODE,SPayingAmount:0,SGrandTotal:0,SPaymentMode:"",SRemark:"",SIsLoading:!1,IsAlertDialogOpen:!1,IsSnackOn:!1},r.FSnackMsg="",r.FWarningText="",r.FGridPanel=l.a.createRef(),s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.PSelectedRecord;!0!==Object(D.isEmpty)(e)&&this.setState({cstId:e.cstId,SGrandTotal:e.grandTotal,SInvoiceType:e.invoiceType,SPayingAmount:e.creditedAmount,SPaymentMode:e.mode,SRemark:e.remark||""})}},{key:"pvtResetAllFields",value:function(){this.FGridPanel.current.ResetFields(),this.setState({SPayingAmount:0,SGrandTotal:0,SPaymentMode:"",SRemark:"",IsAlertDialogOpen:!1,SIsLoading:!1,IsSnackOn:!0})}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){this.setState({SInvoiceType:e,SPayingAmount:0,SGrandTotal:0})}},{key:"pvtGetPaymentModeMenuItems",value:function(){var e,t=[],n=Object(D.tsGetPaymentModes)()||[];return t.push(Object(k.jsx)(u.a,{value:"",children:Object(k.jsx)("em",{children:"None"})},"none-paymentmode-key")),n.forEach((function(n,a){e=n.name.replace(/\s/g,"")+"-key"+a,t.push(Object(k.jsx)(u.a,{value:n.name,children:n.name},e))})),t}},{key:"pvtValidate",value:function(){var e=this;if(!0===Object(D.isEmpty)(e.state.cstId)||-1===e.state.cstId)return e.FWarningText="Select a Customer and try again.",e.setState({IsAlertDialogOpen:!0}),!1;if(!0===Object(D.isEmpty)(e.state.SInvoiceType))return e.FWarningText="Select a Invoice type and try again.",e.setState({IsAlertDialogOpen:!0}),!1;var t=e.FGridPanel.current.GetProductJson();return!0===Object(D.isEmpty)(t)?(e.FWarningText="Add at least one Product to continue.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(D.isEmpty)(e.state.SPayingAmount)||0===e.state.SPayingAmount?(e.FWarningText="Enter Paying Amount (Credit) and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0!==Object(D.isEmpty)(e.state.SPaymentMode)||(e.FWarningText="Select Payment mode and try again.",e.setState({IsAlertDialogOpen:!0}),!1)}},{key:"EditInvoice",value:function(e){!0===this.props.PIsOpenInDialog&&this.pvtDelete(e)}},{key:"pvtGenerateBtnClick",value:function(e){var t,n,a=this,s=Object(D.BaseUrl)()+"invoices",i={};if(!1!==a.pvtValidate()&&!0!==a.state.SIsLoading){if(t=a.FGridPanel.current.GetProductJson(),i={cstId:a.state.cstId,products:t,payingAmount:a.state.SPayingAmount,grandTotal:a.state.SGrandTotal,invoiceType:a.state.SInvoiceType,invoiceDate:a.props.PSelectedRecord&&a.props.PSelectedRecord.invoiceDate||(new Date).toString(),mode:a.state.SPaymentMode,remark:a.state.SRemark||""},!0===a.props.PIsOpenInDialog&&(i.invoiceNo=a.props.PSelectedRecord&&a.props.PSelectedRecord.invoiceNo,!0===Object(D.isEmpty)(i.invoiceNo)))return a.FWarningText="Something wents wrong.",void a.setState({IsAlertDialogOpen:!0});a.setState({SIsLoading:!0}),n={method:"POST",headers:{"Content-Type":"application/json",projectid:Object(D.tsGetProjectId)()},body:JSON.stringify(i)},fetch(s,n).then((function(e){return e.json()})).then((function(t){if(a.setState({SIsLoading:!1}),!1===t.success||Object(D.isEmpty)(t))return a.FWarningText=t.message||"Error occur on server",a.setState({IsAlertDialogOpen:!0,SIsLoading:!1}),!1;a.FSnackMsg="Invoice created - Invoice No: "+Object(D.tsGetInvoiceDispNoByInvoiceNo)(t.invoiceNo,t.invoiceType,0),a.pvtResetAllFields(),!1===Object(D.isEmpty)(e)&&e(),Object(D.tsPrint)(t.invoiceType||i.invoiceType,t.invoiceNo)}),(function(e){a.setState({IsAlertDialogOpen:!0,SIsLoading:!1})}))}}},{key:"pvtDelete",value:function(e){var t,n,a=this;n=Object(D.BaseUrl)()+"invoices/"+(a.props.PSelectedRecord&&a.props.PSelectedRecord.invoiceNo)+"/"+a.state.SInvoiceType,!0!==Object(D.isEmpty)(a.props.PSelectedRecord.invoiceNo)&&(t={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(D.tsGetProjectId)()},body:JSON.stringify({cstId:a.state.cstId})},fetch(n,t).then((function(e){return e.json()})).then((function(t){if(!1===t.success)return a.FWarningText=t.message,void a.setState({IsAlertDialogOpen:!0});a.pvtGenerateBtnClick(e)}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})})))}},{key:"pvtGetHeader",value:function(){return!0===this.props.PIsOpenInDialog?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(j.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(k.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(k.jsx)(y.a,{})}),Object(k.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(k.jsxs)("div",{style:{fontSize:"20px"},children:[" ",this.props.moduleInfo.displayTxt," "]}),Object(k.jsx)(j.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Create a new Invoice."})]})]})}},{key:"pvtGetSaveBtn",value:function(){var e=this;return!0===e.props.PIsOpenInDialog?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(m.a,{style:{margin:"0 0 0 0"},size:"small",variant:"contained",color:"primary",startIcon:e.state.SIsLoading?"":Object(k.jsx)(T.a,{}),disableElevation:!0,onClick:function(){e.pvtGenerateBtnClick()},children:e.state.SIsLoading?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C.a,{size:20,color:"inherit"})," ",Object(k.jsx)("span",{style:{margin:"0 0 0 10px"},children:"Loading..."})]}):"Generate Invoice"})}},{key:"pvtGetPaymentFields",value:function(){var e=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{label:"Credit",placeholder:"Amount",required:!0,style:{margin:"3px 0 0 20px",width:"130px"},onChange:function(t){return e.setState({SPayingAmount:t.currentTarget.value})},value:e.state.SPayingAmount,margin:"dense",type:"number"}),Object(k.jsxs)(v.a,{style:{margin:"0 0 0 20px",width:"200px"},children:[Object(k.jsx)(O.a,{children:"Payment Mode"}),Object(k.jsx)(f.a,{value:e.state.SPaymentMode,onChange:function(t){e.setState({SPaymentMode:t.target.value})},children:e.pvtGetPaymentModeMenuItems()})]}),Object(k.jsx)(h.a,{label:"Remark",placeholder:"Remark",style:{margin:"4px 0 0 20px",width:"200px"},onChange:function(t){return e.setState({SRemark:t.currentTarget.value})},value:e.state.SRemark,margin:"dense"})]})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[e.pvtGetHeader(),Object(k.jsxs)(b.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(k.jsx)(d.default,{SetCstId:function(t){return e.setState({cstId:t})},cstId:e.props.PSelectedRecord&&e.props.PSelectedRecord.cstId}),Object(k.jsxs)("div",{style:{margin:"5px 0 0 30px"},children:[Object(k.jsx)("h4",{children:"Invoice Type"}),Object(k.jsx)("div",{style:{margin:"27px 0 0 0"},children:Object(k.jsx)(S.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Invoice Type"})})]})]}),Object(k.jsx)(p.default,{PInvoiceType:e.state.SInvoiceType,ref:e.FGridPanel,SetGrandTotal:function(t){!0===e.props.PIsOpenInDialog?e.setState({SGrandTotal:t}):e.setState({SGrandTotal:t,SPayingAmount:t})},PProductsArr:e.props.PSelectedRecord&&e.props.PSelectedRecord.products}),Object(k.jsxs)(b.a,{style:{margin:"20px 20px 20px 20px",padding:"0 20px 20px 20px"},className:"tsVBox",variant:"outlined",children:[Object(k.jsx)("h4",{children:"Payment Details"}),Object(k.jsxs)("div",{className:"tsHBox",children:[Object(k.jsx)(h.a,{label:"Total Amount",placeholder:"Amount",required:!0,style:{margin:"3px 0 0 0",width:"120px"},onChange:function(t){return e.setState({SGrandTotal:t.currentTarget.value})},value:e.state.SGrandTotal,margin:"dense",type:"number",InputProps:{readOnly:!0}}),e.pvtGetPaymentFields(),Object(k.jsx)("div",{className:"flex1"}),e.pvtGetSaveBtn()]})]}),Object(k.jsx)(N.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(k.jsx)(g.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.state.IsSnackOn,onClose:function(){return e.setState({IsSnackOn:!1})},message:e.FSnackMsg},"verticalhorizontalSnack")]})}}]),n}(c.Component);t.default=P},231:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(16),p=n(20),u=n(91),j=n(44),m=n(45),h=n(268),v=n(316),O=n(2),f=n(170),b=n.n(f),g=n(60),x=n.n(g),y=n(36),S=n(232),I=n(52),D=n.n(I),C=n(59),F=n.n(C),T=n(15),N=n(8),k=n(435),P=n(0),G=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,CustomerRecord:{},IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1,ColumnFields:r.pvtGetGridColumn(),SortingModel:[{field:"cstName",sort:"asc"}]},r.FGridRef=l.a.createRef(),r.FSearchField=l.a.createRef(),r.F_callBackOnCnfrmTrue=null,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchCustomersFields()}},{key:"pvtRefresh",value:function(){var e=this;e.pvtFetchCustomersFields(),e.FSelectedRecord=null,e.FSearchField&&e.FSearchField.current&&e.FSearchField.current.firstElementChild&&(e.FSearchField.current.firstElementChild.value=""),e.setState({FetchedData:null})}},{key:"pvtFetchCustomersFields",value:function(){var e,t=this,n=this;e=Object(O.BaseUrl)()+"customFields/type/"+Object(N.GenConstants)().CUSTOMER_CSTM_FIELDS;var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(O.tsGetProjectId)()}};fetch(e,a).then((function(e){return e.json()})).then((function(e){"error"!==e.status?n.pvtFetchCustomers(e):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}},{key:"pvtFetchCustomers",value:function(e){var t,n=this,a=this;t=Object(O.BaseUrl)()+"customers";var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(O.tsGetProjectId)()}};fetch(t,s).then((function(e){return e.json()})).then((function(t){"error"!==t.status?(a.FAllFetectedRecords=t,a.setState({FetchedData:t,ColumnFields:a.pvtGetGridColumn(e)||[]})):a.setState({FetchedData:[]})}),(function(e){n.setState({FetchedData:[]})}))}},{key:"pvtGetGridColumn",value:function(e){var t=[],n={};return t=[{field:"cstName",headerName:"Name",headerClassName:"tsGridHeader",minWidth:200,flex:1,color:"primary",sort:"ASC",fieldType:Object(N.GenConstants)().SYSTEM_FIELD,isRequired:!0},{field:"cstBalance",headerName:"Balance",headerClassName:"tsGridHeader",color:"primary",minWidth:150,fieldType:Object(N.GenConstants)().SYSTEM_FIELD,isField:!1,renderCell:function(e){var t=e.value;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}},{field:"cstGSTNo",headerName:"GST No",headerClassName:"tsGridHeader",minWidth:200,fieldType:Object(N.GenConstants)().SYSTEM_FIELD,isRequired:!1,pattern:"d{2}[A-Z]{5}d{4}[A-Z]{1}[A-Zd]{1}[Z]{1}[A-Zd]{1}"},{field:"cstState",headerName:"State",headerClassName:"tsGridHeader",minWidth:200,fieldType:Object(N.GenConstants)().STATE_FIELD,isRequired:!1}],!1===Object(O.isEmpty)(e)&&(e=e||[]).forEach((function(e){if(!0===e.isSystemField)return!0;(n={}).headerName=e.fieldName,n.field=e.columnName,n.headerClassName="tsGridHeader",n.minWidth=150,n.fieldType=e.fieldType,n.isRequired=1===e.isRequired,t.push(n)})),t}},{key:"pvtLoadUserDialog",value:function(){var e=this;return!0===e.state.CanInvokeDialogOpen?Object(P.jsx)(S.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateCustomerStore:function(t){return e.UpdateCustomerStore(t)},CustomerRecord:e.state.CustomerRecord||{},ColumnFields:e.state.ColumnFields||[]}):Object(P.jsx)(P.Fragment,{})}},{key:"pvtEditCustomer",value:function(e){if(!0!==Object(O.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,CustomerRecord:t})}}},{key:"UpdateCustomerStore",value:function(e){var t=this,n=[],a=!0;!0!==Object(O.isEmpty)(e)&&((t.FAllFetectedRecords||[]).forEach((function(t){if(t.id===e.id)return n.push(e),a=!1,!0;n.push(t)})),!0===a&&n.push(e),t.FAllFetectedRecords=n,t.pvtFilterOnSearch(),!0===t.props.IsSelectMode&&t.props.HandleOnSelect(e))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(O.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Customer and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditCustomer(e.FSelectedRecord)}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(O.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Customer and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this customer?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtDelete",value:function(){var e,t,n=this,a=this,s=[],i=[];if(!0===Object(O.isEmpty)(a.FSelectedRecord))return a.FWarningText="Select a Customer and try again.",void a.setState({IsAlertDialogOpen:!0});t=Object(O.BaseUrl)()+"customers/"+a.FSelectedRecord.id,s=a.FAllFetectedRecords||[],a.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(O.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){if(!1===e.success)return a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0,IsCnfrmDialogOpen:!1}),void a.pvtFilterOnSearch();a.FSelectedRecord=null,!0===a.props.IsSelectMode&&a.props.SelectedRecord(a.FSelectedRecord),s.forEach((function(t){if(t.id===e.id)return!0;i.push(t)})),a.FAllFetectedRecords=i,a.setState({IsCnfrmDialogOpen:!1}),a.pvtFilterOnSearch()}),(function(e){n.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnRowClick",value:function(e){var t=this;t.FSelectedRecord=e,!0===t.props.IsSelectMode&&t.props.SelectedRecord(t.FSelectedRecord)}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(d.a,{onClick:function(){!1===Object(O.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(P.jsx)(P.Fragment,{})}},{key:"pvtGetHeader",value:function(){return!0===this.props.IsSelectMode?Object(P.jsx)(P.Fragment,{}):Object(P.jsxs)(p.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(P.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(P.jsx)(b.a,{})}),Object(P.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(P.jsx)("div",{style:{fontSize:"20px"},children:" Manage Customers "}),Object(P.jsx)(p.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Create new customer, edit customer details, remove customer, etc."})]})]})}},{key:"pvtFilterOnSearch",value:function(e){var t=this,n=t.FAllFetectedRecords||[];if(e=e||t.FSearchField.current&&t.FSearchField.current.firstElementChild&&t.FSearchField.current.firstElementChild.value||"",!0!==Object(O.isEmpty)(e)){e=e.toLowerCase();var a=n.filter((function(t){return(t.cstName||"").toLowerCase().includes(e)}));t.setState({FetchedData:a})}else t.setState({FetchedData:t.FAllFetectedRecords})}},{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[e.pvtGetHeader(),Object(P.jsxs)(u.a,{style:{margin:"0 0 0 0px"},component:"div",variant:"dense",children:[Object(P.jsx)(d.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,CustomerRecord:{}})},children:"New Customer"}),Object(P.jsx)(d.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(P.jsx)(D.a,{}),children:"Edit Customer"}),Object(P.jsx)(d.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(P.jsx)(F.a,{}),children:"Delete Customer"}),Object(P.jsx)(j.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(P.jsx)(m.a,{title:"Refresh",children:Object(P.jsx)(x.a,{})})}),Object(P.jsx)("div",{className:"flex1"}),Object(P.jsx)(h.a,{label:"Search",placeholder:"Search Customer",onChange:function(t){e.pvtFilterOnSearch(t.currentTarget.value)},ref:e.FSearchField,type:"text",margin:"dense",style:{margin:"10px 0 0 0"},endAdornment:Object(P.jsx)(v.a,{position:"start",children:Object(P.jsx)(k.a,{})})})]}),Object(P.jsx)("div",{style:{margin:"5px 20px 0 20px"},className:"flex1",children:Object(P.jsx)(y.a,{style:{minHeight:"400px"},columns:e.state.ColumnFields,rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,sortModel:e.state.SortingModel,onSortModelChange:function(t){return e.setState({SortingModel:t})},components:{Toolbar:y.b},density:"compact",onCellDoubleClick:function(t){!0===e.props.IsSelectMode?e.props.HandleOnSelect(t.row):e.pvtEditCustomer(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)},hideFooter:!0===e.props.IsSelectMode})}),e.pvtLoadUserDialog(),Object(P.jsx)(T.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(P.jsx)(P.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(P.jsx)(T.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=G},232:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n(29),p=n(20),u=n(16),j=n(15),m=n(41),h=n.n(m),v=n(2),O=n(8),f=n(317),b=n(0),g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(s.a)(this,n),a=t.call(this,e);var i=Object(r.a)(a);return i.state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(b.jsx)(b.Fragment,{}),AlertDialogHeader:"Warning"},SFields:[]},i.FIsInvokedFirstTime=!0,a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.pvtDefineProperties()}},{key:"pvtDefineProperties",value:function(){var e=this,t=e.props.CustomerRecord,n=e.props.ColumnFields||[],a={},s=[];n.forEach((function(e){if(!1===e.isField)return!0;(a={})[e.field]=t[e.field],a.fieldName=e.field,a.headerName=e.headerName,a.fieldType=e.fieldType,a.isRequired=e.isRequired,s.push(a)})),e.setState({SFields:s})}},{key:"pvtResetFields",value:function(){this.setState({SFields:[]})}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this,t=[],n=e.state.SFields||[];return n.forEach((function(s,i){s.fieldType===Object(O.GenConstants)().FIELD_DATE?t.push(Object(b.jsx)(d.a,{label:s.headerName,type:"date",fullWidth:!0,margin:"dense",style:{margin:"20px 0 0 0"},value:s[s.fieldName],InputLabelProps:{shrink:!0},required:s.isRequired,onChange:function(t){s[s.fieldName]=t.currentTarget.value,e.setState({SFields:n})}},s.headerName.replaceAll(" ","")+"key"+i)):s.fieldType===Object(O.GenConstants)().FIELD_NUMBER?t.push(Object(b.jsx)(d.a,{label:s.headerName,placeholder:s.headerName,required:s.isRequired,fullWidth:!0,onChange:function(t){s[s.fieldName]=t.currentTarget.value,e.setState({SFields:n})},value:s[s.fieldName],type:"number",margin:"dense",style:{margin:"15px 0 0 0"}},s.headerName.replaceAll(" ","")+"key"+i)):s.fieldType===Object(O.GenConstants)().STATE_FIELD?t.push(Object(b.jsx)(f.a,{options:Object(v.tsGetStates)(),getOptionLabel:function(e){return e||""},clearOnEscape:!0,onChange:function(t,a,i){s[s.fieldName]=a,e.setState({SFields:n}),Object(v.tsSaveInLocalStorage)("tsLastSelectedState",a)},value:s[s.fieldName]||e.pvtGetLastSelectedState(s,n),renderInput:function(e){return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},e),{},{label:"State",margin:"dense"}))}},s.headerName.replaceAll(" ","")+"key"+i)):t.push(Object(b.jsx)(d.a,{label:s.headerName,placeholder:s.headerName,required:s.isRequired,fullWidth:!0,onChange:function(t){s[s.fieldName]=t.currentTarget.value,e.setState({SFields:n})},value:s[s.fieldName],margin:"dense",style:{margin:"15px 0 0 0"}},s.headerName.replaceAll(" ","")+"key"+i))})),Object(b.jsx)(p.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:t})}},{key:"pvtGetLastSelectedState",value:function(e,t){var n=Object(v.tsGetFromLocalStorage)("tsLastSelectedState");return Object(v.isEmpty)(n)||"null"===n?"":(e[e.fieldName]=n,this.setState({SFields:t}),n)}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(b.jsx)(u.a,{onClick:function(){e.pvtSaveCustomer()},color:"primary",variant:"contained",size:"small",startIcon:Object(b.jsx)(h.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e={},t=!0;return(this.state.SFields||[]).forEach((function(n){!0===n.isRequired&&!0===Object(v.isEmpty)(n[n.fieldName])&&(t=!1,e={AlertDialogContent:Object(b.jsxs)("span",{children:[" ",n.headerName," is required. "]}),AlertDialogHeader:"Warning"})})),!1===t&&this.setState({IsAlertDialogOpen:!0,AlertDialog:e}),t}},{key:"pvtSaveCustomer",value:function(){var e,t=this,n=this,a={},s=[],i=Object(v.BaseUrl)()+"customers",r=!1===Object(v.isEmpty)(n.props.CustomerRecord.id);if(!1===n.pvtValidate())return!1;(n.state.SFields||[]).forEach((function(e){a[e.fieldName]=e[e.fieldName]||"",s.push(e.fieldName)})),a.fieldsArr=s,e={method:!0===r?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()},body:JSON.stringify(a)},!0===r&&(i=Object(v.BaseUrl)()+"customers/"+n.props.CustomerRecord.id),n.setState({IsLoading:!0}),fetch(i,e).then((function(e){return e.json()})).then((function(e){if(n.setState({IsLoading:!1}),!1===e.success||Object(v.isEmpty)(e)){var t={AlertDialogContent:Object(b.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error"};n.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else n.pvtHandleOnClose(),n.props.UpdateCustomerStore(e),!1===r&&n.pvtResetFields()}),(function(e){t.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(v.isEmpty)(e.props.CustomerRecord.id)?"New Customer":"Edit Customer",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(b.jsx)(j.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(b.jsx)(b.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(l.Component);t.default=g},233:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(29),d=n(20),p=n(16),u=n(15),j=n(41),m=n.n(j),h=n(2),v=n(8),O=n(0),f=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(O.jsx)(O.Fragment,{}),AlertDialogHeader:"Warning"},SFields:[]},r.FIsInvokedFirstTime=Object(v.GenConstants)().PESTICIDE_ACT_CODE,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtDefineProperties()}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"pvtDefineProperties",value:function(){var e=this,t=e.props.StockRecord,n=e.props.ColumnFields||[],a={},s=[];n.forEach((function(e){if(!1===e.isField)return!0;(a={})[e.field]=t[e.field],a.fieldName=e.field,a.headerName=e.headerName,a.fieldType=e.fieldType,a.isRequired=e.isRequired,s.push(a)})),e.setState({SFields:s})}},{key:"pvtResetFields",value:function(){this.setState({SFields:[]})}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this,t=[],n=e.state.SFields||[];return n.forEach((function(a){if(!1===a.isField)return!0;a.fieldType===Object(v.GenConstants)().FIELD_DATE?t.push(Object(O.jsx)(l.a,{label:a.headerName,type:"date",fullWidth:!0,margin:"dense",style:{margin:"20px 0 0 0"},value:a[a.fieldName],InputLabelProps:{shrink:!0},required:a.isRequired,onChange:function(t){a[a.fieldName]=t.currentTarget.value,e.setState({SFields:n})}})):a.fieldType===Object(v.GenConstants)().FIELD_NUMBER?t.push(Object(O.jsx)(l.a,{label:a.headerName,placeholder:a.headerName,required:a.isRequired,fullWidth:!0,onChange:function(t){a[a.fieldName]=t.currentTarget.value,e.setState({SFields:n})},value:a[a.fieldName],type:"number",inputProps:{min:1},margin:"dense",style:{margin:"15px 0 0 0"}})):t.push(Object(O.jsx)(l.a,{label:a.headerName,placeholder:a.headerName,required:a.isRequired,fullWidth:!0,onChange:function(t){a[a.fieldName]=t.currentTarget.value,e.setState({SFields:n})},value:a[a.fieldName],margin:"dense",style:{margin:"15px 0 0 0"}}))})),Object(O.jsx)(d.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:t})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(O.jsx)(p.a,{onClick:function(){e.pvtSaveProduct()},color:"primary",variant:"contained",size:"small",startIcon:Object(O.jsx)(m.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e={},t=!0;return(this.state.SFields||[]).forEach((function(n){!0===n.isRequired&&!0===Object(h.isEmpty)(n[n.fieldName])&&(t=!1,e={AlertDialogContent:Object(O.jsxs)("span",{children:[" ",n.headerName," is required. "]}),AlertDialogHeader:"Warning"})})),!1===t&&this.setState({IsAlertDialogOpen:!0,AlertDialog:e}),t}},{key:"pvtSaveProduct",value:function(){var e,t=this,n=this,a={},s=[],i=Object(h.BaseUrl)()+"stocks",r=!1===Object(h.isEmpty)(n.props.StockRecord.id);if(!1===n.pvtValidate())return!1;(n.state.SFields||[]).forEach((function(e){a[e.fieldName]=e[e.fieldName]||"",s.push(e.fieldName)})),s.push("productId"),a.fieldsArr=s,a.productId=n.props.ProductId,e={method:!0===r?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(h.tsGetProjectId)()},body:JSON.stringify(a)},!0===r&&(i=Object(h.BaseUrl)()+"stocks/"+n.props.StockRecord.id),n.setState({IsLoading:!0}),fetch(i,e).then((function(e){return e.json()})).then((function(e){if(n.setState({IsLoading:!1}),!1===e.success||Object(h.isEmpty)(e)){var t={AlertDialogContent:Object(O.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error"};n.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else n.pvtHandleOnClose(),n.props.UpdateStockStore(e),!1===r&&n.pvtResetFields()}),(function(e){t.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(h.isEmpty)(e.props.StockRecord.id)?"Add stock for ".concat(e.props.ProductDispName):"Edit stock",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(O.jsx)(u.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(O.jsx)(O.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(c.Component);t.default=f},234:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n(39),p=n(29),u=n(2),j=n(317),m=n(0),h=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Object(r.a)(a).state={FetchedData:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.pvtFetchProducts()}},{key:"componentDidUpdate",value:function(e,t,n){e.InvoiceType!==this.props.InvoiceType&&this.pvtFetchProducts()}},{key:"pvtFetchProducts",value:function(){var e,t=this,n=this;if(!0!==Object(u.isEmpty)(n.props.InvoiceType)){e=Object(u.BaseUrl)()+"products/type/"+n.props.InvoiceType;var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}};fetch(e,a).then((function(e){return e.json()})).then((function(e){if("error"!==e.status){var t={FetchedData:e};!1===Object(u.isEmpty)(n.props.Value.id)&&!1===n.props.Value.hasOwnProperty("productName")&&e.forEach((function(e){e.id===n.props.Value.id&&n.props.OnChange(e)})),n.setState(t)}else n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}}},{key:"pvtGetItems",value:function(){var e=[];return(this.state.FetchedData||[]).forEach((function(t,n){e.push(Object(m.jsx)(d.a,{value:t,children:t.productName},t.productName+"key"+n))})),e}},{key:"render",value:function(){var e=this;return Object(m.jsx)(j.a,{options:e.state.FetchedData,getOptionLabel:function(e){return e.productName||""},clearOnEscape:!0,style:{margin:"-20px 0 0 0",width:"200px"},value:e.props.Value,onChange:function(t,n,a){e.props.OnChange(n||{})},id:"product",renderInput:function(t){return Object(m.jsx)(p.a,Object(a.a)(Object(a.a)({},t),{},{label:e.props.EmptyText,margin:"dense"}))}})}}]),n}(l.Component);t.default=h},235:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(107),p=n(16),u=n(44),j=n(45),m=n(81),h=n(83),v=n.n(h),O=n(52),f=n.n(O),b=n(100),g=n.n(b),x=n(51),y=n(15),S=n(0),I=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SProducts:[],SIsDialogOpen:!1,SIsDialogOpenInReadOnlyMode:!0,SLoading:!1,IsAlertDialogOpen:!1},s}return Object(s.a)(n,[{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Customer Name"},"tskey11"),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstName},"tskey12")]},"tskey1"),Object(S.jsx)(S.Fragment,{children:0===n.cstBalance?Object(S.jsx)(S.Fragment,{}):Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Balance"},"tskey21"),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)},"tskey22")]},"tskey2")}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"GST No"},"tskey11"),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstGSTNo},"tskey12")]},"tskey33a")],!1===Object(l.isEmpty)(t)&&(t=t||[]).forEach((function(e,t){if(!0===e.isSystemField)return!0;s=Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:e.fieldName},"tskey31"+t),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:n[e.columnName]},"tskey32"+t)]},"tskey3"+t),a.push(s)})),a}},{key:"pvtPrint",value:function(){var e=this.props.PSelectedRecord;!0!==Object(l.isObjEmpty)(e)&&Object(l.tsPrint)(e.invoiceType,e.invoiceNo)}},{key:"pvtGeneratePDF",value:function(){var e=this,t=e.props.PSelectedRecord;!0!==Object(l.isObjEmpty)(t)&&(e.setState({SLoading:!0}),Object(l.tsGenerateInvoicePDF)(t.invoiceType,t.invoiceNo,(function(t){e.setState({SLoading:!1}),!1===t.success&&(e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}))})))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this.props.PSelectedRecord;!0!==Object(l.isObjEmpty)(e)&&this.setState({SIsDialogOpen:!0,SIsDialogOpenInReadOnlyMode:!1})}},{key:"pvtLoadDialog",value:function(){var e=this;return!1===e.state.SIsDialogOpen?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(m.default,{IsDialogOpen:e.state.SIsDialogOpen,OnDialogClose:function(){return e.setState({SIsDialogOpen:!1})},PSelectedRecord:e.props.PSelectedRecord,PIsReadOnlyMode:e.state.SIsDialogOpenInReadOnlyMode,PIsDetailedView:!0})}},{key:"render",value:function(){var e=this,t=e.props.PSelectedRecord||{};return Object(S.jsxs)("div",{className:"",children:[Object(S.jsxs)("div",{className:"tsHBox",children:[Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{size:"small",variant:"outlined",color:"primary",disableElevation:!0,style:{margin:"7px 0 0 0"},onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(S.jsx)(f.a,{}),children:"Edit Invoice"})}),Object(S.jsx)("div",{className:"flex1",children:" "}),Object(S.jsx)(u.a,{style:{margin:"0 0 0 0"},"aria-label":"Generate PDF",onClick:function(){return e.pvtGeneratePDF()},color:"primary",children:Object(S.jsx)(j.a,{title:"Generate PDF",children:Object(S.jsx)(g.a,{})})}),Object(S.jsx)("div",{children:Object(S.jsx)(u.a,{onClick:function(){return e.pvtPrint()},children:Object(S.jsx)(j.a,{title:"Print",children:Object(S.jsx)(v.a,{})})})})]}),Object(S.jsxs)("div",{className:"tsVBox",children:[Object(S.jsx)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:!1===Object(l.isEmpty)(t.invoiceType)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Type"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetInvoiceDispNameByActionCode)(t.invoiceType)},"tskey42")]}):Object(S.jsx)(S.Fragment,{})},"tskey41"),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Number"},"tskey44"),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetInvoiceDispNoByInvoiceNo)(t.invoiceNo,t.invoiceType)},"tskey45")]},"tskey43"),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Date"},"tskey7"),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetDateFromServerDateForInpField)(t.invoiceDate)},"tskey8")]},"tskey6"),e.pvtGetCustomerFields(t.customerData),Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Payment Mode"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:t.mode})]},"tskey9"),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Credited Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.creditedAmount]})]},"tskey10"),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Remark"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:[" ",t.remark]})]},"tskey14"),Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Products"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField flex1",style:{width:540},children:Object(S.jsx)(d.default,{PInvoiceType:t.invoiceType,SetGrandTotal:function(e){},SetProducts:function(t){e.setState({SProducts:t||[]})},PProductsArr:t.products,PIsReadOnlyMode:!0})})]},"tskey15"),Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"SGST Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal)]})]},"tskey13"),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"CGST Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal)]})]},"tskey16"),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"IGST Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetIGSTAmount)(e.state.SProducts,t.grandTotal)]})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Total Inovice Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.grandTotal]})]},"tskey17"),Object(S.jsx)("div",{className:"tsInvoiceViewBorder"},"tskey18")]},"tskey4"),e.pvtLoadDialog(),Object(S.jsx)(x.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}}),Object(S.jsx)(y.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(S.jsx)(S.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=I},236:function(e,t,n){"use strict";n.r(t);t.default=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,637)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))}},237:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(62),l=n(29),d=n(16),p=n(1),u=n(8),j=n(2),m=n(54),h=n(0),v=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={fromDate:Object(j.tsGetDefaultFromDate)(),toDate:Object(j.tsGetDefaultToDate)(),SInvoiceType:Object(u.GenConstants)().PESTICIDE_ACT_CODE},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFilterApplied(Object(j.cloneVar)(this.state))}},{key:"pvtGetInvoiceTypeContainer",value:function(){var e=this;if(!1!==e.props.PCanAddShowInvoiceType)return Object(h.jsx)("div",{style:{margin:"45px 0 0 20px"},children:Object(h.jsx)(m.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.setState({SInvoiceType:t})},CanAddPsudoNode:e.props.PCanAddPsudoNodeInInvoiceType||!1})})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)(c.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[e.pvtGetInvoiceTypeContainer(),Object(h.jsx)(l.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.fromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({fromDate:t.currentTarget.value})}}),Object(h.jsx)(l.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.toDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({toDate:t.currentTarget.value})}}),Object(h.jsx)(d.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 30px"},onClick:function(){e.props.onFilterApplied(Object(j.cloneVar)(e.state))},children:"Generate"})]})}}]),n}(p.Component);t.default=v},238:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(626),l=n(627),d=n(307),p=n(308),u=n(628),j=n(180),m=n(267),h=n(102),v=n(0),O=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)(c.a,{children:Object(v.jsxs)(l.a,{width:730,height:250,data:e.props.PRecords,margin:{top:10,right:30,left:0,bottom:0},children:[Object(v.jsxs)("defs",{children:[Object(v.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(v.jsx)("stop",{offset:"5%",stopColor:h.default.palette.primary.main,stopOpacity:.8}),Object(v.jsx)("stop",{offset:"95%",stopColor:h.default.palette.primary.main,stopOpacity:0})]}),Object(v.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(v.jsx)("stop",{offset:"5%",stopColor:h.default.palette.primary.main,stopOpacity:.8}),Object(v.jsx)("stop",{offset:"95%",stopColor:h.default.palette.primary.main,stopOpacity:0})]})]}),Object(v.jsx)(d.a,{dataKey:e.props.PChartConfig.xAxisDataKey}),Object(v.jsx)(p.a,{}),Object(v.jsx)(u.a,{strokeDasharray:"3 3"}),Object(v.jsx)(j.a,{}),Object(v.jsx)(m.a,{type:"monotone",dataKey:e.props.PChartConfig.lineDataKey,name:e.props.PChartConfig.dispName,stroke:h.default.palette.primary.main,fillOpacity:1,fill:"url(#colorUv)"}),Object(v.jsx)(m.a,{type:"monotone",stroke:h.default.palette.primary.main,fillOpacity:1,fill:"url(#colorPv)"})]})})}}]),n}(o.Component);t.default=O},239:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(8),p=n(15),u=n(0),j=function(e){Object(r.a)(c,e);var t=Object(o.a)(c);function c(e){var n;return Object(a.a)(this,c),n=t.call(this,e),Object(i.a)(n).state={SIsDialogLoading:!1,IsAlertDialogOpen:!1,SInvoiceTpl:Object(u.jsx)(u.Fragment,{})},n}return Object(s.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=e.props.match&&e.props.match.params||{};e.pvtFetchProjectDetails((function(n){e.pvtFetchPaymentDetails(t,(function(a){e.pvtFetchCustomersFields(t.cstId,(function(s){var i={customerData:s||{},paymentRecords:a||[]};e.pvtLoadTemplate(n,i,t)}))}))}))}},{key:"pvtLoadTemplate",value:function(e,t,a){var s=this.props.PTplActionCode||e.defaultStatement,i=n(611)("./"+s).default;this.setState({SInvoiceTpl:Object(u.jsx)(i,{PInvoice:t,PProjectData:e,PReqParam:a})})}},{key:"pvtFetchCustomersFields",value:function(e,t){var n,a=this;n=Object(l.BaseUrl)()+"customFields/type/"+Object(d.GenConstants)().CUSTOMER_CSTM_FIELDS;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(n,s).then((function(e){return e.json()})).then((function(n){if("error"===n.status)return a.FWarningText=n.message,void a.setState({IsAlertDialogOpen:!0});a.pvtFetchCustomers(e,n,t)}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchCustomers",value:function(e,t,n){var a,s=this,i=e;if(!0===Object(l.isEmpty)(i))return s.FWarningText="Customer id is mandatory",void s.setState({IsAlertDialogOpen:!0});a=Object(l.BaseUrl)()+"customers/"+i;var r={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(a,r).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return s.FWarningText=e.message,void s.setState({IsAlertDialogOpen:!0});var a={cstFields:t,cstFieldValues:e};!1===Object(l.isEmpty)(n)&&n(a)}),(function(e){s.FWarningText=e.message,s.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchProjectDetails",value:function(e){var t,n=this;t=Object(l.BaseUrl)()+"project";var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(t,a).then((function(e){return e.json()})).then((function(t){if(!1===t.status)return n.FWarningText=t.message,void n.setState({IsAlertDialogOpen:!0});!1===Object(l.isEmpty)(e)&&e(t)}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchPaymentDetails",value:function(e,t){var n,a,s=this,i=e;a=Object(l.BaseUrl)()+"statement/customers",n={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()},body:JSON.stringify(i)},fetch(a,n).then((function(e){return e.json()})).then((function(e){if(!1===e.success)return s.FWarningText=e.message,void s.setState({IsAlertDialogOpen:!0});!1===Object(l.isEmpty)(t)&&t(e)}),(function(e){s.FWarningText=e.message,s.setState({IsAlertDialogOpen:!0})}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[e.state.SInvoiceTpl,Object(u.jsx)(p.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||Object(u.jsx)(u.Fragment,{}),DialogActions:Object(u.jsx)(u.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),c}(c.Component);t.default=j},240:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(106),p=n(111),u=n(39),j=n(20),m=n(16),h=n(29),v=n(65),O=n(85),f=n(80),b=n(62),g=n(158),x=n(95),y=n.n(x),S=n(54),I=n(8),D=n(2),C=n(120),F=n(41),T=n.n(F),N=n(15),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={cstId:-1,SInvoiceType:Object(I.GenConstants)().PESTICIDE_ACT_CODE,SPayingAmount:0,SGrandTotal:0,SPaymentMode:"",SRemark:"",SIsLoading:!1,IsAlertDialogOpen:!1,IsSnackOn:!1,SStrInvoiceNo:""},r.FSnackMsg="",r.FWarningText="",r.FGridPanel=l.a.createRef(),s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.PSelectedRecord;!0!==Object(D.isEmpty)(e)&&this.setState({cstId:e.cstId,SGrandTotal:e.grandTotal,SInvoiceType:e.invoiceType,SPayingAmount:e.creditedAmount,SPaymentMode:e.mode,SRemark:e.remark||"",SStrInvoiceNo:e.strInvoiceNo})}},{key:"pvtResetAllFields",value:function(){this.FGridPanel.current.ResetFields(),this.setState({SPayingAmount:0,SGrandTotal:0,SPaymentMode:"",SRemark:"",IsAlertDialogOpen:!1,SIsLoading:!1,IsSnackOn:!0})}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){this.setState({SInvoiceType:e,SPayingAmount:0,SGrandTotal:0})}},{key:"pvtGetPaymentModeMenuItems",value:function(){var e,t=[],n=Object(D.tsGetPaymentModes)()||[];return t.push(Object(k.jsx)(u.a,{value:"",children:Object(k.jsx)("em",{children:"None"})},"none-paymentmode-key")),n.forEach((function(n,a){e=n.name.replace(/\s/g,"")+"-key"+a,t.push(Object(k.jsx)(u.a,{value:n.name,children:n.name},e))})),t}},{key:"pvtValidate",value:function(){var e=this;if(!0===Object(D.isEmpty)(e.state.cstId)||-1===e.state.cstId)return e.FWarningText="Select a Customer and try again.",e.setState({IsAlertDialogOpen:!0}),!1;if(!0===Object(D.isEmpty)(e.state.SInvoiceType))return e.FWarningText="Select a Invoice type and try again.",e.setState({IsAlertDialogOpen:!0}),!1;var t=e.FGridPanel.current.GetProductJson();return!0===Object(D.isEmpty)(t)?(e.FWarningText="Add at least one Product to continue.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(D.isEmpty)(e.state.SPayingAmount)||0===e.state.SPayingAmount?(e.FWarningText="Enter Paying Amount (Credit) and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0!==Object(D.isEmpty)(e.state.SPaymentMode)||(e.FWarningText="Select Payment mode and try again.",e.setState({IsAlertDialogOpen:!0}),!1)}},{key:"EditInvoice",value:function(e){!0===this.props.PIsOpenInDialog&&this.pvtDelete(e)}},{key:"pvtGenerateBtnClick",value:function(e){var t,n,a=this,s=Object(D.BaseUrl)()+"supplierinvoices",i={};if(!1!==a.pvtValidate()&&!0!==a.state.SIsLoading){if(t=a.FGridPanel.current.GetProductJson(),i={cstId:a.state.cstId,products:t,payingAmount:a.state.SPayingAmount,grandTotal:a.state.SGrandTotal,invoiceType:a.state.SInvoiceType,invoiceDate:a.props.PSelectedRecord&&a.props.PSelectedRecord.invoiceDate||(new Date).toString(),mode:a.state.SPaymentMode,remark:a.state.SRemark||"",strInvoiceNo:a.state.SStrInvoiceNo},!0===a.props.PIsOpenInDialog&&(i.invoiceNo=a.props.PSelectedRecord&&a.props.PSelectedRecord.invoiceNo,!0===Object(D.isEmpty)(i.invoiceNo)))return a.FWarningText="Something wents wrong.",void a.setState({IsAlertDialogOpen:!0});a.setState({SIsLoading:!0}),n={method:"POST",headers:{"Content-Type":"application/json",projectid:Object(D.tsGetProjectId)()},body:JSON.stringify(i)},fetch(s,n).then((function(e){return e.json()})).then((function(t){if(a.setState({SIsLoading:!1}),!1===t.success||Object(D.isEmpty)(t))return a.FWarningText=t.message||"Error occur on server",a.setState({IsAlertDialogOpen:!0,SIsLoading:!1}),!1;a.FSnackMsg="Invoice created - Invoice No: "+t.strInvoiceNo,a.pvtResetAllFields(),!1===Object(D.isEmpty)(e)&&e()}),(function(e){a.setState({IsAlertDialogOpen:!0,SIsLoading:!1})}))}}},{key:"pvtDelete",value:function(e){var t,n,a=this;n=Object(D.BaseUrl)()+"supplierinvoices/"+(a.props.PSelectedRecord&&a.props.PSelectedRecord.invoiceNo)+"/"+a.state.SInvoiceType,!0!==Object(D.isEmpty)(a.props.PSelectedRecord.invoiceNo)&&(t={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(D.tsGetProjectId)()},body:JSON.stringify({cstId:a.state.cstId})},fetch(n,t).then((function(e){return e.json()})).then((function(t){if(!1===t.success)return a.FWarningText=t.message,void a.setState({IsAlertDialogOpen:!0});a.pvtGenerateBtnClick(e)}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})})))}},{key:"pvtGetHeader",value:function(){return!0===this.props.PIsOpenInDialog?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(j.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(k.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(k.jsx)(y.a,{})}),Object(k.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(k.jsxs)("div",{style:{fontSize:"20px"},children:[" ",this.props.moduleInfo.displayTxt," "]}),Object(k.jsx)(j.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Take entry of supplier's Invoice."})]})]})}},{key:"pvtGetSaveBtn",value:function(){var e=this;return!0===e.props.PIsOpenInDialog?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(m.a,{style:{margin:"0 0 0 0"},size:"small",variant:"contained",color:"primary",startIcon:e.state.SIsLoading?"":Object(k.jsx)(T.a,{}),disableElevation:!0,onClick:function(){e.pvtGenerateBtnClick()},children:e.state.SIsLoading?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C.a,{size:20,color:"inherit"})," ",Object(k.jsx)("span",{style:{margin:"0 0 0 10px"},children:"Loading..."})]}):"Generate Invoice"})}},{key:"pvtGetPaymentFields",value:function(){var e=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{label:"Credit",placeholder:"Amount",required:!0,style:{margin:"3px 0 0 20px",width:"130px"},onChange:function(t){return e.setState({SPayingAmount:t.currentTarget.value})},value:e.state.SPayingAmount,margin:"dense",type:"number"}),Object(k.jsxs)(v.a,{style:{margin:"0 0 0 20px",width:"200px"},children:[Object(k.jsx)(O.a,{children:"Payment Mode"}),Object(k.jsx)(f.a,{value:e.state.SPaymentMode,onChange:function(t){e.setState({SPaymentMode:t.target.value})},children:e.pvtGetPaymentModeMenuItems()})]}),Object(k.jsx)(h.a,{label:"Remark",placeholder:"Remark",style:{margin:"4px 0 0 20px",width:"200px"},onChange:function(t){return e.setState({SRemark:t.currentTarget.value})},value:e.state.SRemark,margin:"dense"})]})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[e.pvtGetHeader(),Object(k.jsxs)(b.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(k.jsx)(d.default,{SetCstId:function(t){return e.setState({cstId:t})},cstId:e.props.PSelectedRecord&&e.props.PSelectedRecord.cstId,PFieldLbl:"Select Supplier"}),Object(k.jsxs)("div",{style:{margin:"5px 0 0 30px"},children:[Object(k.jsx)("h4",{children:"Invoice Type"}),Object(k.jsx)("div",{style:{margin:"27px 0 0 0"},children:Object(k.jsx)(S.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Invoice Type"})})]}),Object(k.jsx)(h.a,{label:"Invoice No",placeholder:"Enter Invoice Number",style:{margin:"57px 0 0 30px"},onChange:function(t){return e.setState({SStrInvoiceNo:t.currentTarget.value})},value:e.state.SStrInvoiceNo,margin:"dense",type:"text",title:"Enter Supplier Invoice Number, if not entered then system will autogenerate the invoice number."})]}),Object(k.jsx)(p.default,{PInvoiceType:e.state.SInvoiceType,ref:e.FGridPanel,SetGrandTotal:function(t){!0===e.props.PIsOpenInDialog?e.setState({SGrandTotal:t}):e.setState({SGrandTotal:t,SPayingAmount:t})},PProductsArr:e.props.PSelectedRecord&&e.props.PSelectedRecord.products}),Object(k.jsxs)(b.a,{style:{margin:"20px 20px 20px 20px",padding:"0 20px 20px 20px"},className:"tsVBox",variant:"outlined",children:[Object(k.jsx)("h4",{children:"Payment Details"}),Object(k.jsxs)("div",{className:"tsHBox",children:[Object(k.jsx)(h.a,{label:"Total Amount",placeholder:"Amount",required:!0,style:{margin:"3px 0 0 0",width:"120px"},onChange:function(t){return e.setState({SGrandTotal:t.currentTarget.value})},value:e.state.SGrandTotal,margin:"dense",type:"number",InputProps:{readOnly:!0}}),e.pvtGetPaymentFields(),Object(k.jsx)("div",{className:"flex1"}),e.pvtGetSaveBtn()]})]}),Object(k.jsx)(N.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(k.jsx)(g.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.state.IsSnackOn,onClose:function(){return e.setState({IsSnackOn:!1})},message:e.FSnackMsg},"verticalhorizontalSnack")]})}}]),n}(c.Component);t.default=P},241:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(111),p=n(16),u=n(44),j=n(45),m=n(110),h=n(83),v=n.n(h),O=n(52),f=n.n(O),b=n(100),g=n.n(b),x=n(51),y=n(15),S=n(0),I=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SProducts:[],SIsDialogOpen:!1,SIsDialogOpenInReadOnlyMode:!0,SLoading:!1,IsAlertDialogOpen:!1},s}return Object(s.a)(n,[{key:"pvtGetCustomerFields",value:function(e){var t=e.cstFields||[],n=e.cstFieldValues||{},a=[],s={};return a=[Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Customer Name"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstName})]}),Object(S.jsx)(S.Fragment,{children:0===n.cstBalance?Object(S.jsx)(S.Fragment,{}):Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Balance"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:function(e){var t=e;return t>0?t+" Cr":t<0?Math.abs(t)+" Dr":t}(n.cstBalance)})]})}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"GST No"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:n.cstGSTNo})]})],!1===Object(l.isEmpty)(t)&&(t=t||[]).forEach((function(e){if(!0===e.isSystemField)return!0;s=Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:e.fieldName}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:n[e.columnName]})]}),a.push(s)})),a}},{key:"pvtPrint",value:function(){var e=this.props.PSelectedRecord;!0!==Object(l.isObjEmpty)(e)&&Object(l.tsPrintSupplierInvoice)(e.invoiceType,e.invoiceNo)}},{key:"pvtGeneratePDF",value:function(){var e=this,t=e.props.PSelectedRecord;!0!==Object(l.isObjEmpty)(t)&&(e.setState({SLoading:!0}),Object(l.tsGenerateSupplierInvoicePDF)(t.invoiceType,t.invoiceNo,(function(t){e.setState({SLoading:!1}),!1===t.success&&(e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}))})))}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this.props.PSelectedRecord;!0!==Object(l.isObjEmpty)(e)&&this.setState({SIsDialogOpen:!0,SIsDialogOpenInReadOnlyMode:!1})}},{key:"pvtLoadDialog",value:function(){var e=this;return!1===e.state.SIsDialogOpen?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(m.default,{IsDialogOpen:e.state.SIsDialogOpen,OnDialogClose:function(){return e.setState({SIsDialogOpen:!1})},PSelectedRecord:e.props.PSelectedRecord,PIsReadOnlyMode:e.state.SIsDialogOpenInReadOnlyMode,PIsDetailedView:!0})}},{key:"render",value:function(){var e=this,t=e.props.PSelectedRecord||{};return Object(S.jsxs)("div",{className:"",children:[Object(S.jsxs)("div",{className:"tsHBox",children:[Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{size:"small",variant:"outlined",color:"primary",disableElevation:!0,style:{margin:"7px 0 0 0"},onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(S.jsx)(f.a,{}),children:"Edit Invoice"})}),Object(S.jsx)("div",{className:"flex1",children:" "}),Object(S.jsx)(u.a,{style:{margin:"0 0 0 0"},"aria-label":"Generate PDF",onClick:function(){return e.pvtGeneratePDF()},color:"primary",children:Object(S.jsx)(j.a,{title:"Generate PDF",children:Object(S.jsx)(g.a,{})})}),Object(S.jsx)("div",{children:Object(S.jsx)(u.a,{onClick:function(){return e.pvtPrint()},children:Object(S.jsx)(j.a,{title:"Print",children:Object(S.jsx)(v.a,{})})})})]}),Object(S.jsxs)("div",{className:"tsVBox",children:[Object(S.jsx)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:!1===Object(l.isEmpty)(t.invoiceType)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Type"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetInvoiceDispNameByActionCode)(t.invoiceType)})]}):Object(S.jsx)(S.Fragment,{})}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Supplier's Invoice Number"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:t.strInvoiceNo})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Invoice Date"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:Object(l.tsGetDateFromServerDateForInpField)(t.invoiceDate)})]}),e.pvtGetCustomerFields(t.customerData),Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Payment Mode"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField",children:t.mode})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Credited Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.creditedAmount]})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Remark"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:[" ",t.remark]})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Products"}),Object(S.jsx)("span",{className:"tsInvoiceViewValField flex1",style:{width:540},children:Object(S.jsx)(d.default,{PInvoiceType:t.invoiceType,SetGrandTotal:function(e){},SetProducts:function(t){e.setState({SProducts:t||[]})},PProductsArr:t.products,PIsReadOnlyMode:!0})})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint tsInvoiceViewBorder",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"SGST Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"CGST Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetGstAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"IGST Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",Object(l.tsGetIGSTAmount)(e.state.SProducts,t.grandTotal,"costPrice")]})]}),Object(S.jsxs)("div",{className:"tsHBoxForPrint",children:[Object(S.jsx)("span",{className:"tsInvoiceViewDispField",children:"Total Inovice Amount"}),Object(S.jsxs)("span",{className:"tsInvoiceViewValField",children:["Rs. ",t.grandTotal]})]}),Object(S.jsx)("div",{className:"tsInvoiceViewBorder"})]}),e.pvtLoadDialog(),Object(S.jsx)(x.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}}),Object(S.jsx)(y.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(S.jsx)(S.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=I},242:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(39),d=n(29),p=n(65),u=n(85),j=n(80),m=n(20),h=n(16),v=n(15),O=n(41),f=n.n(O),b=n(2),g=n(8),x=n(0),y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={ShowPassword:!1,IsLoading:!1,IsAlertDialogOpen:!1,AlertDialog:{AlertDialogContent:Object(x.jsx)(x.Fragment,{}),AlertDialogHeader:"Warning"},SFields:[]},r.FIsInvokedFirstTime=Object(g.GenConstants)().PESTICIDE_ACT_CODE,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtDefineProperties()}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"pvtDefineProperties",value:function(){var e=this,t=e.props.ProductRecord,n=e.props.ColumnFields||[],a={},s=[];n.forEach((function(e){if(!1===e.isField)return!0;(a={})[e.field]=t[e.field],a.fieldName=e.field,a.headerName=e.headerName,a.fieldType=e.fieldType,a.isRequired=e.isRequired,s.push(a)})),e.setState({SFields:s})}},{key:"pvtResetFields",value:function(){this.setState({SFields:[]})}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetGstTypes",value:function(){var e=[];return Object(b.tsGetTaxTypes)().forEach((function(t,n){e.push(Object(x.jsx)(l.a,{value:t.value,children:t.text},n+"-gsttypekey"))})),e}},{key:"pvtGetDialogContent",value:function(){var e=this,t=[],n=e.state.SFields||[];return n.forEach((function(a,s){if(!1===a.isField)return!0;a.fieldType===Object(g.GenConstants)().FIELD_DATE?t.push(Object(x.jsx)(d.a,{label:a.headerName,type:"date",fullWidth:!0,margin:"dense",style:{margin:"20px 0 0 0"},value:a[a.fieldName],InputLabelProps:{shrink:!0},required:a.isRequired,onChange:function(t){a[a.fieldName]=t.currentTarget.value,e.setState({SFields:n})}},a.headerName.replaceAll(" ","")+"key"+s)):a.fieldType===Object(g.GenConstants)().FIELD_NUMBER?t.push(Object(x.jsx)(d.a,{label:a.headerName,placeholder:a.headerName,required:a.isRequired,fullWidth:!0,onChange:function(t){a[a.fieldName]=t.currentTarget.value,e.setState({SFields:n})},value:a[a.fieldName],type:"number",margin:"dense",style:{margin:"15px 0 0 0"}},a.headerName.replaceAll(" ","")+"key"+s)):a.fieldType===Object(g.GenConstants)().GST_FIELD?t.push(Object(x.jsxs)(p.a,{style:{margin:"15px 0 0 0",width:"200px"},required:a.isRequired,fullWidth:!0,margin:"dense",children:[Object(x.jsx)(u.a,{children:a.headerName}),Object(x.jsx)(j.a,{value:a[a.fieldName],onChange:function(t){a[a.fieldName]=t.target.value,e.setState({SFields:n})},children:e.pvtGetGstTypes()})]},a.headerName.replaceAll(" ","")+"key"+s)):t.push(Object(x.jsx)(d.a,{label:a.headerName,placeholder:a.headerName,required:a.isRequired,fullWidth:!0,onChange:function(t){a[a.fieldName]=t.currentTarget.value,e.setState({SFields:n})},value:a[a.fieldName],margin:"dense",style:{margin:"15px 0 0 0"}},a.headerName.replaceAll(" ","")+"key"+s))})),Object(x.jsx)(m.a,{flex:"1",pt:2,display:"flex",flexDirection:"column",className:"tsDialogMinWidth",children:t})}},{key:"pvtGetDialogAction",value:function(){var e=this;return Object(x.jsx)(h.a,{onClick:function(){e.pvtSaveProduct()},color:"primary",variant:"contained",size:"small",startIcon:Object(x.jsx)(f.a,{}),children:"Save"})}},{key:"pvtValidate",value:function(){var e={},t=!0;return(this.state.SFields||[]).forEach((function(n){!0===n.isRequired&&!0===Object(b.isEmpty)(n[n.fieldName])&&(t=!1,e={AlertDialogContent:Object(x.jsxs)("span",{children:[" ",n.headerName," is required. "]}),AlertDialogHeader:"Warning"})})),!1===t&&this.setState({IsAlertDialogOpen:!0,AlertDialog:e}),t}},{key:"pvtSaveProduct",value:function(){var e,t,n=this,a=this,s={},i=[],r=Object(b.BaseUrl)()+"products",o=!1===Object(b.isEmpty)(a.props.ProductRecord.id);if(!1===a.pvtValidate())return!1;(a.state.SFields||[]).forEach((function(e){t=e[e.fieldName],s[e.fieldName]=t||"",i.push(e.fieldName)})),i.push("invoiceType"),s.fieldsArr=i,s.invoiceType=a.props.InvoiceType,e={method:!0===o?"PUT":"POST",headers:{"Content-Type":"application/json",projectid:Object(b.tsGetProjectId)()},body:JSON.stringify(s)},!0===o&&(r=Object(b.BaseUrl)()+"products/"+a.props.ProductRecord.id),a.setState({IsLoading:!0}),fetch(r,e).then((function(e){return e.json()})).then((function(e){if(a.setState({IsLoading:!1}),!1===e.success||Object(b.isEmpty)(e)){var t={AlertDialogContent:Object(x.jsxs)("span",{children:[" ",e.message," "]}),AlertDialogHeader:"Error"};a.setState({IsAlertDialogOpen:!0,AlertDialog:t})}else a.pvtHandleOnClose(),a.props.UpdateProductStore(e),!1===o&&a.pvtResetFields()}),(function(e){n.setState({IsLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(b.isEmpty)(e.props.ProductRecord.id)?"New Product":"Edit Product",DialogLoading:e.state.IsLoading,IsWindow:!0}),Object(x.jsx)(v.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.state.AlertDialog.AlertDialogContent,DialogActions:Object(x.jsx)(x.Fragment,{}),DialogHeader:e.state.AlertDialog.AlertDialogHeader,IsWindow:!1})]})}}]),n}(c.Component);t.default=y},243:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(2),d=n(8),p=n(15),u=n(0),j=function(e){Object(r.a)(c,e);var t=Object(o.a)(c);function c(e){var n;return Object(a.a)(this,c),n=t.call(this,e),Object(i.a)(n).state={SIsDialogLoading:!1,IsAlertDialogOpen:!1,SInvoiceTpl:Object(u.jsx)(u.Fragment,{})},n}return Object(s.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=e.props.match&&e.props.match.params&&e.props.match.params.invoiceNo;e.pvtFetchProjectDetails((function(n){e.pvtFetchPaymentRecord(t,(function(t){e.pvtFetchCustomersFields(t.cstId,(function(a){var s={customerData:a||{},paymentRecord:t||{}};e.pvtLoadTemplate(n,s)}))}))}))}},{key:"pvtLoadTemplate",value:function(e,t){var a=this.props.PTplActionCode||e.defaultPaymentInvoice,s=n(613)("./"+a).default;this.setState({SInvoiceTpl:Object(u.jsx)(s,{PInvoice:t,PProjectData:e})})}},{key:"pvtFetchCustomersFields",value:function(e,t){var n,a=this;n=Object(l.BaseUrl)()+"customFields/type/"+Object(d.GenConstants)().CUSTOMER_CSTM_FIELDS;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(n,s).then((function(e){return e.json()})).then((function(n){if("error"===n.status)return a.FWarningText=n.message,void a.setState({IsAlertDialogOpen:!0});a.pvtFetchCustomers(e,n,t)}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchCustomers",value:function(e,t,n){var a,s=this,i=e;if(!0===Object(l.isEmpty)(i))return s.FWarningText="Customer id is mandatory",void s.setState({IsAlertDialogOpen:!0});a=Object(l.BaseUrl)()+"customers/"+i;var r={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(a,r).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return s.FWarningText=e.message,void s.setState({IsAlertDialogOpen:!0});var a={cstFields:t,cstFieldValues:e};!1===Object(l.isEmpty)(n)&&n(a)}),(function(e){s.FWarningText=e.message,s.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchProjectDetails",value:function(e){var t,n=this;t=Object(l.BaseUrl)()+"project";var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(t,a).then((function(e){return e.json()})).then((function(t){if(!1===t.status)return n.FWarningText=t.message,void n.setState({IsAlertDialogOpen:!0});!1===Object(l.isEmpty)(e)&&e(t)}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchPaymentRecord",value:function(e,t){var n,a=this;if(!0===Object(l.isEmpty)(e))return a.FWarningText="Payment Invoice Number is mandatory.",void a.setState({IsAlertDialogOpen:!0});n=Object(l.BaseUrl)()+"payments/"+e,a.setState({SIsDialogLoading:!0});var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(l.tsGetProjectId)()}};fetch(n,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return a.FWarningText=e.message,void a.setState({IsAlertDialogOpen:!0});!1===Object(l.isEmpty)(t)&&t(e)}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[e.state.SInvoiceTpl,Object(u.jsx)(p.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||Object(u.jsx)(u.Fragment,{}),DialogActions:Object(u.jsx)(u.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),c}(c.Component);t.default=j},244:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var a=n(18),s=n(1),i=n(635),r=n(16),o=n(629),c=n(29),l=n(92),d=n(62),p=n(20),u=n(182),j=n(421),m=n.n(j),h=n(90),v=n(296),O=n(15),f=n(2),b=n(133),g=n(51),x=n(158),y=n(0);function S(){return Object(y.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:[Object(y.jsx)(l.a,{color:"inherit",children:"CRM SOFT"})," "+(new Date).getFullYear()]})}var I=Object(v.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(login.png)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"100% 100%",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function D(e){var t=I(),n="Sign in",j=Object(s.useState)(""),v=Object(a.a)(j,2),D=v[0],C=v[1],F=Object(s.useState)(""),T=Object(a.a)(F,2),N=T[0],k=T[1],P=Object(s.useState)(!1),G=Object(a.a)(P,2),A=G[0],E=G[1],R=Object(s.useState)(""),w=Object(a.a)(R,2),B=w[0],H=w[1],L=Object(s.useState)(n),V=Object(a.a)(L,2),W=V[0],U=V[1],M=Object(s.useState)(!1),_=Object(a.a)(M,2),z=_[0],q=_[1],J=Object(s.useState)(!1),Y=Object(a.a)(J,2),K=Y[0],Q=Y[1],Z=Object(s.useState)(!1),X=Object(a.a)(Z,2),$=X[0],ee=X[1],te=Object(s.useState)(!1),ne=Object(a.a)(te,2),ae=ne[0],se=ne[1];function ie(t,n,a){Object(f.tsLogin)(t,n,a),e.history.push("/")}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.a,{container:!0,component:"main",className:t.root,children:[Object(y.jsx)(o.a,{}),Object(y.jsx)(u.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(y.jsx)(u.a,{item:!0,xs:12,sm:8,md:5,component:d.a,elevation:6,square:!0,children:Object(y.jsxs)("div",{className:t.paper,children:[Object(y.jsx)(i.a,{className:t.avatar,children:Object(y.jsx)(m.a,{})}),Object(y.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(y.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(y.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Email",name:"username",autoComplete:"Email",autoFocus:!0,value:D,onChange:function(e){C(e.currentTarget.value)}}),Object(y.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:N,onChange:function(e){k(e.currentTarget.value)},style:{display:K?"none":""}}),Object(y.jsx)(r.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return function(){if(!0===Object(f.isEmpty)(D))return H("Email must be entered."),void E(!0);if(!0===Object(f.isEmpty)(N))return H("Password must be entered."),void E(!0);var e=Object(f.BaseUrl)()+"logincmd",t={username:D,password:N},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};U("Signing in, please wait..."),fetch(e,a).then((function(e){return e.json()})).then((function(e){if(!1===e.success)return H(e.message),E(!0),void U(n);ie(D,N,e)}),(function(e){U(n),H(e.message),E(!0)}))}()},disabled:W!==n,style:{display:K?"none":""},children:W}),Object(y.jsx)(r.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return function(){if(!0===Object(f.isEmpty)(D))return H("Email must be entered."),void E(!0);if(!1===Object(f.IsEmailValid)(D))return H("Entered Email is invalid."),void E(!0);ee(!0);var e=Object(f.BaseUrl)()+"logincmd/forgotpassword",t={email:D},n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(e,n).then((function(e){return e.json()})).then((function(e){if(!1===e.success)return H(e.message),E(!0),void ee(!1);se(!0),ee(!1),Q(!1)}),(function(e){H(e.message),E(!0),ee(!1)}))}()},style:{display:!1===K?"none":""},children:"Send Login Credentials to your Email"}),Object(y.jsxs)(u.a,{container:!0,children:[Object(y.jsx)(u.a,{item:!0,xs:!0,children:Object(y.jsx)(l.a,{variant:"body2",style:{cursor:"pointer"},onClick:function(){Q(!K)},children:!1===K?"Forgot password?":"Login"})}),Object(y.jsx)(u.a,{item:!0,children:Object(y.jsx)(l.a,{variant:"body2",style:{cursor:"pointer"},onClick:function(){q(!0)},children:"Don't have an account? Sign Up"})})]}),Object(y.jsx)(p.a,{mt:5,children:Object(y.jsx)(S,{})})]})]})})]}),Object(y.jsx)(O.default,{IsDialogOpen:A,OnDialogClose:function(){return E(!1)},DialogContent:B||"",DialogActions:Object(y.jsx)(y.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(y.jsx)(b.default,{IsDialogOpen:z,OnDialogClose:function(){return q(!1)},UpdateUserStore:function(e){},UserRecord:{},PIsSignUpForm:!0,PHandleOnSignUp:ie}),Object(y.jsx)(g.default,{PLoadingText:"Sending Login Credentials on your Email...",PIsLoading:$}),Object(y.jsx)(x.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:ae,onClose:function(){return se(!1)},message:"Login credentials has been sent on your email.",variant:"success"},"verticalhorizontalSnack")]})}},279:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(62),p=n(65),u=n(85),j=n(80),m=n(39),h=n(29),v=n(16),O=n(415),f=n.n(O),b=n(8),g=n(36),x=n(15),y=n(2),S=n(166),I=n(0),D=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={SActiveGSTTab:Object(b.GenConstants)().GSTR1,IsAlertDialogOpen:!1,FetchedData:[],SColumnData:[]},r.FWarningText="",s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;e.pvtSetDefaultValuesInFilter(),setTimeout((function(){e.pvtGenerateReport()}),100)}},{key:"pvtSetDefaultValuesInFilter",value:function(){this.setState({SToDate:Object(y.tsGetDefaultToDate)(),SFromDate:Object(y.tsGetDefaultFromDate)()})}},{key:"pvtValidate",value:function(){var e=this;return!0===Object(y.isEmpty)(e.state.SActiveGSTTab)?(e.FWarningText="Select GST and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(y.isEmpty)(e.state.SFromDate)?(e.FWarningText="Enter from date and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(y.isEmpty)(e.state.SToDate)?(e.FWarningText="Enter to date and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!(new Date(e.state.SFromDate)>new Date(e.state.SToDate))||(e.FWarningText="From date must be less than than To date.",e.setState({IsAlertDialogOpen:!0}),!1)}},{key:"pvtLoadData",value:function(e){var t=this,n={};switch(e=e||[],!0===Object(y.isObjEmpty)(t.FGSTUtils)&&(t.FGSTUtils=new S.default),t.state.SActiveGSTTab){case Object(b.GenConstants)().GSTR1:n.SColumnData=t.FGSTUtils.GetGSTR1Columns(),n.FetchedData=e;break;case Object(b.GenConstants)().B2CS:n.SColumnData=t.FGSTUtils.GetB2CSColumns(),n.FetchedData=e;break;case Object(b.GenConstants)().B2CL:n.SColumnData=t.FGSTUtils.GetB2CLColumns(),n.FetchedData=e;break;case Object(b.GenConstants)().B2B:n.SColumnData=t.FGSTUtils.GetB2BColumns(),n.FetchedData=e;break;case Object(b.GenConstants)().HSN:n.SColumnData=t.FGSTUtils.GetHSNColumns(),n.FetchedData=e;break;default:n.SColumnData=[],n.FetchedData=[]}t.setState(n)}},{key:"pvtGenerateReport",value:function(){var e=this;if(!1!==e.pvtValidate()){var t={fromDate:e.state.SFromDate,toDate:e.state.SToDate,gstType:e.state.SActiveGSTTab},n=Object(y.BaseUrl)()+"gstreports",a={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(y.tsGetProjectId)()},body:JSON.stringify(t)};fetch(n,a).then((function(e){return e.json()})).then((function(t){if(!1===t.success)return e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}),e.pvtLoadData([]),!1;e.pvtLoadData(t)}),(function(t){return e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}),!1}))}}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(I.jsxs)(l.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(I.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(I.jsx)(f.a,{})}),Object(I.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(I.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," Report"]}),Object(I.jsx)(l.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"GSTR-1 is a sales return that is required to be filed by every GST registered person."})]})]}),Object(I.jsx)("div",{className:"",style:{margin:"0 30px"},children:Object(I.jsxs)(d.a,{style:{padding:20},className:"tsHBox",variant:"outlined",children:[Object(I.jsxs)(p.a,{style:{width:200},children:[Object(I.jsx)(u.a,{children:"GSTR-1"}),Object(I.jsxs)(j.a,{value:e.state.SActiveGSTTab,onChange:function(t){e.setState({SActiveGSTTab:t.target.value})},children:[Object(I.jsx)(m.a,{value:Object(b.GenConstants)().GSTR1,children:Object(b.GenConstants)().GSTR1},Object(b.GenConstants)().GSTR1+"-key"),Object(I.jsx)(m.a,{value:Object(b.GenConstants)().B2B,children:Object(b.GenConstants)().B2B},Object(b.GenConstants)().B2B+"-key"),Object(I.jsx)(m.a,{value:Object(b.GenConstants)().B2CL,children:Object(b.GenConstants)().B2CL},Object(b.GenConstants)().B2CL+"-key"),Object(I.jsx)(m.a,{value:Object(b.GenConstants)().B2CS,children:Object(b.GenConstants)().B2CS},Object(b.GenConstants)().B2CS+"-key"),Object(I.jsx)(m.a,{value:Object(b.GenConstants)().HSN,children:Object(b.GenConstants)().HSN},Object(b.GenConstants)().HSN+"-key")]})]}),Object(I.jsx)(h.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"2px 0 0 20px"},value:e.state.SFromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({SFromDate:t.currentTarget.value})}}),Object(I.jsx)(h.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"2px 0 0 20px"},value:e.state.SToDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({SToDate:t.currentTarget.value})}}),Object(I.jsx)("div",{children:Object(I.jsx)(v.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"15px 0 0 30px"},onClick:function(){e.pvtGenerateReport()},children:"Generate Report"})})]})}),Object(I.jsx)("div",{style:{margin:"5px 30px"},className:"flex1 tsVBox",children:Object(I.jsx)(g.a,{columns:e.state.SColumnData||[],rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,density:"compact",onCellDoubleClick:function(e){},components:{Toolbar:g.b},hideFooter:!0,onRowClick:function(e){}})}),Object(I.jsx)(x.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(I.jsx)(I.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=D},365:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(16),d=n(20),p=n(62),u=n(29),j=n(91),m=n(44),h=n(45),v=n(92),O=n(52),f=n.n(O),b=n(59),g=n.n(b),x=n(2),y=n(262),S=n.n(y),I=n(60),D=n.n(I),C=n(36),F=n(54),T=n(8),N=n(81),k=n(15),P=n(83),G=n.n(P),A=n(100),E=n.n(A),R=n(51),w=n(0),B=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={FetchedData:null,SInvoiceType:Object(T.GenConstants)().PESTICIDE_ACT_CODE,SIsDialogOpen:!1,IsAlertDialogOpen:!1,SIsDialogOpenInReadOnlyMode:!0,IsCnfrmDialogOpen:!1,SLoading:!1,fromDate:"",toDate:""},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;e.pvtSetDefaultFromDateAndToDate(),setTimeout((function(){e.pvtFetchInvoices()}),100)}},{key:"pvtSetDefaultFromDateAndToDate",value:function(){this.setState({toDate:Object(x.tsGetDefaultToDate)(),fromDate:Object(x.tsGetDefaultFromDate)()})}},{key:"pvtRefresh",value:function(){var e=this;e.FSelectedRecord=null,e.setState({FetchedData:null}),e.pvtFetchInvoices()}},{key:"pvtFetchInvoices",value:function(e){var t=this,n=this,a=Object(x.BaseUrl)()+"invoices";e=e||n.state.SInvoiceType,!1===Object(x.isEmpty)(e)&&e!==Object(T.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(a=Object(x.BaseUrl)()+"invoices/type/"+e);var s={fromDate:n.state.fromDate,toDate:n.state.toDate,invoiceType:e};if(!0!==Object(x.isEmpty)(s.fromDate)&&!0!==Object(x.isEmpty)(s.toDate)){var i={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(x.tsGetProjectId)()},body:JSON.stringify(s)};fetch(a,i).then((function(e){return e.json()})).then((function(e){!1!==e.status?n.setState({FetchedData:e}):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){this.setState({SInvoiceType:e}),this.FSelectedRecord=null}},{key:"pvtLoadDialog",value:function(){var e=this;return!1===e.state.SIsDialogOpen?Object(w.jsx)(w.Fragment,{}):Object(w.jsx)(N.default,{IsDialogOpen:e.state.SIsDialogOpen,OnDialogClose:function(){return e.setState({SIsDialogOpen:!1})},PSelectedRecord:e.FSelectedRecord,PIsReadOnlyMode:e.state.SIsDialogOpenInReadOnlyMode,PIsDetailedView:!0})}},{key:"pvtOpenInvoice",value:function(e){var t=this;if(!0===Object(x.isEmpty)(t.FSelectedRecord))return t.FWarningText="Select a Invoice and try again.",void t.setState({IsAlertDialogOpen:!0});t.setState({SIsDialogOpen:!0,SIsDialogOpenInReadOnlyMode:e})}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(x.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtOpenInvoice(!1)}},{key:"pvtHandleOnViewInvoice",value:function(){var e=this;if(!0===Object(x.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtOpenInvoice(!0)}},{key:"pvtPrint",value:function(){var e=this;if(!0===Object(x.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});Object(x.tsPrint)(e.FSelectedRecord.invoiceType,e.FSelectedRecord.invoiceNo)}},{key:"pvtGeneratePDF",value:function(){var e=this;if(!0===Object(x.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});e.setState({SLoading:!0}),Object(x.tsGenerateInvoicePDF)(e.FSelectedRecord.invoiceType,e.FSelectedRecord.invoiceNo,(function(t){e.setState({SLoading:!1}),!1===t.success&&(e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}))}))}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(x.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a record and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this invoice?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtDelete",value:function(){var e,t,n,a=this,s=this,i=[];if(!0===Object(x.isEmpty)(s.FSelectedRecord))return s.FWarningText="Select a Invoice and try again.",void s.setState({IsAlertDialogOpen:!0});n=Object(x.BaseUrl)()+"invoices/"+s.FSelectedRecord.invoiceNo+"/"+s.FSelectedRecord.invoiceType,e=s.state.FetchedData||[],s.setState({FetchedData:[]}),t={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(x.tsGetProjectId)()},body:JSON.stringify(s.FSelectedRecord)},fetch(n,t).then((function(e){return e.json()})).then((function(t){if(!1===t.success)return s.FWarningText=t.message,void s.setState({FetchedData:e,IsCnfrmDialogOpen:!1,IsAlertDialogOpen:!0});s.FSelectedRecord=null,e.forEach((function(e){if(e.invoiceNo===parseInt(t.invoiceNo))return!0;i.push(e)})),s.setState({FetchedData:i,IsCnfrmDialogOpen:!1})}),(function(e){a.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(l.a,{onClick:function(){!1===Object(x.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(w.jsx)(w.Fragment,{})}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(w.jsxs)(d.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(w.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(w.jsx)(S.a,{})}),Object(w.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(w.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(w.jsx)(d.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Here you can see the invoices."})]})]}),Object(w.jsxs)(p.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(w.jsx)("div",{style:{margin:"45px 0 0 20px"},children:Object(w.jsx)(F.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Invoice Type"})}),Object(w.jsx)(u.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.fromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({fromDate:t.currentTarget.value})}}),Object(w.jsx)(u.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.toDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({toDate:t.currentTarget.value})}}),Object(w.jsx)(l.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 30px"},onClick:function(){e.pvtRefresh()},children:"Apply Filter"})]}),Object(w.jsxs)(j.a,{style:{margin:"0 0 0 0px"},component:"div",variant:"dense",children:[Object(w.jsx)(l.a,{size:"small",style:{margin:"0 0 0 0"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.pvtOpenInvoice(!0)},children:"View Invoice"}),Object(w.jsx)(l.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(w.jsx)(f.a,{}),children:"Edit Invoice"}),Object(w.jsx)(l.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(w.jsx)(g.a,{}),children:"Delete Invoice"}),Object(w.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(w.jsx)(h.a,{title:"Refresh",children:Object(w.jsx)(D.a,{})})}),Object(w.jsx)(v.a,{className:"tsBlueLink",style:{cursor:"pointer"},href:"#/bill-wise-profit",children:"Check detailed invoice summary"}),Object(w.jsx)("div",{className:"flex1"}),Object(w.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Generate PDF",onClick:function(){return e.pvtGeneratePDF()},color:"primary",children:Object(w.jsx)(h.a,{title:"Generate PDF",children:Object(w.jsx)(E.a,{})})}),Object(w.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Print",onClick:function(){return e.pvtPrint()},children:Object(w.jsx)(h.a,{title:"Print",children:Object(w.jsx)(G.a,{})})})]}),Object(w.jsx)("div",{style:{margin:"5px 20px 20px 20px"},className:"flex1",children:Object(w.jsx)(C.a,{columns:[{field:"invoiceDate",headerName:"Date",headerClassName:"tsGridHeader",minWidth:180,color:"primary",renderCell:function(e){return Object(x.tsGetDateFromServerDateForInpField)(e.value)}},{field:"invoiceType",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(w.jsx)("span",{children:Object(x.tsGetInvoiceDispNameByActionCode)(e.value)})}},{field:"cstName",headerName:"Name",headerClassName:"tsGridHeader",minWidth:200,flex:1,color:"primary"},{field:"invoiceNo",headerName:"Invoice No",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(w.jsx)("span",{children:Object(x.tsGetInvoiceDispNoByInvoiceNo)(e.value,e.getValue(e.id,"invoiceType"))})}}],rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:C.b},density:"compact",onCellDoubleClick:function(t){return e.pvtOpenInvoice(!0)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),e.pvtLoadDialog(),Object(w.jsx)(k.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(w.jsx)(w.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(w.jsx)(k.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1}),Object(w.jsx)(R.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}})]})}}]),n}(c.Component);t.default=B},366:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(62),p=n(29),u=n(16),j=n(2),m=n(416),h=n.n(m),v=n(36),O=n(106),f=n(15),b=n(83),g=n.n(b),x=n(51),y=n(81),S=n(110),I=n(0),D=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:[],cstId:-1,fromDate:"",toDate:"",IsAlertDialogOpen:!1,SLoading:!1,SIsInvoiceDlgOpen:!1,SIsSupplierInvoiceDlgOpen:!1},r.FWarningText="",s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.pvtSetDefaultFromDateAndToDate()}},{key:"pvtSetDefaultFromDateAndToDate",value:function(){this.setState({toDate:Object(j.tsGetDefaultToDate)(),fromDate:Object(j.tsGetDefaultFromDate)()})}},{key:"pvtValidate",value:function(){var e=this;return!0===Object(j.isEmpty)(e.state.cstId)||-1===e.state.cstId?(e.FWarningText="Select a Customer and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(j.isEmpty)(e.state.fromDate)?(e.FWarningText="Enter from date and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(j.isEmpty)(e.state.toDate)?(e.FWarningText="Enter to date and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!(new Date(e.state.fromDate)>new Date(e.state.toDate))||(e.FWarningText="From date must be less than than To date.",e.setState({IsAlertDialogOpen:!0}),!1)}},{key:"pvtGeneratePDF",value:function(){var e=this;!1!==e.pvtValidate()&&(e.FSelectedRecord=null,e.setState({SLoading:!0}),e.pvtFetchPaymentDetails((function(t){Object(j.tsGenerateStatement)(t.cstId,t.fromDate,t.toDate,(function(t){e.setState({SLoading:!1}),!1===t.success&&(e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}))}))})))}},{key:"pvtGenerateReport",value:function(e){var t=this;!1!==t.pvtValidate()&&(t.FSelectedRecord=null,t.setState({FetchedData:null}),t.pvtFetchPaymentDetails((function(t){e&&Object(j.tsStatementPrint)(t.cstId,t.fromDate,t.toDate)})))}},{key:"pvtFetchPaymentDetails",value:function(e){var t,n,a,s=this,i=this;a=Object(j.BaseUrl)()+"statement/customers",t={cstId:i.state.cstId,fromDate:i.state.fromDate,toDate:i.state.toDate},n={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(j.tsGetProjectId)()},body:JSON.stringify(t)},fetch(a,n).then((function(e){return e.json()})).then((function(n){!1!==n.success?(i.setState({FetchedData:n}),!1===Object(j.isEmpty)(e)&&e(t)):i.setState({FetchedData:[]})}),(function(e){s.setState({FetchedData:[]})}))}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtHandleOnRowDblClick",value:function(e){!0!==Object(j.isEmpty)(e.invoiceNo)?1!==e.isPurchaserInvoice?this.setState({SIsInvoiceDlgOpen:!0}):this.setState({SIsSupplierInvoiceDlgOpen:!0}):Object(j.tsPaymentPrint)(e.id)}},{key:"pvtGetInvoiceDialog",value:function(){var e=this;return!1===e.state.SIsInvoiceDlgOpen?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(y.default,{IsDialogOpen:e.state.SIsInvoiceDlgOpen,OnDialogClose:function(){return e.setState({SIsInvoiceDlgOpen:!1})},PSelectedRecord:e.FSelectedRecord,PIsReadOnlyMode:!0,PIsDetailedView:!0})}},{key:"pvtGetSupplierInvoiceDialog",value:function(){var e=this;return!1===e.state.SIsSupplierInvoiceDlgOpen?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(S.default,{IsDialogOpen:e.state.SIsSupplierInvoiceDlgOpen,OnDialogClose:function(){return e.setState({SIsSupplierInvoiceDlgOpen:!1})},PSelectedRecord:e.FSelectedRecord,PIsReadOnlyMode:!0,PIsDetailedView:!0})}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(I.jsxs)(l.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(I.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(I.jsx)(h.a,{})}),Object(I.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(I.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(I.jsx)(l.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Generate the customer's statement. Double click on invoice to view or print invoice."})]})]}),Object(I.jsxs)(d.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(I.jsx)("div",{style:{margin:"13px 0 0 0"},children:Object(I.jsx)(O.default,{SetCstId:function(t){return e.setState({cstId:t})},PCanShowHeaderLabel:!1})}),Object(I.jsx)(p.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"29px 0 0 0"},value:e.state.fromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({fromDate:t.currentTarget.value})}}),Object(I.jsx)(p.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.toDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({toDate:t.currentTarget.value})}}),Object(I.jsx)(u.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 30px"},onClick:function(){e.pvtGenerateReport()},children:"Generate"}),Object(I.jsx)(u.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 10px"},startIcon:Object(I.jsx)(g.a,{}),onClick:function(){e.pvtGenerateReport(!0)},children:"Print"})]}),Object(I.jsx)("div",{style:{margin:"5px 20px 20px 20px"},className:"flex1",children:Object(I.jsx)(v.a,{columns:[{field:"paymentDate",headerName:"Date",headerClassName:"tsGridHeader",minWidth:180,color:"primary",sort:"asc",renderCell:function(e){return Object(j.tsGetDateFromServerDateForInpField)(e.value)}},{field:"invoiceType",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(I.jsx)("span",{children:Object(j.tsGetInvoiceDispNameByActionCode)(e.value)})}},{field:"invoiceNo",headerName:"Invoice Number",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){var t=e.value||e.getValue(e.id,"id");return Object(I.jsx)("span",{children:Object(j.tsGetInvoiceDispNoByInvoiceNo)(t,e.getValue(e.id,"invoiceType"),e.getValue(e.id,"isPurchaserInvoice"))})}},{field:"mode",headerName:"Mode of Payment",headerClassName:"tsGridHeader",minWidth:200},{field:"total",headerName:"Total",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"credit",headerName:"Credit",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"debit",headerName:"Debit",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"balance",headerName:"Balance",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"remark",headerName:"Remark",headerClassName:"tsGridHeader",minWidth:250,renderCell:function(e){var t=e.value;return Object(I.jsx)("span",{title:t,children:t})}}],rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:v.b},density:"compact",onCellDoubleClick:function(t){return e.pvtHandleOnRowDblClick(t.row)},hideFooter:!0,onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),Object(I.jsx)(f.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(I.jsx)(I.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(I.jsx)(x.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}}),e.pvtGetInvoiceDialog(),e.pvtGetSupplierInvoiceDialog()]})}}]),n}(c.Component);t.default=D},367:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n.n(c),d=n(16),p=n(20),u=n(91),j=n(44),m=n(45),h=n(268),v=n(316),O=n(2),f=n(152),b=n.n(f),g=n(60),x=n.n(g),y=n(36),S=n(242),I=n(52),D=n.n(I),C=n(59),F=n.n(C),T=n(15),N=n(8),k=n(54),P=n(435),G=n(0),A=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var r=Object(i.a)(s);return r.state={FetchedData:null,CanInvokeDialogOpen:!1,ProductRecord:{},IsAlertDialogOpen:!1,IsCnfrmDialogOpen:!1,ColumnFields:r.pvtGetGridColumn(),SInvoiceType:""},r.FGridRef=l.a.createRef(),r.FSearchField=l.a.createRef(),r.F_callBackOnCnfrmTrue=null,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"pvtRefresh",value:function(){var e=this;e.pvtFetchProductsFields(),e.FSelectedRecord=null,e.pvtResetSearchField(),e.setState({FetchedData:null})}},{key:"pvtResetSearchField",value:function(){var e=this;e.FSearchField&&e.FSearchField.current&&e.FSearchField.current.firstElementChild&&(e.FSearchField.current.firstElementChild.value="")}},{key:"pvtFetchProductsFields",value:function(e){var t,n=this,a=this,s=e||a.state.SInvoiceType;if(!0!==Object(O.isEmpty)(s)){t=Object(O.BaseUrl)()+"customFields/type/"+Object(N.GenConstants)().PRODUCT_CSTM_FIELDS+"/"+s;var i={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(O.tsGetProjectId)()}};fetch(t,i).then((function(e){return e.json()})).then((function(e){"error"!==e.status?a.pvtFetchProducts(e,s):a.setState({FetchedData:[]})}),(function(e){n.setState({FetchedData:[]})}))}}},{key:"pvtFetchProducts",value:function(e,t){var n,a=this,s=this;n=Object(O.BaseUrl)()+"products/type/"+t;var i={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(O.tsGetProjectId)()}};fetch(n,i).then((function(e){return e.json()})).then((function(t){"error"!==t.status?(s.FAllFetectedRecords=t,s.setState({FetchedData:t,ColumnFields:s.pvtGetGridColumn(e)||[]})):s.setState({FetchedData:[]})}),(function(e){a.setState({FetchedData:[]})}))}},{key:"pvtGetGridColumn",value:function(e){var t=[],n={};return t=[{field:"productName",headerName:"Name",headerClassName:"tsGridHeader",minWidth:200,flex:1,color:"primary",sort:"asc",fieldType:Object(N.GenConstants)().SYSTEM_FIELD,isRequired:!0},{field:"qty",headerName:"Quantity",headerClassName:"tsGridHeader",width:150,color:"primary",fieldType:Object(N.GenConstants)().SYSTEM_FIELD,isRequired:!0,isField:!1},{field:"hsn",headerName:"HSN Code",headerClassName:"tsGridHeader",width:150,color:"primary",fieldType:Object(N.GenConstants)().SYSTEM_FIELD,isRequired:!0,isField:!0},{field:"gst",headerName:"GST",headerClassName:"tsGridHeader",width:150,color:"primary",fieldType:Object(N.GenConstants)().FIELD_NUMBER,isRequired:!0,isField:!0},{field:"gstType",headerName:"GST Type",headerClassName:"tsGridHeader",width:150,color:"primary",fieldType:Object(N.GenConstants)().GST_FIELD,isRequired:!0,isField:!0,renderCell:function(e){return Object(G.jsx)("span",{children:Object(O.tsGetDisplayTextByTaxType)(e.value)})}}],!1===Object(O.isEmpty)(e)&&(e=e||[]).forEach((function(e){if(!0===e.isSystemField)return!0;(n={}).headerName=e.fieldName,n.field=e.columnName,n.headerClassName="tsGridHeader",n.minWidth=200,n.fieldType=e.fieldType,n.isRequired=1===e.isRequired,t.push(n)})),t}},{key:"pvtLoadDialog",value:function(){var e=this;return!0===e.state.CanInvokeDialogOpen?Object(G.jsx)(S.default,{IsDialogOpen:e.state.CanInvokeDialogOpen,OnDialogClose:function(){return e.setState({CanInvokeDialogOpen:!1})},UpdateProductStore:function(t){return e.UpdateProductStore(t)},ProductRecord:e.state.ProductRecord||{},ColumnFields:e.state.ColumnFields||[],InvoiceType:e.state.SInvoiceType}):Object(G.jsx)(G.Fragment,{})}},{key:"pvtEditProduct",value:function(e){if(!0!==Object(O.isEmpty)(e)){var t=e;this.setState({CanInvokeDialogOpen:!0,ProductRecord:t})}}},{key:"UpdateProductStore",value:function(e){var t=this,n=[],a=!0;!0!==Object(O.isEmpty)(e)&&((t.FAllFetectedRecords||[]).forEach((function(t){if(t.id===e.id)return n.push(e),a=!1,!0;n.push(t)})),!0===a&&n.push(e),t.FAllFetectedRecords=n,t.pvtFilterOnSearch())}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(O.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Product and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtEditProduct(e.FSelectedRecord)}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(O.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Product and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this product?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtDelete",value:function(){var e,t,n=this,a=this,s=[],i=[];if(!0===Object(O.isEmpty)(a.FSelectedRecord))return a.FWarningText="Select a Product and try again.",void a.setState({IsAlertDialogOpen:!0});t=Object(O.BaseUrl)()+"products/"+a.FSelectedRecord.id,s=a.FAllFetectedRecords||[],a.setState({FetchedData:[]}),e={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(O.tsGetProjectId)()},body:JSON.stringify({})},fetch(t,e).then((function(e){return e.json()})).then((function(e){if(!1===e.success)return a.FWarningText=e.message,void a.setState({FetchedData:s,IsCnfrmDialogOpen:!1,IsAlertDialogOpen:!0});a.FSelectedRecord=null,s.forEach((function(t){if(t.id===e.id)return!0;i.push(t)})),a.FAllFetectedRecords=i,a.setState({IsCnfrmDialogOpen:!1}),a.pvtFilterOnSearch()}),(function(e){n.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(d.a,{onClick:function(){!1===Object(O.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(G.jsx)(G.Fragment,{})}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){var t=this;t.setState({SInvoiceType:e}),t.FSelectedRecord=null,t.pvtResetSearchField(),t.pvtFetchProductsFields(e)}},{key:"pvtFilterOnSearch",value:function(e){var t=this,n=t.FAllFetectedRecords||[];if(e=e||t.FSearchField.current&&t.FSearchField.current.firstElementChild&&t.FSearchField.current.firstElementChild.value||"",!0!==Object(O.isEmpty)(e)){e=e.toLowerCase();var a=n.filter((function(t){return(t.productName||"").toLowerCase().includes(e)}));t.setState({FetchedData:a})}else t.setState({FetchedData:t.FAllFetectedRecords})}},{key:"render",value:function(){var e=this;return Object(G.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(G.jsxs)(p.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(G.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(G.jsx)(b.a,{})}),Object(G.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(G.jsx)("div",{style:{fontSize:"20px"},children:" Manage Products "}),Object(G.jsx)(p.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Create new product, edit product details, remove product, etc."})]})]}),Object(G.jsxs)(u.a,{style:{margin:"0 0 0 0px"},component:"div",variant:"dense",children:[Object(G.jsx)(d.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return e.setState({CanInvokeDialogOpen:!0,ProductRecord:{}})},children:"New Product"}),Object(G.jsx)(d.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(G.jsx)(D.a,{}),children:"Edit Product"}),Object(G.jsx)(d.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(G.jsx)(F.a,{}),children:"Delete Product"}),Object(G.jsx)(j.a,{style:{margin:"0 5px 0 5px"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(G.jsx)(m.a,{title:"Refresh",children:Object(G.jsx)(x.a,{})})}),Object(G.jsx)(k.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Product Type"}),Object(G.jsx)("div",{className:"flex1"}),Object(G.jsx)(h.a,{label:"Search",placeholder:"Search Products",onChange:function(t){e.pvtFilterOnSearch(t.currentTarget.value)},ref:e.FSearchField,type:"text",margin:"dense",style:{margin:"-1px 0 0 5px"},endAdornment:Object(G.jsx)(v.a,{position:"start",children:Object(G.jsx)(P.a,{})})})]}),Object(G.jsx)("div",{style:{margin:"5px 20px 20px 20px"},className:"flex1",children:Object(G.jsx)(y.a,{columns:e.state.ColumnFields,rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:y.b},density:"compact",onCellDoubleClick:function(t){return e.pvtEditProduct(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),e.pvtLoadDialog(),Object(G.jsx)(T.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(G.jsx)(G.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(G.jsx)(T.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1})]})}}]),n}(c.Component);t.default=A},368:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(62),p=n(29),u=n(16),j=n(91),m=n(44),h=n(45),v=n(2),O=n(417),f=n.n(O),b=n(60),g=n.n(b),x=n(36),y=n(54),S=n(8),I=n(83),D=n.n(I),C=n(15),F=n(100),T=n.n(F),N=n(51),k=n(0),P=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={FetchedData:null,SInvoiceType:Object(S.GenConstants)().PSUDO_INVOICE_TYPE_ALL,IsAlertDialogOpen:!1,SLoading:!1,fromDate:"",toDate:""},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;e.pvtSetDefaultFromDateAndToDate(),setTimeout((function(){e.pvtFetchPaymentDetails()}),200)}},{key:"pvtSetDefaultFromDateAndToDate",value:function(){this.setState({toDate:Object(v.tsGetDefaultToDate)(),fromDate:Object(v.tsGetDefaultFromDate)()})}},{key:"pvtRefresh",value:function(){var e=this;e.FSelectedRecord=null,e.setState({FetchedData:null}),e.pvtFetchPaymentDetails()}},{key:"pvtFetchPaymentDetails",value:function(e){var t=this,n=this,a=Object(v.BaseUrl)()+"payments";e=e||n.state.SInvoiceType,!1===Object(v.isEmpty)(e)&&e!==Object(S.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(a=Object(v.BaseUrl)()+"payments/type/"+e);var s={fromDate:n.state.fromDate,toDate:n.state.toDate,invoiceType:e};if(!0!==Object(v.isEmpty)(s.fromDate)&&!0!==Object(v.isEmpty)(s.toDate)){var i={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()},body:JSON.stringify(s)};fetch(a,i).then((function(e){return e.json()})).then((function(e){!0!==e.status?n.setState({FetchedData:e}):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){this.setState({SInvoiceType:e}),this.FSelectedRecord=null}},{key:"pvtPrint",value:function(){var e=this;if(!0===Object(v.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Record and try again.",void e.setState({IsAlertDialogOpen:!0});Object(v.tsPaymentPrint)(e.FSelectedRecord.id)}},{key:"pvtGeneratePDF",value:function(){var e=this;if(!0===Object(v.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Record and try again.",void e.setState({IsAlertDialogOpen:!0});e.setState({SLoading:!0}),Object(v.tsGeneratePaymentInvoice)(e.FSelectedRecord.id,(function(t){e.setState({SLoading:!1}),!1===t.success&&(e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}))}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(k.jsxs)(l.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(k.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(k.jsx)(f.a,{})}),Object(k.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(k.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(k.jsx)(l.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Here you can see the payment history."})]})]}),Object(k.jsxs)(d.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(k.jsx)("div",{style:{margin:"45px 0 0 20px"},children:Object(k.jsx)(y.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Invoice Type",CanAddPsudoNode:!0,PCanShowSystemTypes:!0})}),Object(k.jsx)(p.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.fromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({fromDate:t.currentTarget.value})}}),Object(k.jsx)(p.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.toDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({toDate:t.currentTarget.value})}}),Object(k.jsx)(u.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 30px"},onClick:function(){e.pvtRefresh()},children:"Apply Filter"})]}),Object(k.jsxs)(j.a,{style:{margin:"5px 0 0 0px"},component:"div",variant:"dense",children:[Object(k.jsx)(m.a,{style:{margin:"0 15px 0 0"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(k.jsx)(h.a,{title:"Refresh",children:Object(k.jsx)(g.a,{})})}),Object(k.jsx)("div",{className:"flex1"}),Object(k.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Generate PDF",onClick:function(){return e.pvtGeneratePDF()},color:"primary",children:Object(k.jsx)(h.a,{title:"Generate PDF",children:Object(k.jsx)(T.a,{})})}),Object(k.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Print",onClick:function(){return e.pvtPrint()},children:Object(k.jsx)(h.a,{title:"Print",children:Object(k.jsx)(D.a,{})})})]}),Object(k.jsx)("div",{style:{margin:"5px 20px 20px 20px"},className:"flex1",children:Object(k.jsx)(x.a,{columns:[{field:"paymentDate",headerName:"Date",headerClassName:"tsGridHeader",minWidth:180,color:"primary",sort:"asc",renderCell:function(e){return Object(v.tsGetDateFromServerDateForInpField)(e.value)}},{field:"invoiceType",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(k.jsx)("span",{children:Object(v.tsGetInvoiceDispNameByActionCode)(e.value)})}},{field:"invoiceNo",headerName:"Invoice Number",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){var t=e.value||e.getValue(e.id,"id");return Object(k.jsx)("span",{children:Object(v.tsGetInvoiceDispNoByInvoiceNo)(t,e.getValue(e.id,"invoiceType"),e.getValue(e.id,"isPurchaserInvoice"))})}},{field:"cstName",headerName:"Name",headerClassName:"tsGridHeader",minWidth:200,color:"primary"},{field:"total",headerName:"Total",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"credit",headerName:"Credit",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"debit",headerName:"Debit",headerClassName:"tsGridHeader",minWidth:150,renderCell:function(e){return"Rs. "+e.value}},{field:"mode",headerName:"Mode of Payment",headerClassName:"tsGridHeader",minWidth:200},{field:"remark",headerName:"Remark",headerClassName:"tsGridHeader",minWidth:250,renderCell:function(e){var t=e.value;return Object(k.jsx)("span",{title:t,children:t})}}],rows:e.state.FetchedData||[],ref:e.FGridRef,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:x.b},density:"compact",onCellDoubleClick:function(t){return e.pvtHandleOnRowClick(t.row)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),Object(k.jsx)(C.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(k.jsx)(k.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(k.jsx)(N.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}})]})}}]),n}(c.Component);t.default=P},369:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(106),d=n(39),p=n(20),u=n(62),j=n(65),m=n(85),h=n(80),v=n(29),O=n(16),f=n(158),b=n(418),g=n.n(b),x=n(41),y=n.n(x),S=n(2),I=n(15),D=n(120),C=n(8),F=n(0),T=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={cstId:-1,SPaymentType:"",SAmount:0,SPaymentMode:"",SRemark:"",IsAlertDialogOpen:!1,IsSnackOn:!1,SIsLoading:!1},s}return Object(s.a)(n,[{key:"pvtResetAllFields",value:function(){this.setState({SPaymentType:"",SAmount:0,SPaymentMode:"",SRemark:"",IsAlertDialogOpen:!1,SIsLoading:!1,IsSnackOn:!0})}},{key:"pvtValidate",value:function(){var e=this;return!0===Object(S.isEmpty)(e.state.cstId)||-1===e.state.cstId?(e.FWarningText="Select a Customer and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(S.isEmpty)(e.state.SPaymentType)?(e.FWarningText="Select a Payment type and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(S.isEmpty)(e.state.SAmount)||0===e.state.SAmount?(e.FWarningText="Enter Amount and try again.",e.setState({IsAlertDialogOpen:!0}),!1):!0===Object(S.isEmpty)(e.state.SPaymentMode)?(e.FWarningText="Select Payment mode and try again.",e.setState({IsAlertDialogOpen:!0}),!1):void 0}},{key:"pvtGenerateBtnClick",value:function(){var e,t=this,n=Object(S.BaseUrl)()+"payments",a={};!1!==t.pvtValidate()&&!0!==t.state.SIsLoading&&(t.setState({SIsLoading:!0}),a={invoiceType:"",paymentDate:(new Date).toString(),cstId:t.state.cstId,invoiceNo:"",mode:t.state.SPaymentMode,remark:t.state.SRemark,credit:0,debit:0},"credit"===t.state.SPaymentType?(a.credit=t.state.SAmount,a.invoiceType=Object(C.GenConstants)().PAYMENT_IN_ACT_CODE):"debit"===t.state.SPaymentType&&(a.debit=t.state.SAmount,a.invoiceType=Object(C.GenConstants)().PAYMENT_OUT_ACT_CODE),e={method:"POST",headers:{"Content-Type":"application/json",projectid:Object(S.tsGetProjectId)()},body:JSON.stringify(a)},fetch(n,e).then((function(e){return e.json()})).then((function(e){if(t.setState({IsLoading:!1}),!1===e.success||Object(S.isEmpty)(e))return t.FWarningText=e.message||"Error occur on server",t.setState({IsAlertDialogOpen:!0,SIsLoading:!1}),!1;t.FSnackMsg="Transaction Successful",Object(S.tsPaymentPrint)(e.id),t.pvtResetAllFields()}),(function(e){t.setState({IsAlertDialogOpen:!0,SIsLoading:!1})})))}},{key:"pvtGetPaymentModeMenuItems",value:function(){var e,t=[],n=Object(S.tsGetPaymentModes)()||[];return t.push(Object(F.jsx)(d.a,{value:"",children:Object(F.jsx)("em",{children:"None"})},"none-paymentmode-key")),n.forEach((function(n,a){e=n.name.replace(/\s/g,"")+"-key"+a,t.push(Object(F.jsx)(d.a,{value:n.name,children:n.name},e))})),t}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(F.jsxs)(p.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(F.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(F.jsx)(g.a,{})}),Object(F.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(F.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(F.jsx)(p.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Credit, Debit Payment."})]})]}),Object(F.jsx)(u.a,{style:{margin:"0 20px 0 20px"},variant:"outlined",children:Object(F.jsx)(l.default,{SetCstId:function(t){return e.setState({cstId:t})}})}),Object(F.jsxs)(u.a,{style:{margin:"20px 20px 0 20px",padding:"0 20px 20px 20px"},className:"tsVBox",variant:"outlined",children:[Object(F.jsx)("h4",{children:"Payment Details"}),Object(F.jsxs)("div",{className:"tsHBox",children:[Object(F.jsxs)(j.a,{style:{margin:"0 0 0 0",width:"200px"},children:[Object(F.jsx)(m.a,{children:"Payment type"}),Object(F.jsxs)(h.a,{value:e.state.SPaymentType,onChange:function(t){e.setState({SPaymentType:t.target.value})},children:[Object(F.jsx)(d.a,{value:"",children:Object(F.jsx)("em",{children:"None"})},"none-key"),Object(F.jsx)(d.a,{value:"credit",children:"Credit"},"credit-key"),Object(F.jsx)(d.a,{value:"debit",children:"Debit"},"debit-key")]})]}),Object(F.jsx)(v.a,{label:"Amount",placeholder:"Amount",required:!0,style:{margin:"3px 0 0 20px",width:"200px"},onChange:function(t){return e.setState({SAmount:t.currentTarget.value})},value:e.state.SAmount,margin:"dense",type:"number"}),Object(F.jsxs)(j.a,{style:{margin:"0 0 0 20px",width:"200px"},children:[Object(F.jsx)(m.a,{children:"Payment Mode"}),Object(F.jsx)(h.a,{value:e.state.SPaymentMode,onChange:function(t){e.setState({SPaymentMode:t.target.value})},children:e.pvtGetPaymentModeMenuItems()})]})]}),Object(F.jsx)(v.a,{label:"Remark",placeholder:"Remark",style:{margin:"20px 0 0 0",width:"200px"},onChange:function(t){return e.setState({SRemark:t.currentTarget.value})},value:e.state.SRemark,margin:"dense",multiline:!0})]}),Object(F.jsx)("div",{className:"flex1"}),Object(F.jsxs)("div",{className:"tsHBox",children:[Object(F.jsx)("div",{className:"flex1"}),Object(F.jsx)(O.a,{style:{margin:"0 50px 30px 0"},size:"large",variant:"contained",color:"primary",startIcon:e.state.SIsLoading?"":Object(F.jsx)(y.a,{}),disableElevation:!0,onClick:function(){e.pvtGenerateBtnClick()},children:e.state.SIsLoading?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(D.a,{size:20,color:"inherit"})," ",Object(F.jsx)("span",{style:{margin:"0 0 0 10px"},children:"Loading..."})]}):"Save and Generate Receipt"})]}),Object(F.jsx)(I.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(F.jsx)(F.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(F.jsx)(f.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.state.IsSnackOn,onClose:function(){return e.setState({IsSnackOn:!1})},message:e.FSnackMsg},"verticalhorizontalSnack")]})}}]),n}(c.Component);t.default=T},370:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(95),p=n.n(d),u=n(109),j=n(2),m=n(166),h=n(81),v=n(0),O=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SIsDialogOpen:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"pvtGetGridColumn",value:function(e){return(new m.default).GetInvoiceWiseProfitColumns()}},{key:"pvtFetchProductDetails",value:function(e,t){var n,a,s=e||{};a=Object(j.BaseUrl)()+"statement/invoicewiseprofit",n={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(j.tsGetProjectId)()},body:JSON.stringify(s)},fetch(a,n).then((function(e){return e.json()})).then((function(e){!1===Object(j.isEmpty)(t)&&t(e,s)}),(function(e){t([])}))}},{key:"pvtFetchStocksFields",value:function(e,t){t([])}},{key:"pvtGetDialog",value:function(){var e=this;return!1===e.state.SIsDialogOpen?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(h.default,{IsDialogOpen:e.state.SIsDialogOpen,OnDialogClose:function(){return e.setState({SIsDialogOpen:!1})},PSelectedRecord:e.FSelectedRecord,PIsReadOnlyMode:!0,PIsDetailedView:!0})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(v.jsxs)(l.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(v.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(v.jsx)(p.a,{})}),Object(v.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(v.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(v.jsx)(l.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Check invoices wise profit report. Double click on invoice to view or print invoice."})]})]}),Object(v.jsx)(u.default,{PGetGridColumn:e.pvtGetGridColumn,PFetchProductDetails:e.pvtFetchProductDetails,PFetchProductsFields:e.pvtFetchStocksFields,PGetDialogContent:function(){},POnDblClick:function(t){e.FSelectedRecord=t||{},e.setState({SIsDialogOpen:!0})},PCanAddPsudoNodeInInvoiceType:!1,PChartConfig:{lineDataKey:"ProfitPerInvoice",xAxisDataKey:"invoiceNo",dispName:"Total Profit"}}),e.pvtGetDialog()]})}}]),n}(c.Component);t.default=O},371:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(45),d=n(20),p=n(62),u=n(419),j=n.n(u),m=n(237),h=n(120),v=n(2),O=n(434),f=n(75),b=n(255),g=n.n(b),x=n(256),y=n.n(x),S=n(8),I=n(0),D=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={SDataOnUI:null},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;e.FTotalAmount={totalSale:0,totalCredit:0,totalDebit:0},e.FDefaultExpandedNodeIds=["gtotal"],e.setState({SDataOnUI:e.pvtGetLoadingCntr()})}},{key:"pvtOnFilterApplied",value:function(e){var t,n=this,a=Object(v.BaseUrl)()+"statement/cashflow";n.FTotalAmount={totalSale:0,totalCredit:0,totalDebit:0},t={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()},body:JSON.stringify(e)},fetch(a,t).then((function(e){return e.json()})).then((function(e){if(Object(v.isEmpty)(e)||!1===e.success)return!1;n.pvtLoadDataOnUI(e)}),(function(e){}))}},{key:"pvtLoadDataOnUI",value:function(e){var t,n=this;t=Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(O.a,{defaultCollapseIcon:Object(I.jsx)(g.a,{}),defaultExpanded:n.FDefaultExpandedNodeIds,defaultExpandIcon:Object(I.jsx)(y.a,{}),children:[Object(I.jsx)(f.a,{nodeId:"sale",label:"Sale",children:n.pvtLoadSaleOnUI(e.sale)}),Object(I.jsx)(f.a,{nodeId:"purchaser",label:"Supplier",children:n.pvtLoadPurchaseOnUI(e.purshare)}),Object(I.jsxs)(f.a,{nodeId:"gtotal",label:"Total",children:[Object(I.jsx)(f.a,{nodeId:"gtotalCredit",label:Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Credited: Rs.",n.FTotalAmount.totalCredit]})})}),Object(I.jsx)(f.a,{nodeId:"gtotalDebit",label:Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Debited: Rs.",n.FTotalAmount.totalDebit]})})}),Object(I.jsx)(f.a,{nodeId:"gtotalAmt",label:Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Amount: Rs.",n.FTotalAmount.totalSale]})})})]})]})}),n.setState({SDataOnUI:t})}},{key:"pvtGetHintWithStyle",value:function(e){return Object(I.jsx)("span",{className:"tsGrayColor",style:{margin:"0 0 0 10px",fontSize:10},children:e})}},{key:"pvtLoadSaleOnUI",value:function(e){var t,n,a,s,i=this,r=[],o={},c="The amount which is paid by customers",d=!1;for(var p in e){switch(s="Pending Amount",t="The amount which customers need to pay you (unpaid amount)",d=!1,a=(o=e[p]||{}).debit,n=o.total-a+o.credit,p){case Object(S.GenConstants)().PAYMENT_IN_ACT_CODE:n=o.credit,a=o.credit,d=!0,s="Payment Credited",t="Here you can see the payment-credited amount from payment reciept";break;case Object(S.GenConstants)().PAYMENT_OUT_ACT_CODE:a=o.debit,n=0,s="Payment Debited",t="Here you can see the payment-debited amount from payment reciept",d=!0,i.FTotalAmount.totalDebit+=a}i.FTotalAmount.totalSale+=o.total,i.FTotalAmount.totalCredit+=n,r.push(Object(I.jsxs)(f.a,{nodeId:p,label:Object(v.tsGetInvoiceDispNameByActionCode)(p),children:[!1===d?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(f.a,{nodeId:p+"total",label:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Amount: Rs.",o.total]})},p+"total"),Object(I.jsx)(f.a,{nodeId:p+"credit",label:Object(I.jsx)(l.a,{title:c,placement:"right",children:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Credited: Rs.",n," ",i.pvtGetHintWithStyle(c)]})},p+"tooltipmenukey")},p+"credit")]}):null,Object(I.jsx)(f.a,{nodeId:p+"debit",label:Object(I.jsx)(l.a,{title:t,placement:"right",children:Object(I.jsxs)("span",{className:"tsHelpText",children:[s,": Rs.",a,i.pvtGetHintWithStyle(t)]})},p+"tooltipmenukey")},p+"debit")]},p+"cashflowsale")),i.FDefaultExpandedNodeIds.push(p)}return r}},{key:"pvtLoadPurchaseOnUI",value:function(e){var t=this,n=[],a={},s="Amount paid to suppliers",i="The amount which you will need to pay to suppliers",r=0;for(var o in e)r=(a=e[o]||{}).total-a.credit+a.debit,t.FTotalAmount.totalDebit+=r,n.push(Object(I.jsxs)(f.a,{nodeId:o+"cashflowpurshase",label:Object(v.tsGetInvoiceDispNameByActionCode)(o),children:[Object(I.jsx)(f.a,{nodeId:o+"totalpurshase",label:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Amount: Rs.",a.total]})},o+"totalpurshase"),Object(I.jsx)(f.a,{nodeId:o+"creditpurshase",label:Object(I.jsx)(l.a,{title:s,placement:"right",children:Object(I.jsxs)("span",{className:"tsHelpText",children:["Total Debited: Rs.",r," ",t.pvtGetHintWithStyle(s)," "]})},o+"tooltipmenukeypurshase")},o+"creditpurshase"),Object(I.jsx)(f.a,{nodeId:o+"debitpurshase",label:Object(I.jsx)(l.a,{title:i,placement:"right",children:Object(I.jsxs)("span",{className:"tsHelpText",children:["Pending Amount: Rs.",a.credit,t.pvtGetHintWithStyle(i)]})},o+"tooltipmenukeypurshase")},o+"debitpurshase")]},o+"cashflowpurshase")),t.FDefaultExpandedNodeIds.push(o+"cashflowpurshase");return n}},{key:"pvtGetLoadingCntr",value:function(){return Object(I.jsx)("div",{className:"tsMiddle",children:Object(I.jsx)(h.a,{})})}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{className:"flex1 tsVBox tsOverFlowAuto",style:{margin:"10px 0 10px 0"},children:[Object(I.jsxs)(d.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(I.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(I.jsx)(j.a,{})}),Object(I.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(I.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(I.jsx)(d.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Check invoices complete cash flow."})]})]}),Object(I.jsx)(m.default,{onFilterApplied:e.pvtOnFilterApplied.bind(e),PCanAddShowInvoiceType:!1}),Object(I.jsx)(p.a,{style:{margin:20,padding:20},className:"flex1 tsVBox tsOverFlowAuto",variant:"outlined",children:e.state.SDataOnUI})]})}}]),n}(c.Component);t.default=D},372:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(20),l=n(95),d=n.n(l),p=n(109),u=n(2),j=n(0),m=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"pvtGetGridColumn",value:function(e){return[{field:"invoiceLocalDateString",headerName:"Date",headerClassName:"tsGridHeader",flex:1,minWidth:200},{field:"profit",headerName:"Profit / Loss",headerClassName:"tsGridHeader",cellClassName:function(e){return e.value>0?"tsGridSuccessCell":"tsGridFailureCell"},flex:1,minWidth:200,renderCell:function(e){var t=e.value;return t>0?Object(j.jsx)("span",{title:'Profit Amount calculated from "Sold Quantity" by "Sold Amount".',children:"Rs. "+Math.abs(t)}):Object(j.jsx)("span",{title:'Loss Amount calculated from "Sold Quantity" by "Sold Amount".',children:"Rs. "+Math.abs(t)})}}]}},{key:"pvtFetchProductDetails",value:function(e,t){var n,a,s=e||{};a=Object(u.BaseUrl)()+"statement/profitdatewise",n={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()},body:JSON.stringify(s)},fetch(a,n).then((function(e){return e.json()})).then((function(e){!1===Object(u.isEmpty)(t)&&t(e,s)}),(function(e){t([])}))}},{key:"pvtFetchStocksFields",value:function(e,t){!1===Object(u.isEmpty)(t)&&t([])}},{key:"pvtGetDialogContent",value:function(e){return Object(j.jsx)(j.Fragment,{children:JSON.stringify(e)})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(j.jsxs)(c.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(j.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(j.jsx)(d.a,{})}),Object(j.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(j.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(j.jsx)(c.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Check product wise profit / loss report."})]})]}),Object(j.jsx)(p.default,{PGetGridColumn:e.pvtGetGridColumn,PFetchProductDetails:e.pvtFetchProductDetails,PFetchProductsFields:e.pvtFetchStocksFields,PGetDialogContent:e.pvtGetDialogContent,CanShowDetailedView:!1,PCanAddPsudoNodeInInvoiceType:!0,PChartConfig:{lineDataKey:"profit",xAxisDataKey:"invoiceLocalDateString",dispName:"Profit Amount"},PIsChartView:!0})]})}}]),n}(o.Component);t.default=m},373:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(20),l=n(95),d=n.n(l),p=n(109),u=n(2),j=n(8),m=n(108),h=n(0),v=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"pvtGetGridColumn",value:function(e){var t=[],n={};return t=[{field:"productName",headerName:"Name",headerClassName:"tsGridHeader",flex:1,minWidth:200},{field:"soldQty",headerName:"Sold Quantity",headerClassName:"tsGridHeader",width:165,cellClassName:"tsGridSuccessCell"},{field:"hsn",headerName:"HSN Code",headerClassName:"tsGridHeader",width:150},{field:"gst",headerName:"GST",headerClassName:"tsGridHeader",width:150}],!1===Object(u.isEmpty)(e)&&(e=e||[]).forEach((function(e){if(!0===e.isSystemField)return!0;(n={}).headerName=e.fieldName,n.field=e.columnName,n.headerClassName="tsGridHeader",n.minWidth=200,t.push(n)})),t}},{key:"pvtFetchProductDetails",value:function(e,t){var n,a,s=e||{};a=Object(u.BaseUrl)()+"statement/productsale",n={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()},body:JSON.stringify(s)},fetch(a,n).then((function(e){return e.json()})).then((function(e){!1===Object(u.isEmpty)(t)&&t(e,s)}),(function(e){t([])}))}},{key:"pvtFetchProductsFields",value:function(e,t){var n,a=e;n=Object(u.BaseUrl)()+"customFields/type/"+Object(j.GenConstants)().PRODUCT_CSTM_FIELDS+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}};fetch(n,s).then((function(e){return e.json()})).then((function(e){!1===Object(u.isEmpty)(t)&&t(e)}),(function(e){t([])}))}},{key:"pvtGetDialogContent",value:function(e){return Object(h.jsx)(m.default,{PProductId:e.productId,PInvoiceType:e.invoiceType,PStockId:e.stockId})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(h.jsxs)(c.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(h.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(h.jsx)(d.a,{})}),Object(h.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(h.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(h.jsx)(c.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Check product-wise sales. Double click on product for stock details."})]})]}),Object(h.jsx)(p.default,{PGetGridColumn:e.pvtGetGridColumn,PFetchProductDetails:e.pvtFetchProductDetails,PFetchProductsFields:e.pvtFetchProductsFields,PGetDialogContent:e.pvtGetDialogContent,PChartConfig:{lineDataKey:"soldQty",xAxisDataKey:"productName",dispName:"Sold Item Quantity"}})]})}}]),n}(o.Component);t.default=v},374:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(20),l=n(95),d=n.n(l),p=n(109),u=n(2),j=n(8),m=n(108),h=n(0),v=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"pvtGetGridColumn",value:function(e){var t=[];t=[{field:"productName",headerName:"Product Name",headerClassName:"tsGridHeader",flex:1,minWidth:200},{field:"qty",headerName:"Sold Quantity",headerClassName:"tsGridHeader",width:165},{field:"costPrice",headerName:"Cost Price per Unit",headerClassName:"tsGridHeader",minWidth:200,renderCell:function(e){return"Rs. "+e.value}},{field:"profit",headerName:"Profit / Loss",headerClassName:"tsGridHeader",cellClassName:function(e){return e.value>0?"tsGridSuccessCell":"tsGridFailureCell"},width:165,renderCell:function(e){var t=e.value;return t>0?Object(h.jsx)("span",{title:'Profit Amount calculated from "Sold Quantity" by "Sold Amount".',children:"Rs. "+Math.abs(t)}):Object(h.jsx)("span",{title:'Loss Amount calculated from "Sold Quantity" by "Sold Amount".',children:"Rs. "+Math.abs(t)})}},{field:"hsn",headerName:"HSN Code",headerClassName:"tsGridHeader",width:150,isRequired:!0,isField:!0},{field:"gst",headerName:"GST",headerClassName:"tsGridHeader",width:150,isRequired:!0,isField:!0}];var n={};return!1===Object(u.isEmpty)(e)&&(e=e||[]).forEach((function(e){if(!0===e.isSystemField)return!0;(n={}).headerName=e.fieldName,n.field=e.columnName,n.headerClassName="tsGridHeader",n.minWidth=200,t.push(n)})),t}},{key:"pvtFetchProductDetails",value:function(e,t){var n,a,s=e||{};a=Object(u.BaseUrl)()+"statement/profitproductwise",n={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()},body:JSON.stringify(s)},fetch(a,n).then((function(e){return e.json()})).then((function(e){!1===Object(u.isEmpty)(t)&&t(e,s)}),(function(e){t([])}))}},{key:"pvtFetchStocksFields",value:function(e,t){var n,a=e;if(!0!==Object(u.isEmpty)(a)&&e!==Object(j.GenConstants)().PSUDO_INVOICE_TYPE_ALL){n=Object(u.BaseUrl)()+"customFields/type/"+Object(j.GenConstants)().STOCK_CSTM_FIELDS+"/"+a;var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(u.tsGetProjectId)()}};fetch(n,s).then((function(e){return e.json()})).then((function(e){!1===Object(u.isEmpty)(t)&&t(e)}),(function(e){!1===Object(u.isEmpty)(t)&&t([])}))}else!1===Object(u.isEmpty)(t)&&t([])}},{key:"pvtGetProductDialogContent",value:function(e){return Object(h.jsx)(m.default,{PProductId:e.productId,PInvoiceType:e.invoiceType,PStockId:e.stockId})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(h.jsxs)(c.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(h.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(h.jsx)(d.a,{})}),Object(h.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(h.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(h.jsx)(c.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Check product wise profit / loss report. Double click on product for stock details."})]})]}),Object(h.jsx)(p.default,{PGetGridColumn:e.pvtGetGridColumn,PFetchProductDetails:e.pvtFetchProductDetails,PFetchProductsFields:e.pvtFetchStocksFields,PCanAddPsudoNodeInInvoiceType:!0,PGetDialogContent:e.pvtGetProductDialogContent,PChartConfig:{lineDataKey:"profit",xAxisDataKey:"productName",dispName:"Total Profit"}})]})}}]),n}(o.Component);t.default=v},375:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(16),d=n(20),p=n(62),u=n(29),j=n(91),m=n(44),h=n(45),v=n(52),O=n.n(v),f=n(59),b=n.n(f),g=n(2),x=n(262),y=n.n(x),S=n(60),I=n.n(S),D=n(36),C=n(54),F=n(8),T=n(110),N=n(15),k=n(83),P=n.n(k),G=n(100),A=n.n(G),E=n(51),R=n(0),w=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={FetchedData:null,SInvoiceType:"",SIsDialogOpen:!1,IsAlertDialogOpen:!1,SIsDialogOpenInReadOnlyMode:!0,IsCnfrmDialogOpen:!1,SLoading:!1,fromDate:"",toDate:""},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;e.pvtSetDefaultFromDateAndToDate(),setTimeout((function(){e.pvtFetchInvoices()}),100)}},{key:"pvtSetDefaultFromDateAndToDate",value:function(){this.setState({toDate:Object(g.tsGetDefaultToDate)(),fromDate:Object(g.tsGetDefaultFromDate)()})}},{key:"pvtRefresh",value:function(){var e=this;e.FSelectedRecord=null,e.setState({FetchedData:null}),e.pvtFetchInvoices()}},{key:"pvtFetchInvoices",value:function(e){var t=this,n=this,a=Object(g.BaseUrl)()+"supplierinvoices";if(e=e||n.state.SInvoiceType,!0!==Object(g.isEmpty)(e)){!1===Object(g.isEmpty)(e)&&e!==Object(F.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(a=Object(g.BaseUrl)()+"supplierinvoices/type/"+e);var s={fromDate:n.state.fromDate,toDate:n.state.toDate,invoiceType:n.state.SInvoiceType};if(!0!==Object(g.isEmpty)(s.fromDate)&&!0!==Object(g.isEmpty)(s.toDate)){var i={method:"PUT",headers:{"Content-Type":"application/json",projectid:Object(g.tsGetProjectId)()},body:JSON.stringify(s)};fetch(a,i).then((function(e){return e.json()})).then((function(e){!1!==e.status?n.setState({FetchedData:e}):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}}}},{key:"pvtHandleOnRowClick",value:function(e){this.FSelectedRecord=e}},{key:"pvtHandleOnInvoiceTypeChange",value:function(e){this.setState({SInvoiceType:e}),this.FSelectedRecord=null}},{key:"pvtLoadDialog",value:function(){var e=this;return!1===e.state.SIsDialogOpen?Object(R.jsx)(R.Fragment,{}):Object(R.jsx)(T.default,{IsDialogOpen:e.state.SIsDialogOpen,OnDialogClose:function(){return e.setState({SIsDialogOpen:!1})},PSelectedRecord:e.FSelectedRecord,PIsReadOnlyMode:e.state.SIsDialogOpenInReadOnlyMode,PIsDetailedView:!0})}},{key:"pvtOpenInvoice",value:function(e){var t=this;if(!0===Object(g.isEmpty)(t.FSelectedRecord))return t.FWarningText="Select a Invoice and try again.",void t.setState({IsAlertDialogOpen:!0});t.setState({SIsDialogOpen:!0,SIsDialogOpenInReadOnlyMode:e})}},{key:"pvtHandleOnEditButtonClick",value:function(){var e=this;if(!0===Object(g.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtOpenInvoice(!1)}},{key:"pvtHandleOnViewInvoice",value:function(){var e=this;if(!0===Object(g.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});e.pvtOpenInvoice(!0)}},{key:"pvtPrint",value:function(){var e=this;if(!0===Object(g.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});Object(g.tsPrintSupplierInvoice)(e.FSelectedRecord.invoiceType,e.FSelectedRecord.invoiceNo)}},{key:"pvtGeneratePDF",value:function(){var e=this;if(!0===Object(g.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a Invoice and try again.",void e.setState({IsAlertDialogOpen:!0});e.setState({SLoading:!0}),Object(g.tsGenerateSupplierInvoicePDF)(e.FSelectedRecord.invoiceType,e.FSelectedRecord.invoiceNo,(function(t){e.setState({SLoading:!1}),!1===t.success&&(e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0}))}))}},{key:"pvtHandleOnDeleteButtonClick",value:function(){var e=this;if(!0===Object(g.isEmpty)(e.FSelectedRecord))return e.FWarningText="Select a record and try again.",void e.setState({IsAlertDialogOpen:!0});e.FCnfrmText="Are you sure want to delete this invoice?",e.F_callBackOnCnfrmTrue=e.pvtDelete,e.setState({IsCnfrmDialogOpen:!0})}},{key:"pvtDelete",value:function(){var e,t,n,a=this,s=this,i=[];if(!0===Object(g.isEmpty)(s.FSelectedRecord))return s.FWarningText="Select a Invoice and try again.",void s.setState({IsAlertDialogOpen:!0});n=Object(g.BaseUrl)()+"supplierinvoices/"+s.FSelectedRecord.invoiceNo+"/"+s.FSelectedRecord.invoiceType,e=s.state.FetchedData||[],s.setState({FetchedData:[]}),t={method:"DELETE",headers:{"Content-Type":"application/json",projectid:Object(g.tsGetProjectId)()},body:JSON.stringify(s.FSelectedRecord)},fetch(n,t).then((function(e){return e.json()})).then((function(t){if(!1===t.success)return s.FWarningText=t.message,void s.setState({FetchedData:e,IsCnfrmDialogOpen:!1,IsAlertDialogOpen:!0});s.FSelectedRecord=null,e.forEach((function(e){if(e.invoiceNo===parseInt(t.invoiceNo))return!0;i.push(e)})),s.setState({FetchedData:i,IsCnfrmDialogOpen:!1})}),(function(e){a.setState({FetchedData:[],IsCnfrmDialogOpen:!1})}))}},{key:"pvtGetWarningDlgAction",value:function(e){var t=this;return!0===e?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(l.a,{onClick:function(){!1===Object(g.isEmpty)(t.F_callBackOnCnfrmTrue)&&t.F_callBackOnCnfrmTrue()},color:"primary",variant:"contained",size:"small",children:"Confirm"})}):Object(R.jsx)(R.Fragment,{})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(R.jsxs)(d.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(R.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(R.jsx)(y.a,{})}),Object(R.jsxs)("div",{style:{margin:"18px 6px 0 0"},children:[Object(R.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]}),Object(R.jsx)(d.a,{component:"div",style:{fontSize:"13px"},mt:.5,children:"Here you can see the invoices."})]})]}),Object(R.jsxs)(p.a,{style:{margin:"0 20px 0 20px"},className:"tsHBox",variant:"outlined",children:[Object(R.jsx)("div",{style:{margin:"45px 0 0 20px"},children:Object(R.jsx)(C.default,{Value:e.state.SInvoiceType,OnChange:function(t){return e.pvtHandleOnInvoiceTypeChange(t)},EmptyText:"Product Type"})}),Object(R.jsx)(u.a,{label:"From Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.fromDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({fromDate:t.currentTarget.value})}}),Object(R.jsx)(u.a,{label:"To Date",type:"date",margin:"dense",style:{margin:"29px 0 0 20px"},value:e.state.toDate,InputLabelProps:{shrink:!0},required:!0,onChange:function(t){e.setState({toDate:t.currentTarget.value})}}),Object(R.jsx)(l.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,style:{margin:"40px 0 30px 30px"},onClick:function(){e.pvtRefresh()},children:"Apply Filter"})]}),Object(R.jsxs)(j.a,{style:{margin:"0 0 0 0px"},component:"div",variant:"dense",children:[Object(R.jsx)(l.a,{size:"small",style:{margin:"0 0 0 0"},variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.pvtOpenInvoice(!0)},children:"View Invoice"}),Object(R.jsx)(l.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnEditButtonClick()},startIcon:Object(R.jsx)(O.a,{}),children:"Edit Invoice"}),Object(R.jsx)(l.a,{size:"small",style:{margin:"0 0 0 5px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){e.pvtHandleOnDeleteButtonClick()},startIcon:Object(R.jsx)(b.a,{}),children:"Delete Invoice"}),Object(R.jsx)(m.a,{style:{margin:"0 15px 0 0"},"aria-label":"Refresh",onClick:function(){return e.pvtRefresh()},children:Object(R.jsx)(h.a,{title:"Refresh",children:Object(R.jsx)(I.a,{})})}),Object(R.jsx)("div",{className:"flex1"}),Object(R.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Generate PDF",onClick:function(){return e.pvtGeneratePDF()},color:"primary",children:Object(R.jsx)(h.a,{title:"Generate PDF",children:Object(R.jsx)(A.a,{})})}),Object(R.jsx)(m.a,{style:{margin:"0 0 0 0"},"aria-label":"Print",onClick:function(){return e.pvtPrint()},children:Object(R.jsx)(h.a,{title:"Print",children:Object(R.jsx)(P.a,{})})})]}),Object(R.jsx)("div",{style:{margin:"5px 20px 20px 20px"},className:"flex1",children:Object(R.jsx)(D.a,{columns:[{field:"invoiceDate",headerName:"Date",headerClassName:"tsGridHeader",minWidth:180,color:"primary",sort:"asc",renderCell:function(e){return Object(g.tsGetDateFromServerDateForInpField)(e.value)}},{field:"invoiceType",headerName:"Invoice Type",headerClassName:"tsGridHeader",minWidth:157,renderCell:function(e){return Object(R.jsx)("span",{children:Object(g.tsGetInvoiceDispNameByActionCode)(e.value)})}},{field:"cstName",headerName:"Name",headerClassName:"tsGridHeader",minWidth:200,flex:1,color:"primary"},{field:"invoiceNo",headerName:"Invoice No",headerClassName:"tsGridHeader",minWidth:145,renderCell:function(e){return Object(R.jsx)("span",{children:Object(g.tsGetInvoiceDispNoByInvoiceNo)(e.value,e.getValue(e.id,"invoiceType"),1)})}},{field:"strInvoiceNo",headerName:"Supplier's Invoice No",headerClassName:"tsGridHeader",minWidth:220}],rows:e.state.FetchedData||[],ref:e.FGridRef,pagination:!0,csvOptions:{allColumns:!0},loading:null===e.state.FetchedData,components:{Toolbar:D.b},density:"compact",onCellDoubleClick:function(t){return e.pvtOpenInvoice(!0)},onRowClick:function(t){return e.pvtHandleOnRowClick(t.row)}})}),e.pvtLoadDialog(),Object(R.jsx)(N.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(R.jsx)(R.Fragment,{}),DialogHeader:"Warning",IsWindow:!1}),Object(R.jsx)(N.default,{IsDialogOpen:e.state.IsCnfrmDialogOpen,OnDialogClose:function(){return e.setState({IsCnfrmDialogOpen:!1})},DialogContent:e.FCnfrmText||"",DialogActions:e.pvtGetWarningDlgAction(!0),DialogHeader:"Confirm",IsWindow:!1}),Object(R.jsx)(E.default,{PLoadingText:"Generating PDF document, please wait...",PIsLoading:e.state.SLoading,POnStopLoading:function(){return e.setState({SLoading:!1})}})]})}}]),n}(c.Component);t.default=w},376:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(14),r=n(11),o=n(12),c=n(1),l=n(20),d=n(92),p=n(420),u=n.n(p),j=n(15),m=n(0),h=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(i.a)(s).state={IsAlertDialogOpen:!1},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"flex1 tsVBox",style:{margin:"10px 0 10px 0"},children:[Object(m.jsxs)(l.a,{component:"div",display:"flex",px:3,pb:2,children:[Object(m.jsx)("div",{style:{margin:"20px 6px 0 0"},children:Object(m.jsx)(u.a,{})}),Object(m.jsx)("div",{style:{margin:"18px 6px 0 0"},children:Object(m.jsxs)("div",{style:{fontSize:"20px"},children:[" ",e.props.moduleInfo.displayTxt," "]})})]}),Object(m.jsxs)("div",{style:{margin:"20px 6px 0 60px"},children:[Object(m.jsx)("b",{children:"Quick useful links"}),Object(m.jsxs)("ul",{style:{lineHeight:2},children:[Object(m.jsx)("li",{children:Object(m.jsx)(d.a,{href:"#/invoice",children:"Create a new Invoice"})}),Object(m.jsx)("li",{children:Object(m.jsx)(d.a,{href:"#/stock-report",children:"Add Stock"})}),Object(m.jsx)("li",{children:Object(m.jsx)(d.a,{href:"#/customer-statement",children:"Generate Customer Statement"})}),Object(m.jsx)("li",{children:Object(m.jsx)(d.a,{href:"#/admin/ManageUserAccount",children:"Manage User Accounts"})}),Object(m.jsx)("li",{children:Object(m.jsx)(d.a,{href:"#/admin",children:"Configure Settings"})})]})]}),Object(m.jsx)(j.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(m.jsx)(m.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),n}(c.Component);t.default=h},471:function(e,t,n){var a={"./":199,"./App":226,"./App.css":329,"./App.js":226,"./admin/pkgBackupAndRestore/frmBackup":203,"./admin/pkgBackupAndRestore/frmBackup.js":203,"./admin/pkgBackupAndRestore/frmRestore":204,"./admin/pkgBackupAndRestore/frmRestore.js":204,"./admin/pkgCustomCustomersFields/tsdlgCustomerFields":162,"./admin/pkgCustomCustomersFields/tsdlgCustomerFields.js":162,"./admin/pkgCustomCustomersFields/tsfrmCstFieldsShell":206,"./admin/pkgCustomCustomersFields/tsfrmCstFieldsShell.js":206,"./admin/pkgCustomProductFields/tsdlgProductFields":163,"./admin/pkgCustomProductFields/tsdlgProductFields.js":163,"./admin/pkgCustomProductFields/tsfrmProductFieldsShell":207,"./admin/pkgCustomProductFields/tsfrmProductFieldsShell.js":207,"./admin/pkgCustomStockFields/tsdlgStockFields":164,"./admin/pkgCustomStockFields/tsdlgStockFields.js":164,"./admin/pkgCustomStockFields/tsfrmStockFieldsShell":208,"./admin/pkgCustomStockFields/tsfrmStockFieldsShell.js":208,"./admin/pkgInvoiceTypes/tsdlgInvoiceType":165,"./admin/pkgInvoiceTypes/tsdlgInvoiceType.js":165,"./admin/pkgInvoiceTypes/tsfrmInvoiceTypeShell":209,"./admin/pkgInvoiceTypes/tsfrmInvoiceTypeShell.js":209,"./admin/pkgManageUserAccount/tsdlgUser":133,"./admin/pkgManageUserAccount/tsdlgUser.js":133,"./admin/pkgManageUserAccount/tsfrmUserAccount":210,"./admin/pkgManageUserAccount/tsfrmUserAccount.js":210,"./admin/pkgProjectDetails/tsfrmProjectForm":211,"./admin/pkgProjectDetails/tsfrmProjectForm.js":211,"./admin/pkgTemplateSelection/tsfrmInvoiceSelection":212,"./admin/pkgTemplateSelection/tsfrmInvoiceSelection.js":212,"./admin/tsclsDataJson":185,"./admin/tsclsDataJson.js":185,"./index":199,"./index.css":328,"./index.js":199,"./logo.svg":479,"./reportWebVitals":236,"./reportWebVitals.js":236,"./reusable/cmpFilters":237,"./reusable/cmpFilters.js":237,"./reusable/tsclsDialog":15,"./reusable/tsclsDialog.js":15,"./reusable/tsclsLoading":51,"./reusable/tsclsLoading.js":51,"./reusable/tscmpChart":238,"./reusable/tscmpChart.js":238,"./reusable/tscmpInvoiceType":54,"./reusable/tscmpInvoiceType.js":54,"./reusable/tscmpProductSelection":234,"./reusable/tscmpProductSelection.js":234,"./reusable/tsfrmCustomerSelectionCntr":106,"./reusable/tsfrmCustomerSelectionCntr.js":106,"./reusable/tsfrmReports":109,"./reusable/tsfrmReports.js":109,"./single/pkgGST/clsGSTUtils":166,"./single/pkgGST/clsGSTUtils.js":166,"./single/pkgGST/frmGSTR1":364,"./single/pkgGST/frmGSTR1.js":364,"./single/pkgInvoice/tplInvoices/tpl.css":279,"./single/pkgInvoice/tplInvoices/tpl1":213,"./single/pkgInvoice/tplInvoices/tpl1.js":213,"./single/pkgInvoice/tplInvoices/tpl2":214,"./single/pkgInvoice/tplInvoices/tpl2.js":214,"./single/pkgInvoice/tsfrmInvoice":230,"./single/pkgInvoice/tsfrmInvoice.js":230,"./single/pkgInvoice/tsfrmInvoiceViewer":235,"./single/pkgInvoice/tsfrmInvoiceViewer.js":235,"./single/pkgInvoice/tsfrmInvoicesShell":365,"./single/pkgInvoice/tsfrmInvoicesShell.js":365,"./single/pkgInvoice/tsfrmProductSelectionCntr":107,"./single/pkgInvoice/tsfrmProductSelectionCntr.js":107,"./single/pkgInvoice/tsfrmSingleInvoice":81,"./single/pkgInvoice/tsfrmSingleInvoice.js":81,"./single/pkgManageCustomers/tplStatement/tpl.css":292,"./single/pkgManageCustomers/tplStatement/tpl1":222,"./single/pkgManageCustomers/tplStatement/tpl1.js":222,"./single/pkgManageCustomers/tsclsStatement":239,"./single/pkgManageCustomers/tsclsStatement.js":239,"./single/pkgManageCustomers/tsdlgCustomers":232,"./single/pkgManageCustomers/tsdlgCustomers.js":232,"./single/pkgManageCustomers/tsfrmCustomerStatement":366,"./single/pkgManageCustomers/tsfrmCustomerStatement.js":366,"./single/pkgManageCustomers/tsfrmCustomersGrid":231,"./single/pkgManageCustomers/tsfrmCustomersGrid.js":231,"./single/pkgManageProducts/tsdlgProducts":242,"./single/pkgManageProducts/tsdlgProducts.js":242,"./single/pkgManageProducts/tsdlgStocks":233,"./single/pkgManageProducts/tsdlgStocks.js":233,"./single/pkgManageProducts/tsfrmProductsGrid":367,"./single/pkgManageProducts/tsfrmProductsGrid.js":367,"./single/pkgManageProducts/tsfrmStocksShell":108,"./single/pkgManageProducts/tsfrmStocksShell.js":108,"./single/pkgPayments/tplPaymentInvoices/tpl.css":294,"./single/pkgPayments/tplPaymentInvoices/tpl1":225,"./single/pkgPayments/tplPaymentInvoices/tpl1.js":225,"./single/pkgPayments/tsfrmPaymentHistory":368,"./single/pkgPayments/tsfrmPaymentHistory.js":368,"./single/pkgPayments/tsfrmPaymentInOut":369,"./single/pkgPayments/tsfrmPaymentInOut.js":369,"./single/pkgPayments/tsfrmPaymentInvoice":243,"./single/pkgPayments/tsfrmPaymentInvoice.js":243,"./single/pkgReports/frmBillWiseProfit":370,"./single/pkgReports/frmBillWiseProfit.js":370,"./single/pkgReports/frmCashflowReport":371,"./single/pkgReports/frmCashflowReport.js":371,"./single/pkgReports/tsfrmDateWiseProfitReport":372,"./single/pkgReports/tsfrmDateWiseProfitReport.js":372,"./single/pkgReports/tsfrmProductSaleReport":373,"./single/pkgReports/tsfrmProductSaleReport.js":373,"./single/pkgReports/tsfrmProductWiseProfitReport":374,"./single/pkgReports/tsfrmProductWiseProfitReport.js":374,"./single/pkgSupplier/tplInvoices/tpl.css":293,"./single/pkgSupplier/tplInvoices/tpl1":223,"./single/pkgSupplier/tplInvoices/tpl1.js":223,"./single/pkgSupplier/tplInvoices/tpl2":224,"./single/pkgSupplier/tplInvoices/tpl2.js":224,"./single/pkgSupplier/tsfrmInvoice":240,"./single/pkgSupplier/tsfrmInvoice.js":240,"./single/pkgSupplier/tsfrmInvoiceViewer":241,"./single/pkgSupplier/tsfrmInvoiceViewer.js":241,"./single/pkgSupplier/tsfrmInvoicesShell":375,"./single/pkgSupplier/tsfrmInvoicesShell.js":375,"./single/pkgSupplier/tsfrmProductSelectionCntr":111,"./single/pkgSupplier/tsfrmProductSelectionCntr.js":111,"./single/pkgSupplier/tsfrmSingleInvoice":110,"./single/pkgSupplier/tsfrmSingleInvoice.js":110,"./single/tsfrmHome":376,"./single/tsfrmHome.js":376,"./theme":102,"./theme.js":102,"./tsclsGenConstants":8,"./tsclsGenConstants.js":8,"./tsclsGenUtils":2,"./tsclsGenUtils.js":2,"./tsclsHome":167,"./tsclsHome.js":167,"./tsframAppBar":227,"./tsframAppBar.js":227,"./tsframMenu":228,"./tsframMenu.js":228,"./tsfrmLogin":244,"./tsfrmLogin.js":244,"./tsfrmSinglePg":229,"./tsfrmSinglePg.js":229};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=471},477:function(e,t,n){var a={"./tpl.css":279,"./tpl1":213,"./tpl1.js":213,"./tpl2":214,"./tpl2.js":214};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=477},478:function(e,t,n){var a={"./pkgBackupAndRestore/frmBackup":203,"./pkgBackupAndRestore/frmBackup.js":203,"./pkgBackupAndRestore/frmRestore":204,"./pkgBackupAndRestore/frmRestore.js":204,"./pkgCustomCustomersFields/tsdlgCustomerFields":162,"./pkgCustomCustomersFields/tsdlgCustomerFields.js":162,"./pkgCustomCustomersFields/tsfrmCstFieldsShell":206,"./pkgCustomCustomersFields/tsfrmCstFieldsShell.js":206,"./pkgCustomProductFields/tsdlgProductFields":163,"./pkgCustomProductFields/tsdlgProductFields.js":163,"./pkgCustomProductFields/tsfrmProductFieldsShell":207,"./pkgCustomProductFields/tsfrmProductFieldsShell.js":207,"./pkgCustomStockFields/tsdlgStockFields":164,"./pkgCustomStockFields/tsdlgStockFields.js":164,"./pkgCustomStockFields/tsfrmStockFieldsShell":208,"./pkgCustomStockFields/tsfrmStockFieldsShell.js":208,"./pkgInvoiceTypes/tsdlgInvoiceType":165,"./pkgInvoiceTypes/tsdlgInvoiceType.js":165,"./pkgInvoiceTypes/tsfrmInvoiceTypeShell":209,"./pkgInvoiceTypes/tsfrmInvoiceTypeShell.js":209,"./pkgManageUserAccount/tsdlgUser":133,"./pkgManageUserAccount/tsdlgUser.js":133,"./pkgManageUserAccount/tsfrmUserAccount":210,"./pkgManageUserAccount/tsfrmUserAccount.js":210,"./pkgProjectDetails/tsfrmProjectForm":211,"./pkgProjectDetails/tsfrmProjectForm.js":211,"./pkgTemplateSelection/tsfrmInvoiceSelection":212,"./pkgTemplateSelection/tsfrmInvoiceSelection.js":212,"./tsclsDataJson":185,"./tsclsDataJson.js":185};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=478},479:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.6ce24c58.svg"},51:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(423),l=n(426),d=n(429),p=n(310),u=n(0),j=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"pvtGetLoadingCmp",value:function(){return Object(u.jsx)(c.a,{})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(l.a,{open:e.props.PIsLoading,children:[Object(u.jsx)(d.a,{children:Object(u.jsx)("span",{style:{fontSize:15},children:e.props.PLoadingText||"Loading, please wait..."})}),Object(u.jsx)(p.a,{className:"tsVBox",style:{margin:"0 0 20px 0",minWidth:"400px"},children:e.pvtGetLoadingCmp()})]})}}]),n}(o.Component);t.default=j},54:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(10),i=n(11),r=n(12),o=n(1),c=n(39),l=n(65),d=n(85),p=n(80),u=n(8),j=n(2),m=n(0),h=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(j.tsGetFromLocalStorage)("tsLastSelectedInvoiceType");if(!1===Object(j.isEmpty)(t))e.pvtHandleOnChange(t);else{var n=Object(j.tsGetInvoiceTypes)(e.props.PCanShowSystemTypes||!1)||[];n.length>0&&e.pvtHandleOnChange(n[0].ACT_CODE)}}},{key:"pvtGetItems",value:function(){var e=this,t=[];return(Object(j.tsGetInvoiceTypes)(e.props.PCanShowSystemTypes||!1)||[]).forEach((function(n,a){0===a&&!0===e.props.CanAddPsudoNode&&t.push(Object(m.jsx)(c.a,{value:Object(u.GenConstants)().PSUDO_INVOICE_TYPE_ALL,children:"All"},n.PSUDO_INVOICE_TYPE_ALL+"-key")),t.push(Object(m.jsx)(c.a,{value:n.ACT_CODE,children:n.NAME},n.ACT_CODE+"-key"))})),t}},{key:"pvtHandleOnChange",value:function(e){this.props.OnChange(e),Object(j.tsIsInvoiceByType)(e)&&Object(j.tsSaveInLocalStorage)("tsLastSelectedInvoiceType",e)}},{key:"render",value:function(){var e=this;return Object(m.jsxs)(l.a,{style:{margin:"-20px 0 0 0",width:"200px"},children:[Object(m.jsx)(d.a,{children:e.props.EmptyText}),Object(m.jsx)(p.a,{value:e.props.Value,onChange:function(t){e.pvtHandleOnChange(t.target.value)},children:e.pvtGetItems()})]})}}]),n}(o.Component);t.default=h},611:function(e,t,n){var a={"./tpl.css":292,"./tpl1":222,"./tpl1.js":222};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=611},612:function(e,t,n){var a={"./tpl.css":293,"./tpl1":223,"./tpl1.js":223,"./tpl2":224,"./tpl2.js":224};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=612},613:function(e,t,n){var a={"./tpl.css":294,"./tpl1":225,"./tpl1.js":225};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=613},8:function(e,t,n){"use strict";function a(){return{CUSTOMER_CSTM_FIELDS:"customerFields",PRODUCT_CSTM_FIELDS:"productFields",STOCK_CSTM_FIELDS:"stockFields",SYSTEM_FIELD:"SYSTEM_FIELD",FIELD_TEXT:"Text",FIELD_NUMBER:"Number",FIELD_DATE:"Date",GST_FIELD:"GST_FIELD",STATE_FIELD:"STATE_FIELD",PESTICIDES:"Pesticides",PESTICIDE_SINGULAR_NAME:"Pesticide",PESTICIDE_ACT_CODE:"actInventory",FERTILZERS:"Fertilizers",FERTILZER_SINGULAR_NAME:"Fertilizer",FERTILZER_ACT_CODE:"actFetilizer",OTHER_IT:"Other",OTHER_IT_SINGULAR_NAME:"Other",OTHER_IT_ACT_CODE:"actOther",SEEDS:"Seeds",SEED_SINGULAR_NAME:"Seed",SEED_ACT_CODE:"actSeed",PSUDO_INVOICE_TYPE_ALL:-1,PAYMENT_OUT:"Payment Debit",PAYMENT_OUT_ACT_CODE:"actPaymentOut",PAYMENT_IN:"Payment Credit",PAYMENT_IN_ACT_CODE:"actPaymentIn",GSTR1:"GSTR-1",B2B:"B2B",B2CL:"B2CL",B2CS:"B2CS",CDNR:"CDNR",CDNUR:"CDNUR",EXP:"EXP",HSN:"HSN",ITEM_WISE_SALE:"ITEM WISE SALE",ITEM_WISE_SALE_RETURN:"ITEM WISE SALE RETURN",ITEM_SUMMARY:"ITEM SUMMARY",IGST:"IGST",CSGST:"CSGST",CGST:"CGST",SGST:"SGST"}}n.r(t),n.d(t,"GenConstants",(function(){return a}))},81:function(e,t,n){"use strict";n.r(t);var a=n(61),s=n(9),i=n(10),r=n(14),o=n(11),c=n(12),l=n(1),d=n.n(l),p=n(92),u=n(16),j=n(15),m=n(41),h=n.n(m),v=n(2),O=n(8),f=n(230),b=n(235),g=n(0),x=function(e){Object(o.a)(l,e);var t=Object(c.a)(l);function l(e){var n;Object(s.a)(this,l),n=t.call(this,e);var a=Object(r.a)(n);return a.state={IsAlertDialogOpen:!1,SIsDialogLoading:!1,SProductsArr:[],SPaymentFields:{},SCustomerData:{},SInvoiceTpl:Object(g.jsx)(g.Fragment,{})},a.FWarningText="",a.FInvoiceRef=d.a.createRef(),a.FProjectDataFetchedForActCode="",n}return Object(i.a)(l,[{key:"componentDidMount",value:function(){this.pvtDefineProperties()}},{key:"pvtDefineProperties",value:function(){var e=this,t=e.props.PSelectedRecord||{};if(e.FIsReadOnly=e.props.PIsReadOnlyMode,e.FInvoiceRecord=t,!0===Object(v.isEmpty)(e.FIsReadOnly)&&(e.FIsReadOnly=!0),!1===Object(v.isEmpty)(t.invoiceType)&&!1===Object(v.isEmpty)(t.invoiceNo))return e.pvtFetchPaymentDetails(t.invoiceType,t.invoiceNo),void e.pvtFetchInvoicesProductByTypeAndId(t.invoiceType,t.invoiceNo);e.pvtFetchInvoice()}},{key:"pvtFetchInvoice",value:function(){var e=this,t=e.props.match&&e.props.match.params||e.props.PInvoiceNoAndType||{},n=Object(v.BaseUrl)()+"invoices/singleInvoice/type/"+t.invoiceType+"/invoiceNo/"+t.invoiceNo,a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()}};fetch(n,a).then((function(e){return e.json()})).then((function(t){if(!1===t.status)return e.FWarningText=t.message,void e.setState({IsAlertDialogOpen:!0});e.FInvoiceRecord=t||{},e.pvtFetchPaymentDetails(t.invoiceType,t.invoiceNo)}),(function(t){e.FWarningText=t.message,e.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchPaymentDetails",value:function(e,t){var n,a=this;e=e||a.state.SInvoiceType,!1===Object(v.isEmpty)(e)&&e!==Object(O.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(n=Object(v.BaseUrl)()+"payments/type/"+e+"/invoiceNo/"+t+"/isPurchaserInvoice/0"),a.setState({SIsDialogLoading:!0});var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()}};!0!==Object(v.isEmpty)(n)&&fetch(n,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return a.FWarningText=e.message,void a.setState({IsAlertDialogOpen:!0});a.pvtFetchCustomersFields(),a.setState({SPaymentFields:e||{},SIsDialogLoading:!1})}),(function(e){a.FWarningText=e.message,a.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchInvoicesProductByTypeAndId",value:function(e,t){var n=this,a=Object(v.BaseUrl)()+"invoices";e=e||n.state.SInvoiceType,!1===Object(v.isEmpty)(e)&&e!==Object(O.GenConstants)().PSUDO_INVOICE_TYPE_ALL&&(a=Object(v.BaseUrl)()+"invoices/type/"+e+"/invoiceNo/"+t);var s={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()}};n.setState({SIsDialogLoading:!0}),fetch(a,s).then((function(e){return e.json()})).then((function(e){if(!1===e.status)return n.FWarningText=e.message,void n.setState({IsAlertDialogOpen:!0});n.setState({SProductsArr:e||[],SIsDialogLoading:!1})}),(function(e){n.FWarningText=e.message,n.setState({IsAlertDialogOpen:!0})}))}},{key:"pvtFetchCustomersFields",value:function(){var e,t=this,n=this;e=Object(v.BaseUrl)()+"customFields/type/"+Object(O.GenConstants)().CUSTOMER_CSTM_FIELDS;var a={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()}};fetch(e,a).then((function(e){return e.json()})).then((function(e){"error"!==e.status?n.pvtFetchCustomers(e):n.setState({FetchedData:[]})}),(function(e){t.setState({FetchedData:[]})}))}},{key:"pvtFetchCustomers",value:function(e){var t,n=this,a=this,s=a.FInvoiceRecord.cstId;t=Object(v.BaseUrl)()+"customers/"+s;var i={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()}};fetch(t,i).then((function(e){return e.json()})).then((function(t){if("error"!==t.status){var n={cstFields:e,cstFieldValues:t};a.setState({SCustomerData:n})}else a.setState({FetchedData:[]})}),(function(e){n.setState({FetchedData:[]})}))}},{key:"pvtHandleOnClose",value:function(){this.props.OnDialogClose()}},{key:"pvtGetDialogContent",value:function(){var e=this,t=Object(a.a)({},e.FInvoiceRecord);return t.products=t.products||e.state.SProductsArr||[],t.customerData=e.state.SCustomerData||{},Object(v.isEmpty)(t.products)||0===t.products.length||Object(v.isObjEmpty)(e.state.SPaymentFields)||Object(v.isObjEmpty)(t.customerData)?Object(g.jsxs)("div",{className:"tsMiddle tsVBox tsHelpText",children:[Object(g.jsx)("div",{children:"Invoice not found for showing this template,"}),Object(g.jsxs)("div",{children:["Kindly ",Object(g.jsx)(p.a,{href:"#/invoice",children:"create a new Invoice"})," to view this template."]})]}):(t.creditedAmount=e.state.SPaymentFields.credit+e.state.SPaymentFields.total,0===e.state.SPaymentFields.credit&&(t.creditedAmount=e.state.SPaymentFields.total-e.state.SPaymentFields.debit),t.mode=e.state.SPaymentFields.mode,t.remark=e.state.SPaymentFields.remark,!0===e.FIsReadOnly?!0===e.props.PIsDetailedView?Object(g.jsx)(b.default,{PSelectedRecord:t}):(e.pvtLoadTemplate(t),e.state.SInvoiceTpl):Object(g.jsx)(f.default,{PIsOpenInDialog:!0,ref:e.FInvoiceRef,PSelectedRecord:t}))}},{key:"pvtFetchProjectDetails",value:function(e){var t;t=Object(v.BaseUrl)()+"project";var n={method:"GET",headers:{"Content-Type":"application/json",projectid:Object(v.tsGetProjectId)()}};fetch(t,n).then((function(e){return e.json()})).then((function(t){!1!==t.status&&!1===Object(v.isEmpty)(e)&&e(t)}),(function(e){}))}},{key:"pvtLoadTemplate",value:function(e){var t=this,a=t.props.PTplActionCode||t.FProjectDataFetchedForActCode;if(!1!==Object(v.isEmpty)(a)||t.FProjectDataFetchedForActCode!==a){t.pvtFetchProjectDetails((function(s){!0===Object(v.isEmpty)(a)&&(a=s.defaultInvoice),t.FProjectDataFetchedForActCode=a;var i=n(477)("./"+a).default;t.setState({SInvoiceTpl:Object(g.jsx)(i,{PInvoice:e,PProjectData:s,PIsShowingInApp:t.props.PIsShowingInApp||!1})})}))}}},{key:"pvtGetDialogAction",value:function(){var e=this;if(!0!==e.FIsReadOnly)return Object(g.jsx)(u.a,{style:{margin:"0 0 0 10px"},size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(h.a,{}),disableElevation:!0,onClick:function(){e.FInvoiceRef.current.EditInvoice(e.props.OnDialogClose)},children:"Save and Print Invoice"})}},{key:"render",value:function(){var e=this,t=e.props.match&&e.props.match.params||e.props.PInvoiceNoAndType||{},n=e.FInvoiceRecord||{};return!1===Object(v.isEmpty)(t.invoiceType)&&!1===Object(v.isEmpty)(t.invoiceNo)&&!1===Object(v.isEmpty)(n)?e.pvtGetDialogContent():Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.default,{IsDialogOpen:e.props.IsDialogOpen,OnDialogClose:function(){return e.pvtHandleOnClose()},DialogContent:e.pvtGetDialogContent(),DialogActions:e.pvtGetDialogAction(),DialogHeader:Object(v.tsGetInvoiceDispNameByActionCode)(n.invoiceType)+" - Inovice No "+Object(v.tsGetInvoiceDispNoByInvoiceNo)(n.invoiceNo,n.invoiceType),DialogLoading:e.state.SIsDialogLoading,IsWindow:!0}),Object(g.jsx)(j.default,{IsDialogOpen:e.state.IsAlertDialogOpen,OnDialogClose:function(){return e.setState({IsAlertDialogOpen:!1})},DialogContent:e.FWarningText||"",DialogActions:Object(g.jsx)(g.Fragment,{}),DialogHeader:"Warning",IsWindow:!1})]})}}]),l}(l.Component);t.default=x}},[[199,1,2]]]);
//# sourceMappingURL=main.870ebcb2.chunk.js.map